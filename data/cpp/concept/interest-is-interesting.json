{
  "language": "cpp",
  "slug": "interest-is-interesting",
  "docs": {
    "introduction": "# Introduction\r\n\r\n## Loops\r\n\r\nLoops are used to repeatedly execute some logic.\r\nThe two most common types are the `while loop` (indefinite looping) and the `for loop` (definite, or counted looping).\r\nThere is also the `for each` loop, that will come up in a later concept.\r\n\r\n### General Syntax\r\n\r\nThe `for loop` consists of a header and a code block that contains the body of the loop wrapped in curly brackets.\r\nThe header consists of 3 components separated by semicolons `;`: init-statement, condition, and another expression.\r\nEach of these may be empty.\r\n\r\n```cpp\r\nfor (init_statement; condition; expression) {\r\n  some_statement;\r\n}\r\n```\r\n\r\n- The **init_statement** component is code that runs only once before the loop starts.\r\n- The **condition** component must be some expression that evaluates to a `boolean` and controls when the loop should stop.\r\n  The code inside the loop will run as long as this condition evaluates to `true`.\r\n  As soon as this expression evaluates to `false`, no more iterations of the loop will run.\r\n- The **expression** component is some code that will run at the end of each iteration.\r\n\r\nThe `while loop` executes its body as long as its **condition** check is `true`.\r\nThe code snippet below shows how to transform a `for` into a `while loop`.\r\n\r\n```cpp\r\ninit_statement;\r\nwhile(condition) {\r\n    some_statement;\r\n    expression;\r\n}\r\n```\r\n\r\n### Interlude: Increments and Decrements\r\n\r\nWhen working with loops it is often required to add 1 or subtract 1 from a counter variable which keeps track of the iterations.\r\nThis is so common, that the incrementing/decrementing actions have special operators: `++` and `--`.\r\n\r\nThey come in a **prefix** and a **postfix** form.\r\nThe prefix changes the variable before use in the statement and the postfix version afterward.\r\nYou probably want the prefix version most of the time.\r\n\r\n```cpp\r\nint a{3};\r\nint b{--a};\r\n// b is 2, a is now 2\r\nint c{a++};\r\n// c is 2, a is now 3\r\n```\r\n\r\n### For Loops - An example\r\n\r\nThe _init component_ usually sets up a counter variable, the _condition_ checks whether the loop should be continued or stopped and the _post component_ usually increments the counter at the end of each repetition.\r\n\r\n```cpp\r\nint sum{0};\r\nfor (int i{1}; i < 10; ++i) {\r\n  sum += i;\r\n}\r\n```\r\n\r\nThis loop will sum the numbers from `1` to `9` (including `9`).\r\n\r\n### Break and Continue\r\n\r\nInside a loop body, you can use the `break` keyword to stop the execution of the loop entirely:\r\n\r\n```cpp\r\nint sum{2};\r\nwhile(true) {\r\n    sum *= 2;\r\n    if (sum > 1000)\r\n        break;\r\n}\r\n// sum is now 1024\r\n```\r\n\r\nIn contrast, the keyword `continue` only stops the execution of the current iteration and continues with the next one:\r\n\r\n```cpp\r\nint equal_sum{0};\r\nfor (int i{1}; i < 7; ++i) {\r\n  if  (i%2 == 1) {\r\n    continue;\r\n  }\r\n  equal_sum += i;\r\n}\r\n// equal_sum is now 12\r\n```\r\n\r\n~~~~exercism/note\r\nIt is usually easier to understand the logic of the loop, when the use of `break` and `continue` is minimized or entirely avoided.\r\nBoth keywords skip certain sections of the code and make it often more difficult to follow along.\r\n~~~~\r\n",
    "instructions": "# Instructions\r\n\r\nIn this exercise, you'll be working with savings accounts.\r\nEach year, the balance of your savings account is updated based on its interest rate.\r\nThe interest rate your bank gives you depends on the amount of money in your account (its balance):\r\n\r\n- 3.213% for a balance less than `0` dollars (balance gets more negative).\r\n- 0.5% for a balance greater than or equal to `0` dollars, and less than `1000` dollars.\r\n- 1.621% for a balance greater than or equal to `1000` dollars, and less than `5000` dollars.\r\n- 2.475% for a balance greater than or equal to `5000` dollars.\r\n\r\nYou have four tasks, each of which will deal with the balance and its interest rate.\r\n\r\n## 1. Calculate the interest rate\r\n\r\nImplement the `interest_rate` function to calculate the interest rate based on the specified balance:\r\n\r\n```cpp\r\ninterest_rate(200.75);\r\n// => 0.5\r\n```\r\n\r\n## 2. Calculate the interest\r\n\r\nImplement the `yearly_interest` function to calculate the interest based on the specified balance:\r\n\r\n```cpp\r\nyearly_interest(200.75):\r\n// => 1.003750\r\n```\r\n\r\n## 3. Calculate the annual balance update\r\n\r\nImplement the `annual_balance_update` function to calculate the annual balance update, taking into account the interest rate:\r\n\r\n```cpp\r\nannual_balance_update(200.75);\r\n// => 201.75375\r\n```\r\n\r\n## 4. Calculate the years before reaching the desired balance\r\n\r\nImplement the `years_until_desired_balance` function to calculate the minimum number of years required to reach the desired balance, taking into account that each year, interest is added to the balance.\r\nThis means that the balance after one year is: start balance + interest for start balance.\r\nThe balance after the second year is the balance after one year + interest for the balance after one year.\r\nAnd so on, until the current year's balance is greater than or equal to the target balance.\r\n\r\n```cpp\r\ndouble balance {200.75};\r\ndouble targetBalance {214.88};\r\nyears_until_desired_balance(balance, targetBalance)\r\n// => 14\r\n```\r\n\r\nNote that the value returned is an `int`.\r\n",
    "hints": "# Hints\r\n\r\n## 1. Calculate the interest rate\r\n\r\n- You are expected to return a percentage.\r\n\r\n## 2. Calculate the interest\r\n\r\n- When calculating interest, it might be helpful to notice that `interest_rate` returns a percentage.\r\n- You can use the function defined in the previous task (`interest_rate`) to calculate the interest.\r\n\r\n## 3. Calculate the annual balance update\r\n\r\n- When calculating the annual balance update, use the functions that have been defined in the previous steps.\r\n\r\n## 4. Calculate the years before reaching the desired balance\r\n\r\n- To calculate the years, one can keep looping until the desired balance is reached using a [`for`][for] loop.\r\n- There is a special [operator][increment] to increment values by 1.\r\n\r\n[for]: https://www.learncpp.com/cpp-tutorial/introduction-to-loops-and-while-statements/\r\n[increment]: https://www.learncpp.com/cpp-tutorial/increment-decrement-operators-and-side-effects/\r\n"
  },
  "starter_code": {
    "interest_is_interesting.cpp": "// interest_rate returns the interest rate for the provided balance.\r\ndouble interest_rate(double balance) {\r\n    // TODO: Implement the interest_rate function\r\n    return 0.0;\r\n}\r\n\r\n// yearly_interest calculates the yearly interest for the provided balance.\r\ndouble yearly_interest(double balance) {\r\n    // TODO: Implement the yearly_interest function\r\n    return 0.0;\r\n}\r\n\r\n// annual_balance_update calculates the annual balance update, taking into\r\n// account the interest rate.\r\ndouble annual_balance_update(double balance) {\r\n    // TODO: Implement the annual_balance_update function\r\n    return 0.0;\r\n}\r\n\r\n// years_until_desired_balance calculates the minimum number of years required\r\n// to reach the desired balance.\r\nint years_until_desired_balance(double balance, double target_balance) {\r\n    // TODO: Implement the years_until_desired_balance function\r\n    return 0;\r\n}\r\n"
  },
  "tests": {
    "interest_is_interesting_test.cpp": "#include \"interest_is_interesting.cpp\"\r\n#ifdef EXERCISM_TEST_SUITE\r\n#include <catch2/catch.hpp>\r\n#else\r\n#include \"test/catch.hpp\"\r\n#endif\r\n\r\nTEST_CASE(\"Minimal first interest rate\", \"[task_1]\") {\r\n    double balance{0};\r\n    double want{0.5};\r\n    REQUIRE_THAT(interest_rate(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\n#if defined(EXERCISM_RUN_ALL_TESTS)\r\n\r\nTEST_CASE(\"Tiny first interest rate\", \"[task_1]\") {\r\n    double balance{0.000001};\r\n    double want{0.5};\r\n    REQUIRE_THAT(interest_rate(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Maximum first interest rate\", \"[task_1]\") {\r\n    double balance{999.9999};\r\n    double want{0.5};\r\n    REQUIRE_THAT(interest_rate(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Minimal second interest rate\", \"[task_1]\") {\r\n    double balance{1000.0};\r\n    double want{1.621};\r\n    REQUIRE_THAT(interest_rate(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Tiny second interest rate\", \"[task_1]\") {\r\n    double balance{1000.0001};\r\n    double want{1.621};\r\n    REQUIRE_THAT(interest_rate(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Maximum second interest rate\", \"[task_1]\") {\r\n    double balance{4999.9990};\r\n    double want{1.621};\r\n    REQUIRE_THAT(interest_rate(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Minimal third interest rate\", \"[task_1]\") {\r\n    double balance{5000.0000};\r\n    double want{2.475};\r\n    REQUIRE_THAT(interest_rate(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Tiny third interest rate\", \"[task_1]\") {\r\n    double balance{5000.0001};\r\n    double want{2.475};\r\n    REQUIRE_THAT(interest_rate(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Large third interest rate\", \"[task_1]\") {\r\n    double balance{5639998.742909};\r\n    double want{2.475};\r\n    REQUIRE_THAT(interest_rate(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Rate on minimal negative balance\", \"[task_1]\") {\r\n    double balance{-0.000001};\r\n    double want{3.213};\r\n    REQUIRE_THAT(interest_rate(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Rate on small negative balance\", \"[task_1]\") {\r\n    double balance{-0.123};\r\n    double want{3.213};\r\n    REQUIRE_THAT(interest_rate(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Rate on regular negative balance\", \"[task_1]\") {\r\n    double balance{-300.0};\r\n    double want{3.213};\r\n    REQUIRE_THAT(interest_rate(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Rate on large negative balance\", \"[task_1]\") {\r\n    double balance{-152964.231};\r\n    double want{3.213};\r\n    REQUIRE_THAT(interest_rate(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Interest on negative balance\", \"[task_2]\") {\r\n    double balance{-10000.0};\r\n    double want{-321.3};\r\n    REQUIRE_THAT(yearly_interest(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\nTEST_CASE(\"Interest on small balance\", \"[task_2]\") {\r\n    double balance{555.43};\r\n    double want{2.77715};\r\n    REQUIRE_THAT(yearly_interest(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\nTEST_CASE(\"Interest on medium balance\", \"[task_2]\") {\r\n    double balance{4999.99};\r\n    double want{81.0498379};\r\n    REQUIRE_THAT(yearly_interest(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\nTEST_CASE(\"Interest on large balance\", \"[task_2]\") {\r\n    double balance{34600.80};\r\n    double want{856.3698};\r\n    REQUIRE_THAT(yearly_interest(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Annual balance update for empty start balance\", \"[task_3]\") {\r\n    double balance{0.0};\r\n    double want{0.0000};\r\n    REQUIRE_THAT(annual_balance_update(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Annual balance update for small positive start balance\",\r\n          \"[task_3]\") {\r\n    double balance{0.000001};\r\n    double want{0.000001005};\r\n    REQUIRE_THAT(annual_balance_update(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Annual balance update for average positive start balance\",\r\n          \"[task_3]\") {\r\n    double balance{1000.0};\r\n    double want{1016.210000};\r\n    REQUIRE_THAT(annual_balance_update(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Annual balance update for large positive start balance\",\r\n          \"[task_3]\") {\r\n    double balance{1000.2001};\r\n    double want{1016.413343621};\r\n    REQUIRE_THAT(annual_balance_update(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Annual balance update for huge positive start balance\", \"[task_3]\") {\r\n    double balance{898124017.826243404425};\r\n    double want{920352587.2674429417};\r\n    REQUIRE_THAT(annual_balance_update(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Annual balance update for small negative start balance\",\r\n          \"[task_3]\") {\r\n    double balance{-0.123};\r\n    double want{-0.12695199};\r\n    REQUIRE_THAT(annual_balance_update(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Annual balance update for large negative start balance\",\r\n          \"[task_3]\") {\r\n    double balance{-152964.231};\r\n    double want{-157878.97174203};\r\n    REQUIRE_THAT(annual_balance_update(balance),\r\n                 Catch::Matchers::WithinRel(want, 0.000001));\r\n}\r\n\r\nTEST_CASE(\"Years before desired balance for small start balance\", \"[task_4]\") {\r\n    double balance{100.0};\r\n    double target_balance{125.80};\r\n    int want{47};\r\n    REQUIRE(years_until_desired_balance(balance, target_balance) == want);\r\n}\r\nTEST_CASE(\"Years before desired balance for average start balance\",\r\n          \"[task_4]\") {\r\n    double balance{1000.0};\r\n    double target_balance{1100.0};\r\n    int want{6};\r\n    REQUIRE(years_until_desired_balance(balance, target_balance) == want);\r\n}\r\nTEST_CASE(\"Years before desired balance for large start balance\", \"[task_4]\") {\r\n    double balance{8080.80};\r\n    double target_balance{9090.90};\r\n    int want{5};\r\n    REQUIRE(years_until_desired_balance(balance, target_balance) == want);\r\n}\r\nTEST_CASE(\"Years before large difference between start and target balance\",\r\n          \"[task_4]\") {\r\n    double balance{2345.67};\r\n    double target_balance{12345.6789};\r\n    int want{85};\r\n    REQUIRE(years_until_desired_balance(balance, target_balance) == want);\r\n}\r\nTEST_CASE(\"Balance is already above target\", \"[task_4]\") {\r\n    double balance{2345.67};\r\n    double target_balance{2345.0};\r\n    int want{0};\r\n    REQUIRE(years_until_desired_balance(balance, target_balance) == want);\r\n}\r\nTEST_CASE(\"Balance is exactly same as target\", \"[task_4]\") {\r\n    double balance{2345.0};\r\n    double target_balance{2345.0};\r\n    int want{0};\r\n    REQUIRE(years_until_desired_balance(balance, target_balance) == want);\r\n}\r\nTEST_CASE(\"Result balance would be exactly same as target\", \"[task_4]\") {\r\n    double balance{1000.0};\r\n    double target_balance{1032.6827641};\r\n    int want{2};\r\n    REQUIRE(years_until_desired_balance(balance, target_balance) == want);\r\n}\r\n\r\n#endif\r\n"
  }
}
{
  "language": "cpp",
  "slug": "robot-name",
  "docs": {
    "introduction": "",
    "instructions": "# Instructions\r\n\r\nManage robot factory settings.\r\n\r\nWhen a robot comes off the factory floor, it has no name.\r\n\r\nThe first time you turn on a robot, a random name is generated in the format of two uppercase letters followed by three digits, such as RX837 or BC811.\r\n\r\nEvery once in a while we need to reset a robot to its factory settings, which means that its name gets wiped.\r\nThe next time you ask, that robot will respond with a new random name.\r\n\r\nThe names must be random: they should not follow a predictable sequence.\r\nUsing random names means a risk of collisions.\r\nYour solution must ensure that every existing robot has a unique name.\r\n",
    "hints": ""
  },
  "starter_code": {
    "robot_name.cpp": "#include \"robot_name.h\"\r\n\r\nnamespace robot_name {\r\n\r\n// TODO: add your solution here\r\n\r\n}  // namespace robot_name\r\n",
    "robot_name.h": "#pragma once\r\n\r\nnamespace robot_name {\r\n\r\n// TODO: add your solution here\r\n\r\n}  // namespace robot_name\r\n"
  },
  "tests": {
    "robot_name_test.cpp": "#include \"robot_name.h\"\r\n#ifdef EXERCISM_TEST_SUITE\r\n#include <catch2/catch.hpp>\r\n#else\r\n#include \"test/catch.hpp\"\r\n#endif\r\n#include <cctype>\r\n#include <string>\r\n#include <unordered_set>\r\n\r\nusing namespace std;\r\n\r\nnamespace {\r\n// Helper function to check the robot name matches the instructions.\r\n//\r\n// 2 uppercase letters followed by 3 digits.\r\nstatic bool validate_name(const string& name) {\r\n    if (name.length() != 5) return false;\r\n    return isupper(name[0]) && isupper(name[1]) && isdigit(name[2]) &&\r\n           isdigit(name[3]) && isdigit(name[4]);\r\n}\r\n}  // namespace\r\n\r\nTEST_CASE(\"has_a_name\") {\r\n    const robot_name::robot robot;\r\n\r\n    REQUIRE(validate_name(robot.name()));\r\n}\r\n\r\n#if defined(EXERCISM_RUN_ALL_TESTS)\r\nTEST_CASE(\"name_is_the_same_each_time\") {\r\n    const robot_name::robot robot;\r\n\r\n    REQUIRE(robot.name() == robot.name());\r\n}\r\n\r\nTEST_CASE(\"different_robots_have_different_names\") {\r\n    const robot_name::robot robot_one;\r\n    const robot_name::robot robot_two;\r\n\r\n    REQUIRE(robot_one.name() != robot_two.name());\r\n}\r\n\r\nTEST_CASE(\"is_able_to_reset_name\") {\r\n    robot_name::robot robot;\r\n    const auto original_name = robot.name();\r\n\r\n    robot.reset();\r\n\r\n    REQUIRE(original_name != robot.name());\r\n}\r\n\r\nTEST_CASE(\"exhausting_digits_yields_different_names\") {\r\n    robot_name::robot robot;\r\n    unordered_set<string> names;\r\n    names.insert(robot.name());\r\n\r\n    for (int i = 0; i < 1000; ++i) {\r\n        robot.reset();\r\n        REQUIRE(names.count(robot.name()) == 0);\r\n        REQUIRE(validate_name(robot.name()));\r\n        names.insert(robot.name());\r\n    }\r\n}\r\n#endif\r\n"
  }
}
{
  "language": "cpp",
  "slug": "anagram",
  "docs": {
    "introduction": "# Introduction\r\n\r\nAt a garage sale, you find a lovely vintage typewriter at a bargain price!\r\nExcitedly, you rush home, insert a sheet of paper, and start typing away.\r\nHowever, your excitement wanes when you examine the output: all words are garbled!\r\nFor example, it prints \"stop\" instead of \"post\" and \"least\" instead of \"stale.\"\r\nCarefully, you try again, but now it prints \"spot\" and \"slate.\"\r\nAfter some experimentation, you find there is a random delay before each letter is printed, which messes up the order.\r\nYou now understand why they sold it for so little money!\r\n\r\nYou realize this quirk allows you to generate anagrams, which are words formed by rearranging the letters of another word.\r\nPleased with your finding, you spend the rest of the day generating hundreds of anagrams.\r\n",
    "instructions": "# Instructions\r\n\r\nGiven a target word and one or more candidate words, your task is to find the candidates that are anagrams of the target.\r\n\r\nAn anagram is a rearrangement of letters to form a new word: for example `\"owns\"` is an anagram of `\"snow\"`.\r\nA word is _not_ its own anagram: for example, `\"stop\"` is not an anagram of `\"stop\"`.\r\n\r\nThe target word and candidate words are made up of one or more ASCII alphabetic characters (`A`-`Z` and `a`-`z`).\r\nLowercase and uppercase characters are equivalent: for example, `\"PoTS\"` is an anagram of `\"sTOp\"`, but `\"StoP\"` is not an anagram of `\"sTOp\"`.\r\nThe words you need to find should be taken from the candidate words, using the same letter case.\r\n\r\nGiven the target `\"stone\"` and the candidate words `\"stone\"`, `\"tones\"`, `\"banana\"`, `\"tons\"`, `\"notes\"`, and `\"Seton\"`, the anagram words you need to find are `\"tones\"`, `\"notes\"`, and `\"Seton\"`.\r\n",
    "hints": ""
  },
  "starter_code": {
    "anagram.cpp": "#include \"anagram.h\"\r\n\r\nnamespace anagram {\r\n\r\n// TODO: add your solution here\r\n\r\n}  // namespace anagram\r\n",
    "anagram.h": "#pragma once\r\n\r\nnamespace anagram {\r\n\r\n// TODO: add your solution here\r\n\r\n}  // namespace anagram\r\n"
  },
  "tests": {
    "anagram_test.cpp": "#include \"anagram.h\"\r\n#ifdef EXERCISM_TEST_SUITE\r\n#include <catch2/catch.hpp>\r\n#else\r\n#include \"test/catch.hpp\"\r\n#endif\r\n\r\n#include <string>\r\n#include <unordered_set>\r\n\r\nusing namespace std;\r\n\r\n// Anagram exercise test case data version 1.5.0\r\n\r\n// This class is a helper to allow the solution to return any container type. It\r\n// takes an std::unordered_set of expected values and provides a method\r\n// `is_identical_to` that checks if a given container is as expected. Since the\r\n// method is a method template, it works for any container.\r\nclass ExpectedSet {\r\n   public:\r\n    explicit ExpectedSet(std::unordered_set<std::string> e)\r\n        : expected{std::move(e)} {}\r\n\r\n    template <typename Container>\r\n    bool is_identical_to(Container const& container) {\r\n        return std::size(expected) == std::size(container) &&\r\n               std::all_of(std::cbegin(container), std::cend(container),\r\n                           [this](auto const& elem) {\r\n                               return expected.count(elem) == 1;\r\n                           });\r\n    }\r\n\r\n   private:\r\n    std::unordered_set<std::string> expected{};\r\n};\r\n\r\nTEST_CASE(\"no_matches\") {\r\n    // 'anagram::anagram' defines a class\r\n    anagram::anagram subject = anagram::anagram(\"diaper\");\r\n    auto matches = subject.matches({\"hello\", \"world\", \"zombies\", \"pants\"});\r\n    REQUIRE(ExpectedSet({}).is_identical_to(matches));\r\n}\r\n\r\n#if defined(EXERCISM_RUN_ALL_TESTS)\r\nTEST_CASE(\"detects_two_anagrams\",\r\n          \"[findAnagrams][03eb9bbe-8906-4ea0-84fa-ffe711b52c8b]\") {\r\n    auto subject = anagram::anagram(\"solemn\");\r\n    auto matches = subject.matches({\"cherry\", \"melons\", \"lemons\"});\r\n\r\n    REQUIRE(ExpectedSet({\"lemons\", \"melons\"}).is_identical_to(matches));\r\n}\r\n\r\nTEST_CASE(\"does_not_detect_anagram_subsets\",\r\n          \"[findAnagrams][a27558ee-9ba0-4552-96b1-ecf665b06556]\") {\r\n    auto subject = anagram::anagram(\"good\");\r\n    auto matches = subject.matches({\"dog\", \"goody\"});\r\n\r\n    REQUIRE(ExpectedSet({}).is_identical_to(matches));\r\n}\r\n\r\nTEST_CASE(\"detects_anagram\",\r\n          \"[findAnagrams][64cd4584-fc15-4781-b633-3d814c4941a4]\") {\r\n    auto subject = anagram::anagram(\"listen\");\r\n    auto matches = subject.matches({\"enlists\", \"google\", \"inlets\", \"banana\"});\r\n\r\n    REQUIRE(ExpectedSet({\"inlets\"}).is_identical_to(matches));\r\n}\r\n\r\nTEST_CASE(\"detects_three_anagrams\",\r\n          \"[findAnagrams][99c91beb-838f-4ccd-b123-935139917283]\") {\r\n    auto subject = anagram::anagram(\"allergy\");\r\n    auto matches = subject.matches(\r\n        {\"gallery\", \"ballerina\", \"regally\", \"clergy\", \"largely\", \"leading\"});\r\n\r\n    REQUIRE(ExpectedSet({\"gallery\", \"regally\", \"largely\"})\r\n                .is_identical_to(matches));\r\n}\r\n\r\nTEST_CASE(\"detects_multiple_anagrams_with_different_case\",\r\n          \"[findAnagrams][78487770-e258-4e1f-a646-8ece10950d90]\") {\r\n    auto subject = anagram::anagram(\"nose\");\r\n    auto matches = subject.matches({\"Eons\", \"ONES\"});\r\n\r\n    REQUIRE(ExpectedSet({\"Eons\", \"ONES\"}).is_identical_to(matches));\r\n}\r\n\r\nTEST_CASE(\"does_not_detect_non_anagrams_with_identical_checksum\",\r\n          \"[findAnagrams][1d0ab8aa-362f-49b7-9902-3d0c668d557b]\") {\r\n    auto subject = anagram::anagram(\"mass\");\r\n    auto matches = subject.matches({\"last\"});\r\n\r\n    REQUIRE(ExpectedSet({}).is_identical_to(matches));\r\n}\r\n\r\nTEST_CASE(\"detects_anagrams_case_insensitively\",\r\n          \"[findAnagrams][9e632c0b-c0b1-4804-8cc1-e295dea6d8a8]\") {\r\n    auto subject = anagram::anagram(\"Orchestra\");\r\n    auto matches = subject.matches({\"cashregister\", \"Carthorse\", \"radishes\"});\r\n\r\n    REQUIRE(ExpectedSet({\"Carthorse\"}).is_identical_to(matches));\r\n}\r\n\r\nTEST_CASE(\"detects_anagrams_using_case_insensitive_subject\",\r\n          \"[findAnagrams][b248e49f-0905-48d2-9c8d-bd02d8c3e392]\") {\r\n    auto subject = anagram::anagram(\"Orchestra\");\r\n    auto matches = subject.matches({\"cashregister\", \"carthorse\", \"radishes\"});\r\n\r\n    REQUIRE(ExpectedSet({\"carthorse\"}).is_identical_to(matches));\r\n}\r\n\r\nTEST_CASE(\"detects_anagrams_using_case_insensitive_possible_matches\",\r\n          \"[findAnagrams][f367325c-78ec-411c-be76-e79047f4bd54]\") {\r\n    auto subject = anagram::anagram(\"orchestra\");\r\n    auto matches = subject.matches({\"cashregister\", \"Carthorse\", \"radishes\"});\r\n\r\n    REQUIRE(ExpectedSet({\"Carthorse\"}).is_identical_to(matches));\r\n}\r\n\r\nTEST_CASE(\"does_not_detect_an_anagram_if_the_original_word_is_repeated\",\r\n          \"[findAnagrams][630abb71-a94e-4715-8395-179ec1df9f91]\") {\r\n    auto subject = anagram::anagram(\"go\");\r\n    auto matches = subject.matches({\"goGoGO\"});\r\n\r\n    REQUIRE(ExpectedSet({}).is_identical_to(matches));\r\n}\r\n\r\nTEST_CASE(\"anagrams_must_use_all_letters_exactly_once\",\r\n          \"[findAnagrams][9878a1c9-d6ea-4235-ae51-3ea2befd6842]\") {\r\n    auto subject = anagram::anagram(\"tapper\");\r\n    auto matches = subject.matches({\"patter\"});\r\n\r\n    REQUIRE(ExpectedSet({}).is_identical_to(matches));\r\n}\r\n\r\nTEST_CASE(\"words_are_not_anagrams_of_themselves\",\r\n          \"[findAnagrams][68934ed0-010b-4ef9-857a-20c9012d1ebf]\") {\r\n    auto subject = anagram::anagram(\"BANANA\");\r\n    auto matches = subject.matches({\"BANANA\"});\r\n\r\n    REQUIRE(ExpectedSet({}).is_identical_to(matches));\r\n}\r\n\r\nTEST_CASE(\r\n    // clang-format off\r\n    \"words_are_not_anagrams_of_themselves_even_if_letter_case_is_partially_different\",\r\n    // clang-format on\r\n    \"[findAnagrams][589384f3-4c8a-4e7d-9edc-51c3e5f0c90e]\") {\r\n    auto subject = anagram::anagram(\"BANANA\");\r\n    auto matches = subject.matches({\"Banana\"});\r\n\r\n    REQUIRE(ExpectedSet({}).is_identical_to(matches));\r\n}\r\n\r\nTEST_CASE(\r\n    // clang-format off\r\n    \"words_are_not_anagrams_of_themselves_even_if_letter_case_is_completely_different\",\r\n    // clang-format on\r\n    \"[findAnagrams][ba53e423-7e02-41ee-9ae2-71f91e6d18e6]\") {\r\n    auto subject = anagram::anagram(\"BANANA\");\r\n    auto matches = subject.matches({\"banana\"});\r\n\r\n    REQUIRE(ExpectedSet({}).is_identical_to(matches));\r\n}\r\n\r\nTEST_CASE(\"words_other_than_themselves_can_be_anagrams\",\r\n          \"[findAnagrams][33d3f67e-fbb9-49d3-a90e-0beb00861da7]\") {\r\n    auto subject = anagram::anagram(\"LISTEN\");\r\n    auto matches = subject.matches({\"Silent\", \"LISTEN\"});\r\n\r\n    REQUIRE(ExpectedSet({\"Silent\"}).is_identical_to(matches));\r\n}\r\n#endif\r\n"
  }
}
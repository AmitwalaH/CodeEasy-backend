{
  "language": "cpp",
  "slug": "crypto-square",
  "docs": {
    "introduction": "",
    "instructions": "# Instructions\r\n\r\nImplement the classic method for composing secret messages called a square code.\r\n\r\nGiven an English text, output the encoded version of that text.\r\n\r\nFirst, the input is normalized: the spaces and punctuation are removed from the English text and the message is down-cased.\r\n\r\nThen, the normalized characters are broken into rows.\r\nThese rows can be regarded as forming a rectangle when printed with intervening newlines.\r\n\r\nFor example, the sentence\r\n\r\n```text\r\n\"If man was meant to stay on the ground, god would have given us roots.\"\r\n```\r\n\r\nis normalized to:\r\n\r\n```text\r\n\"ifmanwasmeanttostayonthegroundgodwouldhavegivenusroots\"\r\n```\r\n\r\nThe plaintext should be organized into a rectangle as square as possible.\r\nThe size of the rectangle should be decided by the length of the message.\r\n\r\nIf `c` is the number of columns and `r` is the number of rows, then for the rectangle `r` x `c` find the smallest possible integer `c` such that:\r\n\r\n- `r * c >= length of message`,\r\n- and `c >= r`,\r\n- and `c - r <= 1`.\r\n\r\nOur normalized text is 54 characters long, dictating a rectangle with `c = 8` and `r = 7`:\r\n\r\n```text\r\n\"ifmanwas\"\r\n\"meanttos\"\r\n\"tayonthe\"\r\n\"groundgo\"\r\n\"dwouldha\"\r\n\"vegivenu\"\r\n\"sroots  \"\r\n```\r\n\r\nThe coded message is obtained by reading down the columns going left to right.\r\n\r\nThe message above is coded as:\r\n\r\n```text\r\n\"imtgdvsfearwermayoogoanouuiontnnlvtwttddesaohghnsseoau\"\r\n```\r\n\r\nOutput the encoded text in chunks that fill perfect rectangles `(r X c)`, with `c` chunks of `r` length, separated by spaces.\r\nFor phrases that are `n` characters short of the perfect rectangle, pad each of the last `n` chunks with a single trailing space.\r\n\r\n```text\r\n\"imtgdvs fearwer mayoogo anouuio ntnnlvt wttddes aohghn  sseoau \"\r\n```\r\n\r\nNotice that were we to stack these, we could visually decode the ciphertext back in to the original message:\r\n\r\n```text\r\n\"imtgdvs\"\r\n\"fearwer\"\r\n\"mayoogo\"\r\n\"anouuio\"\r\n\"ntnnlvt\"\r\n\"wttddes\"\r\n\"aohghn \"\r\n\"sseoau \"\r\n```\r\n",
    "hints": ""
  },
  "starter_code": {
    "crypto_square.cpp": "#include \"crypto_square.h\"\r\n\r\nnamespace crypto_square {\r\n\r\n// TODO: add your solution here\r\n\r\n}  // namespace crypto_square\r\n",
    "crypto_square.h": "#pragma once\r\n\r\nnamespace crypto_square {\r\n\r\n// TODO: add your solution here\r\n\r\n}  // namespace crypto_square\r\n"
  },
  "tests": {
    "crypto_square_test.cpp": "#include \"crypto_square.h\"\r\n#ifdef EXERCISM_TEST_SUITE\r\n#include <catch2/catch.hpp>\r\n#else\r\n#include \"test/catch.hpp\"\r\n#endif\r\n\r\nTEST_CASE(\"empty plaintext results in an empty ciphertext\",\r\n          \"[407c3837-9aa7-4111-ab63-ec54b58e8e9f]\") {\r\n    REQUIRE(\"\" == crypto_square::cipher(\"\").normalized_cipher_text());\r\n}\r\n\r\n#if defined(EXERCISM_RUN_ALL_TESTS)\r\nTEST_CASE(\"normalization results in empty plaintext\",\r\n          \"[aad04a25-b8bb-4304-888b-581bea8e0040]\") {\r\n    REQUIRE(\"\" ==\r\n            crypto_square::cipher(\"... --- ...\").normalized_cipher_text());\r\n}\r\n\r\nTEST_CASE(\"Lowercase\", \"[64131d65-6fd9-4f58-bdd8-4a2370fb481d]\") {\r\n    REQUIRE(\"a\" == crypto_square::cipher(\"A\").normalized_cipher_text());\r\n}\r\n\r\nTEST_CASE(\"Remove spaces\", \"[63a4b0ed-1e3c-41ea-a999-f6f26ba447d6]\") {\r\n    REQUIRE(\"b\" == crypto_square::cipher(\"  b \").normalized_cipher_text());\r\n}\r\n\r\nTEST_CASE(\"Remove punctuation\", \"[1b5348a1-7893-44c1-8197-42d48d18756c]\") {\r\n    REQUIRE(\"1\" == crypto_square::cipher(\"@1,%!\").normalized_cipher_text());\r\n}\r\n\r\nTEST_CASE(\"9 character plaintext results in 3 chunks of 3 characters\",\r\n          \"[8574a1d3-4a08-4cec-a7c7-de93a164f41a]\") {\r\n    REQUIRE(\"tsf hiu isn\" ==\r\n            crypto_square::cipher(\"This is fun!\").normalized_cipher_text());\r\n}\r\n\r\nTEST_CASE(\r\n    // clang-format off\r\n    \"8 character plaintext results in 3 chunks, the last one with a trailing space\",\r\n    // clang-format on\r\n    \"[a65d3fa1-9e09-43f9-bcec-7a672aec3eae]\") {\r\n    REQUIRE(\"clu hlt io \" ==\r\n            crypto_square::cipher(\"Chill out.\").normalized_cipher_text());\r\n}\r\n\r\nTEST_CASE(\r\n    // clang-format off\r\n    \"54 character plaintext results in 7 chunks, the last two with trailing spaces\",\r\n    // clang-format on\r\n    \"[fbcb0c6d-4c39-4a31-83f6-c473baa6af80]\") {\r\n    REQUIRE(\"imtgdvs fearwer mayoogo anouuio ntnnlvt wttddes aohghn  sseoau \" ==\r\n            crypto_square::cipher(\"If man was meant to stay on the ground, god \"\r\n                                  \"would have given us roots.\")\r\n                .normalized_cipher_text());\r\n}\r\n#endif\r\n"
  }
}
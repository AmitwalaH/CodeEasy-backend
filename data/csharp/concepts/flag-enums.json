{
  "language": "csharp",
  "slug": "flag-enums",
  "title": "Flag Enums",
  "docs": {
    "about": "# About\r\n\r\nTo allow a single enum instance to represent multiple values (usually referred to as _flags_), one can annotate the enum with the `[Flags]` attribute. By carefully assigning the values of the enum members such that specific bits are set to `1`, bitwise operators can be used to set or unset flags.\r\n\r\n```csharp\r\n[Flags]\r\nenum PhoneFeatures\r\n{\r\n    Call = 1,\r\n    Text = 2\r\n}\r\n```\r\n\r\nBesides using regular integers to set the flag enum members' values, one can also use [binary literals or the bitwise shift operator][binary-literals].\r\n\r\n```csharp\r\n[Flags]\r\nenum PhoneFeaturesBinary\r\n{\r\n    Call = 0b00000001,\r\n    Text = 0b00000010\r\n}\r\n\r\n[Flags]\r\nenum PhoneFeaturesBitwiseShift\r\n{\r\n    Call = 1 << 0,\r\n    Text = 1 << 1\r\n}\r\n```\r\n\r\nAn enum member's value can refer to other enum members values:\r\n\r\n```csharp\r\n[Flags]\r\nenum PhoneFeatures\r\n{\r\n    Call = 0b00000001,\r\n    Text = 0b00000010,\r\n    All  = Call | Text\r\n}\r\n```\r\n\r\nSetting a flag can be done through the [bitwise OR operator][or-operator] (`|`) and unsetting a flag through a combination of the [bitwise AND operator][and-operator] (`&`) and the [bitwise complement operator][bitwise-complement-operator] (`~`). While checking for a flag can be done through the bitwise AND operator, one can also use the enum's [`HasFlag()` method][has-flag].\r\n\r\n```csharp\r\nvar features = PhoneFeatures.Call;\r\n\r\n// Set the Text flag\r\nfeatures = features | PhoneFeatures.Text;\r\n\r\nfeatures.HasFlag(PhoneFeatures.Call); // => true\r\nfeatures.HasFlag(PhoneFeatures.Text); // => true\r\n\r\n// Unset the Call flag\r\nfeatures = features & ~PhoneFeatures.Call;\r\n\r\nfeatures.HasFlag(PhoneFeatures.Call); // => false\r\nfeatures.HasFlag(PhoneFeatures.Text); // => true\r\n```\r\n\r\nThe [working with enums as bit flags tutorial][docs.microsoft.com-enumeration-types-as-bit-flags] goes into more detail how to work with flag enums. Another great resource is the [enum flags and bitwise operators page][enum-lags].\r\n\r\nBy default, the `int` type is used for enum member values. One can use a different integer type by specifying the type in the enum declaration:\r\n\r\n```csharp\r\n[Flags]\r\nenum PhoneFeatures : byte\r\n{\r\n    Call = 0b00000001,\r\n    Text = 0b00000010\r\n}\r\n```\r\n\r\n[docs.microsoft.com-enumeration-types-as-bit-flags]: https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/enumeration-types#enumeration-types-as-bit-flags\r\n[or-operator]: https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators#logical-or-operator-\r\n[and-operator]: https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators#logical-and-operator-\r\n[bitwise-complement-operator]: https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators#bitwise-complement-operator-\r\n[binary-literals]: https://riptutorial.com/csharp/example/6327/binary-literals\r\n[has-flag]: https://docs.microsoft.com/en-us/dotnet/api/system.enum.hasflag\r\n[enum-lags]: alanzucconi.com-enum-flags-and-bitwise-operators\r\n",
    "introduction": "# Introduction\r\n\r\nThe C# [`enum` type](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/enum) represents a fixed set of named constants (an enumeration).\r\n\r\nNormally, one `enum` member can only refer to exactly one of those named constants. However, sometimes it is useful to refer to more than one constant. To do so, one can annotate the `enum` with the [`Flags` attribute](https://docs.microsoft.com/en-us/dotnet/api/system.flagsattribute)\r\n\r\nA flags enum can be defined as follows (using binary integer notation `0b`):\r\n\r\n```csharp\r\n[Flags]\r\nenum PhoneFeatures\r\n{\r\n    Call = 0b00000001,\r\n    Text = 0b00000010\r\n}\r\n```\r\n\r\nA `PhoneFeatures` instance which value is `0b00000011` has both its `Call` _and_ `Text` flags set.\r\n\r\nBy default, the `int` type is used for enum member values. One can use a different integer type by specifying the type in the enum declaration:\r\n\r\n```csharp\r\n[Flags]\r\nenum PhoneFeatures : byte\r\n{\r\n    Call = 0b00000001,\r\n    Text = 0b00000010\r\n}\r\n```\r\n"
  },
  "links": [
    {
      "url": "https://riptutorial.com/csharp/example/6327/binary-literals",
      "description": "Binary literals"
    },
    {
      "url": "https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators#logical-or-operator-",
      "description": "Bitwise and shift operators"
    },
    {
      "url": "https://docs.microsoft.com/en-us/dotnet/api/system.enum.hasflag?view=net-6.0",
      "description": "Enum.HasFlag method"
    },
    {
      "url": "https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/enumeration-types#enumeration-types-as-bit-flags",
      "description": "Enums as bit flags"
    },
    {
      "url": "https://www.alanzucconi.com/2015/07/26/enum-flags-and-bitwise-operators/",
      "description": "alanzucconi.com bitwise operators"
    }
  ]
}
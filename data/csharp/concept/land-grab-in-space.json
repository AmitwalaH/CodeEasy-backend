{
  "language": "csharp",
  "slug": "land-grab-in-space",
  "docs": {
    "introduction": "# Introduction\r\n\r\n## Structs\r\n\r\nC# `struct`s are closely related to `class`es. They have state and behavior. They have constructors that take arguments, instances can be assigned, tested for equality and stored in collections.\r\n\r\n```csharp\r\nenum Unit\r\n{\r\n    Kg,\r\n    Lb\r\n}\r\nstruct Weight\r\n{\r\n    private double count;\r\n    private Unit unit;\r\n\r\n    public Weight(double count, Unit unit)\r\n    {\r\n        this.count = count;\r\n        this.unit = unit;\r\n    }\r\n\r\n    public override string ToString()\r\n    {\r\n        return count.ToString() + unit.ToString();\r\n    }\r\n}\r\n\r\nnew Weight(77.5, Unit.Kg).ToString();\r\n// => \"77.6Kg\"\r\n```\r\n",
    "instructions": "# Instructions\r\n\r\nYou have been tasked by the claims department of Isaacs Asteroid Exploration Co. to improve the performance of their land claim system.\r\n\r\nEvery time a new asteroid is ready for exploitation speculators are invited to stake their claim to a plot of land. The asteroid's land is divided into 4 sided plots. Speculators claim the land by specifying its dimensions.\r\n\r\nYour goal is to develop a performant system to handle the land rush that has in the past caused the website to crash.\r\n\r\nThe unit of measure is 100 meters but can be ignored in these tasks.\r\n\r\n## 1. Define a Plot\r\n\r\nComplete the implementation of the `Plot` struct which comprises 4 coord structs (which it accepts in its constructor).\r\n\r\n## 2. Speculators can stake their claim by specifying a plot identified by its dimensions\r\n\r\nImplement the `ClaimsHandler.StakeClaim()` method to allow a claim to be registered.\r\n\r\nImplement the `ClaimsHandler.IsClaimStaked()` method to determine whether a claim has been staked.\r\n\r\n```csharp\r\nvar ch = new ClaimsHandler();\r\nch.StakeClaim(new Plot(new Coord(1,1), new Coord(2,1), new Coord(1,2), new Coord(2,2)));\r\nch.IsClaimStaked(new Plot(new Coord(1,1), new Coord(2,1), new Coord(1,2), new Coord(2,2)));\r\n// => true\r\n```\r\n\r\n## 3. Check whether the current claim is the same as the last one.\r\n\r\nImplement the `ClaimsHandler.IsLastClaim()` method to compare the current claim with the previous one.\r\n\r\n```csharp\r\nvar ch = new ClaimsHandler();\r\nch.StakeClaim(new Plot(new Coord(1,1), new Coord(2,1), new Coord(1,2), new Coord(2,2)));\r\nch.IsLastClaim(new Plot(new Coord(1,1), new Coord(2,1), new Coord(1,2), new Coord(2,2)));\r\n// => true\r\n```\r\n\r\n## 4. Find the plot claimed that has the longest side for research purposes\r\n\r\nImplement the `ClaimsHandler.GetClaimWithLongestSide()` method to examine all registered claims and return the plot with the longest side. The coordinate data in a plot is guaranteed to be in a contiguous rectangular shape.\r\n\r\n```csharp\r\nvar ch = new ClaimsHandler();\r\nch.StakeClaim(new Plot(new Coord(1,1), new Coord(2,1), new Coord(1,2), new Coord(2,2)));\r\nch.StakeClaim(new Plot(new Coord(10,1), new Coord(20,1), new Coord(10,2), new Coord(20,2)));\r\nch.GetClaimWithLongestSide();\r\n// => new Plot(new Coord(1,1), new Coord(20,1), new Coord(1,2), new Coord(2,2))\r\n```\r\n",
    "hints": "# Hints\r\n\r\n## General\r\n\r\n- [structs][structs]: introduction to structs.\r\n\r\n## 1. Define a Plot\r\n\r\n- This [article][struct-instantiation] discusses instantiating a `struct`.\r\n\r\n## 2. Speculators can stake their claim by specifying a plot identified by its dimensions\r\n\r\n- Hash codes are discussed [here][get-hash-code].\r\n- Sets are discussed [here][sets].\r\n\r\n## 3. Check whether the current claim is the same as the last one.\r\n\r\n- Object equality is discussed in this [article][equals]\r\n\r\n[structs]: https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/struct\r\n[struct-instantiation]: https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/struct#instantiation-of-a-structure-type\r\n[get-hash-code]: https://docs.microsoft.com/en-us/dotnet/api/system.object.gethashcode\r\n[sets]: https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.hashset-1\r\n[equals]: https://docs.microsoft.com/en-us/dotnet/api/system.object.equals\r\n"
  },
  "starter_code": {
    "LandGrabInSpace.cs": "public struct Coord\r\n{\r\n    public Coord(ushort x, ushort y)\r\n    {\r\n        X = x;\r\n        Y = y;\r\n    }\r\n\r\n    public ushort X { get; }\r\n    public ushort Y { get; }\r\n}\r\n\r\npublic struct Plot\r\n{\r\n    // TODO: Complete implementation of the Plot struct\r\n}\r\n\r\n\r\npublic class ClaimsHandler\r\n{\r\n    public void StakeClaim(Plot plot)\r\n    {\r\n        throw new NotImplementedException(\"Please implement the ClaimsHandler.StakeClaim() method\");\r\n    }\r\n\r\n    public bool IsClaimStaked(Plot plot)\r\n    {\r\n        throw new NotImplementedException(\"Please implement the ClaimsHandler.IsClaimStaked() method\");\r\n    }\r\n\r\n    public bool IsLastClaim(Plot plot)\r\n    {\r\n        throw new NotImplementedException(\"Please implement the ClaimsHandler.IsLastClaim() method\");\r\n    }\r\n\r\n    public Plot GetClaimWithLongestSide()\r\n    {\r\n        throw new NotImplementedException(\"Please implement the ClaimsHandler.GetClaimWithLongestSide() method\");\r\n    }\r\n}\r\n"
  },
  "tests": {
    "LandGrabInSpaceTests.cs": "using System.Reflection;\r\n\r\nusing Exercism.Tests;\r\n\r\npublic class LandGrabInSpaceTests\r\n{\r\n    [Fact]\r\n    [Task(2)]\r\n    public void IsClaimed_yes()\r\n    {\r\n        var ch = new ClaimsHandler();\r\n        ch.StakeClaim(CreatePlot(new Coord(1, 1), new Coord(2, 1), new Coord(1, 2), new Coord(2, 2)));\r\n        var claimed = ch.IsClaimStaked(CreatePlot(new Coord(1, 1), new Coord(2, 1), new Coord(1, 2), new Coord(2, 2)));\r\n        Assert.True(claimed);\r\n    }\r\n\r\n    [Fact]\r\n    [Task(2)]\r\n    public void IsClaimed_no()\r\n    {\r\n        var ch = new ClaimsHandler();\r\n        ch.StakeClaim(CreatePlot(new Coord(1, 1), new Coord(2, 1), new Coord(1, 2), new Coord(2, 2)));\r\n        var claimed = ch.IsClaimStaked(CreatePlot(new Coord(1, 0), new Coord(2, 1), new Coord(1, 2), new Coord(2, 2)));\r\n        Assert.False(claimed);\r\n    }\r\n\r\n    [Fact]\r\n    [Task(3)]\r\n    public void IsLastClaim_yes()\r\n    {\r\n        var ch = new ClaimsHandler();\r\n        ch.StakeClaim(CreatePlot(new Coord(1, 1), new Coord(2, 1), new Coord(1, 2), new Coord(2, 2)));\r\n        ch.StakeClaim(CreatePlot(new Coord(10, 1), new Coord(20, 1), new Coord(10, 2), new Coord(20, 2)));\r\n        var lastClaim = ch.IsLastClaim(CreatePlot(new Coord(10, 1), new Coord(20, 1), new Coord(10, 2), new Coord(20, 2)));\r\n        Assert.True(lastClaim);\r\n    }\r\n\r\n    [Fact]\r\n    [Task(3)]\r\n    public void IsLastClaim_no()\r\n    {\r\n        var ch = new ClaimsHandler();\r\n        ch.StakeClaim(CreatePlot(new Coord(10, 1), new Coord(20, 1), new Coord(10, 2), new Coord(20, 2)));\r\n        ch.StakeClaim(CreatePlot(new Coord(1, 1), new Coord(2, 1), new Coord(1, 2), new Coord(2, 2)));\r\n        var lastClaim = ch.IsLastClaim(CreatePlot(new Coord(10, 1), new Coord(20, 1), new Coord(10, 2), new Coord(20, 2)));\r\n        Assert.False(lastClaim);\r\n    }\r\n\r\n    [Fact]\r\n    [Task(4)]\r\n    public void GetLongestSide()\r\n    {\r\n        var ch = new ClaimsHandler();\r\n        var longer = CreatePlot(new Coord(10, 1), new Coord(20, 1), new Coord(10, 2), new Coord(20, 2));\r\n        var shorter = CreatePlot(new Coord(1, 1), new Coord(2, 1), new Coord(1, 2), new Coord(2, 2));\r\n        ch.StakeClaim(longer);\r\n        ch.StakeClaim(shorter);\r\n        Assert.Equal(longer, ch.GetClaimWithLongestSide());\r\n    }\r\n\r\n    [Fact]\r\n    [Task(4)]\r\n    public void GetLongestSideReverseInsertionOrder()\r\n    {\r\n        var ch = new ClaimsHandler();\r\n        var longer = CreatePlot(new Coord(10, 1), new Coord(20, 1), new Coord(10, 2), new Coord(20, 2));\r\n        var shorter = CreatePlot(new Coord(1, 1), new Coord(2, 1), new Coord(1, 2), new Coord(2, 2));\r\n        ch.StakeClaim(shorter);\r\n        ch.StakeClaim(longer);\r\n        Assert.Equal(longer, ch.GetClaimWithLongestSide());\r\n    }\r\n\r\n    private Plot CreatePlot(Coord coord1, Coord coord2, Coord coord3, Coord coord4)\r\n    {\r\n        Type plotType = typeof(Plot);\r\n        Type[] types = [typeof(Coord), typeof(Coord), typeof(Coord), typeof(Coord)];\r\n        ConstructorInfo? constructorInfoObj = plotType.GetConstructor(types);\r\n        if (constructorInfoObj != null)\r\n        {\r\n            return (Plot)constructorInfoObj.Invoke([coord1, coord2, coord3, coord4]);\r\n        }\r\n\r\n        throw new InvalidOperationException(\"You need to implement a constructor for the struct Plot.  The constructor must take 4 co-ordinates.  No such constructor can be found.\");\r\n    }\r\n}\r\n"
  }
}
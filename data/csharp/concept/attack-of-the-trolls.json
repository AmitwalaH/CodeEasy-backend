{
  "language": "csharp",
  "slug": "attack-of-the-trolls",
  "docs": {
    "introduction": "# Introduction\r\n\r\n## Attributes\r\n\r\nA [C# `Attribute`](https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/attributes/) provides a way to decorate a declaration to associate metadata to: a class, a method, an enum, a field, a property or any [other supported](https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/attributes/#attribute-targets) declarations.\r\n\r\nYou can apply an attribute by adding it on the line before the declaration using a `ClassAttribute` and a `FieldAttribute`:\r\n\r\n```csharp\r\n[Class]\r\nclass MyClass\r\n{\r\n    [Field]\r\n    int myField;\r\n}\r\n```\r\n\r\nThis declarative metadata only associates additional structured information to the code and does not modify its behavior, but that metadata is used by other part of the code to change how its target would behave or add, change or remove, restrict some its functionalities.\r\n\r\nThere are many [predefined and reserved attributes](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/attributes/general#conditional-attribute), for example: `Flags`, `Obsolete`, `Conditional`, and `Experimental`. Each has a specific semantic meaning that can be looked up on the C# documentation. Note that the full name of an attribute like [`Flags`](https://docs.microsoft.com/en-us/dotnet/api/system.flagsattribute) takes the form `<Name>Attribute` (e.g. `FlagsAttribute`).\r\n\r\n## Flag Enums\r\n\r\nThe C# [`enum` type](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/enum) represents a fixed set of named constants (an enumeration).\r\n\r\nNormally, one `enum` member can only refer to exactly one of those named constants. However, sometimes it is useful to refer to more than one constant. To do so, one can annotate the `enum` with the [`Flags` attribute](https://docs.microsoft.com/en-us/dotnet/api/system.flagsattribute)\r\n\r\nA flags enum can be defined as follows (using binary integer notation `0b`):\r\n\r\n```csharp\r\n[Flags]\r\nenum PhoneFeatures\r\n{\r\n    Call = 0b00000001,\r\n    Text = 0b00000010\r\n}\r\n```\r\n\r\nA `PhoneFeatures` instance which value is `0b00000011` has both its `Call` _and_ `Text` flags set.\r\n\r\nBy default, the `int` type is used for enum member values. One can use a different integer type by specifying the type in the enum declaration:\r\n\r\n```csharp\r\n[Flags]\r\nenum PhoneFeatures : byte\r\n{\r\n    Call = 0b00000001,\r\n    Text = 0b00000010\r\n}\r\n```\r\n",
    "instructions": "# Instructions\r\n\r\nIn this exercise you'll be checking permissions of user accounts on an internet forum. The forum supports three different permissions:\r\n\r\n- Read\r\n- Write\r\n- Delete\r\n\r\nThere are three types of accounts, each with different default permissions:\r\n\r\n- Guests: can read posts.\r\n- Users: can read and write posts.\r\n- Moderators: can read, write and delete posts, they have all the permissions.\r\n\r\nSometimes individual permissions can be modified, it is possible for example to give a guest account the permission to also write posts or revoking all permissions from an account would result in having none of the permissions.\r\n\r\n## 1. Get default permissions for an account type\r\n\r\nFirst, define an `AccountType` enum to represent the three account types: `Guest`, `User` and `Moderator`.\r\n\r\nNext, define a `Permission` enum to represent the three permission types: `Read`, `Write`, `Delete`, and two extra ones: `All` for having all permissions and `None` for having none of the permissions.\r\n\r\nThen implement the (_static_) `Permissions.Default()` method to return the default permissions for a specific account type:\r\n\r\n```csharp\r\nPermissions.Default(AccountType.Guest)\r\n// => Permission.Read\r\n```\r\n\r\n## 2. Grant a permission\r\n\r\nImplement the (_static_) `Permissions.Grant()` method that grants (adds) a permission:\r\n\r\n```csharp\r\nPermissions.Grant(current: Permission.None, grant: Permission.Read)\r\n// => Permission.Read\r\n```\r\n\r\n## 3. Revoke a permission\r\n\r\nImplement the (_static_) `Permissions.Revoke()` method that revokes (removes) a permission:\r\n\r\n```csharp\r\nPermissions.Revoke(current: Permission.Read, revoke: Permission.Read)\r\n// => Permission.None\r\n```\r\n\r\n## 4. Check for a permission\r\n\r\nImplement the (_static_) `Permissions.Check()` method that takes the current account's permissions and checks if the account is authorized for a given permission:\r\n\r\n```csharp\r\nPermissions.Check(current: Permission.Write, check: Permission.Read)\r\n// => false\r\n```\r\n",
    "hints": "# Hints\r\n\r\n## 1. Get default permissions for an account type\r\n\r\n- Define the `Permission` enum with values for the following permission types: `None`, `Read`, `Write` and `Delete`.\r\n- Using the enum flags would allow to use bitwise operations out of the box for the `Permission` enum, [see `enum` `Flags`][docs-enum-flags].\r\n- The `All` enum member can be defined as a combination of the `Read`, `Write` and `Delete` enum members.\r\n- Define the `AccountType` enum with values for the following account types: `Guest`, `User` and `Moderator`.\r\n- To handle each account type, one could use an `if` statement, but the [`switch` statement][docs.microsoft.com-switch-keyword] is a great alternative.\r\n- Combining flags means setting a specific bit to `1` using one of the [bitwise operators][docs.microsoft.com-bitwise-and-shift-operators].\r\n\r\n## 2. Grant a permission\r\n\r\n- Combining flags means setting a specific bit to `1` using one of the [bitwise operators][docs.microsoft.com-bitwise-and-shift-operators].\r\n\r\n## 3. Revoke a permission\r\n\r\n- Removing a flag means setting a specific bit to `0` using a combination of two [bitwise operators][docs.microsoft.com-bitwise-and-shift-operators].\r\n\r\n## 4. Check for a permission\r\n\r\n- Checking a permission can be done by checking the result of applying one of the [bitwise operators][docs.microsoft.com-bitwise-and-shift-operators].\r\n\r\n[docs.microsoft.com-bitwise-and-shift-operators]: https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators\r\n[docs.microsoft.com-switch-keyword]: https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/switch\r\n[docs-enum-flags]: https://docs.microsoft.com/en-us/dotnet/api/system.flagsattribute\r\n"
  },
  "starter_code": {
    "AttackOfTheTrolls.cs": "// TODO: define the 'AccountType' enum\r\n\r\n// TODO: define the 'Permission' enum\r\n\r\nstatic class Permissions\r\n{\r\n    public static Permission Default(AccountType accountType)\r\n    {\r\n        throw new NotImplementedException(\"Please implement the (static) Permissions.Default() method\");\r\n    }\r\n\r\n    public static Permission Grant(Permission current, Permission grant)\r\n    {\r\n        throw new NotImplementedException(\"Please implement the (static) Permissions.Grant() method\");\r\n    }\r\n\r\n    public static Permission Revoke(Permission current, Permission revoke)\r\n    {\r\n        throw new NotImplementedException(\"Please implement the (static) Permissions.Revoke() method\");\r\n    }\r\n\r\n    public static bool Check(Permission current, Permission check)\r\n    {\r\n        throw new NotImplementedException(\"Please implement the (static) Permissions.Check() method\");\r\n    }\r\n}\r\n"
  },
  "tests": {
    "AttackOfTheTrollsTests.cs": "using Exercism.Tests;\r\n\r\npublic class AttackOfTheTrollsTests\r\n{\r\n    [Fact]\r\n    public void Permissions_read_write_can_be_combined_as_flags()\r\n    {\r\n        Assert.Equal(\"Read, Write\", (Permission.Read | Permission.Write).ToString());\r\n    }\r\n\r\n    [Fact]\r\n    public void Combining_none_delete_permissions_is_same_as_delete_permission()\r\n    {\r\n        Assert.Equal(\"Delete\", (Permission.Delete | Permission.None).ToString());\r\n    }\r\n\r\n    [Fact]\r\n    public void Combining_read_write_delete_permissions_is_same_as_all_permission()\r\n    {\r\n        Assert.Equal(\"All\", (Permission.Read | Permission.Write | Permission.Delete).ToString());\r\n    }\r\n\r\n    [Fact]\r\n    [Task(1)]\r\n    public void Default_for_guest()\r\n    {\r\n        Assert.Equal(Permission.Read, Permissions.Default(AccountType.Guest));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(1)]\r\n    public void Default_for_user()\r\n    {\r\n        Assert.Equal(Permission.Read | Permission.Write, Permissions.Default(AccountType.User));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(1)]\r\n    public void Default_for_moderator()\r\n    {\r\n        Assert.Equal(Permission.Read | Permission.Write | Permission.Delete, Permissions.Default(AccountType.Moderator));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(1)]\r\n    public void Default_for_unknown()\r\n    {\r\n        Assert.Equal(Permission.None, Permissions.Default((AccountType)123));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(2)]\r\n    public void Grant_read_to_none()\r\n    {\r\n        Assert.Equal(Permission.Read, Permissions.Grant(Permission.None, Permission.Read));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(2)]\r\n    public void Grant_read_to_read()\r\n    {\r\n        Assert.Equal(Permission.Read, Permissions.Grant(Permission.Read, Permission.Read));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(2)]\r\n    public void Grant_all_to_none()\r\n    {\r\n        Assert.Equal(Permission.All, Permissions.Grant(Permission.None, Permission.All));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(2)]\r\n    public void Grant_delete_to_read_and_write()\r\n    {\r\n        Assert.Equal(Permission.All, Permissions.Grant(Permission.Read | Permission.Write, Permission.Delete));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(2)]\r\n    public void Grant_read_and_write_to_none()\r\n    {\r\n        Assert.Equal(Permission.Read | Permission.Write, Permissions.Grant(Permission.None, Permission.Read | Permission.Write));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(3)]\r\n    public void Revoke_none_from_read()\r\n    {\r\n        Assert.Equal(Permission.Read, Permissions.Revoke(Permission.Read, Permission.None));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(3)]\r\n    public void Revoke_write_from_write()\r\n    {\r\n        Assert.Equal(Permission.None, Permissions.Revoke(Permission.Write, Permission.Write));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(3)]\r\n    public void Revoke_delete_from_all()\r\n    {\r\n        Assert.Equal(Permission.Read | Permission.Write, Permissions.Revoke(Permission.All, Permission.Delete));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(3)]\r\n    public void Revoke_read_and_write_from_write_and_delete()\r\n    {\r\n        Assert.Equal(Permission.Delete, Permissions.Revoke(Permission.Write | Permission.Delete, Permission.Read | Permission.Write));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(3)]\r\n    public void Revoke_all_from_read_and_write()\r\n    {\r\n        Assert.Equal(Permission.None, Permissions.Revoke(Permission.Read | Permission.Write, Permission.All));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(4)]\r\n    public void Check_none_for_read()\r\n    {\r\n        Assert.False(Permissions.Check(Permission.None, Permission.Read));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(4)]\r\n    public void Check_write_for_write()\r\n    {\r\n        Assert.True(Permissions.Check(Permission.Write, Permission.Write));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(4)]\r\n    public void Check_all_for_write()\r\n    {\r\n        Assert.True(Permissions.Check(Permission.All, Permission.Write));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(4)]\r\n    public void Check_read_and_write_for_read()\r\n    {\r\n        Assert.True(Permissions.Check(Permission.Read | Permission.Write, Permission.Read));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(4)]\r\n    public void Check_all_for_read_and_write()\r\n    {\r\n        Assert.True(Permissions.Check(Permission.All, Permission.Read | Permission.Write));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(4)]\r\n    public void Check_read_and_write_for_read_and_write()\r\n    {\r\n        Assert.True(Permissions.Check(Permission.Read | Permission.Write, Permission.Read | Permission.Write));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(4)]\r\n    public void Check_read_and_write_for_read_and_delete()\r\n    {\r\n        Assert.False(Permissions.Check(Permission.Read | Permission.Write, Permission.Read | Permission.Delete));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(4)]\r\n    public void Check_read_and_write_and_delete_for_all()\r\n    {\r\n        Assert.True(Permissions.Check(Permission.Read | Permission.Write | Permission.Delete, Permission.All));\r\n    }\r\n}\r\n"
  }
}
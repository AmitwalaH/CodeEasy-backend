{
  "language": "csharp",
  "slug": "weighing-machine",
  "docs": {
    "introduction": "# Introduction\r\n\r\n## Properties\r\n\r\nA property in C# is a member of a class that provides access to data within that class.\r\nCallers can set or retrieve (get) the data. Properties can be either auto-implemented or\r\nhave a backing field. They comprise a set accessor and/or a get accessor.\r\nIn some other languages a \"mutator\" is roughly equivalent to\r\na set accessor and an \"accessor\" is roughly equivalent to a get accessor although\r\nthe composition of the syntax is completely different.\r\n\r\nWhen setting a property the input value can be validated, formatted\r\nor otherwise manipulated and in fact any programmatic operation accessible to code in the\r\nclass can be executed.\r\n\r\nSimilarly when retrieving a property data can be calculated or formatted and again\r\nany programmatic operation available to the class can be executed.\r\n\r\nProperties have access modifiers (`public`, `private` etc.) in the same way as other\r\nclass members but the set accessor may have an access level independent of the retrieve (get)\r\naccessor and vice versa. A property doesn't have to have both accessors, it can have just one (either get or set).\r\n\r\nThe basic syntax to express properties can take two forms:\r\n\r\n### Field/Expression Backed Properties:\r\n\r\n```csharp\r\nprivate int myField;\r\npublic int MyProperty\r\n{\r\n    get { return myField; }\r\n    set { myField = value; }\r\n}\r\n```\r\n\r\n### Auto-implemented Properties\r\n\r\n```\r\npublic int MyProperty { get; private set; } = 42;\r\n```\r\n\r\nInitialization is optional.\r\n",
    "instructions": "# Instructions\r\n\r\nIn this exercise you'll be modelling a weighing machine with Kilograms as a Unit.\r\n\r\nYou have 6 tasks each of which requires you to implement one or more properties:\r\n\r\n## 1. Allow the weighing machine to have a precision\r\n\r\nTo cater to different demands, we allow each weighing machine to be customized with a precision (the number of digits after the decimal separator).\r\nImplement the `WeighingMachine` class to have a get-only `Precision` property set to the constructor's `precision` argument:\r\n\r\n```csharp\r\nvar wm = new WeighingMachine(precision: 3);\r\n\r\n//  => wm.Precision == 3\r\n```\r\n\r\n## 2. Allow the weight to be set on the weighing machine\r\n\r\nImplement the `WeighingMachine.Weight` property to allow the weight to be get _and_ set:\r\n\r\n```csharp\r\nvar wm = new WeighingMachine(precision: 3);\r\nwm.Weight = 60.5;\r\n\r\n//  => wm.Weight == 60.5\r\n```\r\n\r\n## 3. Ensure that a negative input weight is rejected\r\n\r\nClearly, someone cannot have a negative weight. \r\nAdd validation to the `WeighingMachine.Weight` property to throw an `ArgumentOutOfRangeException` when trying to set it to a negative weight:\r\n\r\n```csharp\r\nvar wm = new WeighingMachine(precision: 3);\r\nwm.Weight = -10; // Throws an ArgumentOutOfRangeException\r\n```\r\n\r\n## 4. Allow a tare adjustment to be applied to the weighing machine\r\n\r\nThe tare adjustment can be any value (even negative or a value that makes the display weight negative)\r\nImplement the `WeighingMachine.TareAdjustment` property to allow the tare adjustment to be set:\r\n\r\n```csharp\r\nvar wm = new WeighingMachine(precision: 3);\r\nwm.TareAdjustment = -10.6;\r\n\r\n// => wm.TareAdjustment == -10.6\r\n```\r\n\r\n## 5. Ensure that the weighing machine has a default tare adjustment\r\n\r\nAfter some thorough testing, it appears that due to a manifacturing issue all weighing machines have a bias towards overestimating the weight by `5`.\r\nChange the `WeighingMachine.TareAdjustment` property to `5` as its default value.\r\n\r\n```csharp\r\nvar wm = new WeighingMachine(precision: 3);\r\n\r\n// => wm.TareAdjustment == 5.0\r\n```\r\n\r\n## 6. Allow the weight to be retrieved\r\n\r\nImplement the `WeighingMachine.DisplayWeight` property which should return a string showing the weight after tare adjustment, with the correct precision applied, and the unit added.\r\nNote that:\r\n``` display-weight = input-weight - tare-adjustment ```\r\n\r\n```csharp\r\nvar wm = new WeighingMachine(precision: 3);\r\nwm.Weight = 60.567;\r\nwm.TareAdjustment = 10;\r\n\r\n// => wm.DisplayWeight == \"50.567 kg\"\r\n```\r\n",
    "hints": "# Hints\r\n\r\n## General\r\n\r\n- [Properties][docs.microsoft.com-properties]\r\n- [Using Properties][docs.microsoft.com-using-properties]\r\n\r\n## 1. Allow the weighing machine to have a precision\r\n\r\n- You need to add a [get-only property][stackoverflow.com-get-only-properties] to store the precision in.\r\n- You can initialize the `get`-only property from the constructor (and only from the constructor).\r\n\r\n## 2. Allow the weight to be set on the weighing machine\r\n\r\n- You should add a property with a private [backing field][docs.microsoft.com-properties-with-backing-fields].\r\n\r\n## 3. Ensure that a negative input weight is rejected\r\n\r\n- The `value` keyword is used to refer to the value the caller wants the property to have.\r\n- Add [validation][stackoverflow.com-validating-properties] to the `Weight`'s `set` accessor to throw an exception when the value is invalid.\r\n\r\n## 4. Allow a tare adjustment to be applied to the weighing machine\r\n\r\n- You should add an [auto-implemented property][docs.microsoft.com-auto-implemented-properties] for the tare adjustment.\r\n\r\n## 5. Ensure that the weighing machine has a default tare adjustment\r\n\r\n- You can initialize an [auto-implemented property][docs.microsoft.com-auto-implemented-properties] like you can initialize a field.\r\n\r\n## 6. Allow the weight to be retrieved\r\n\r\n- You should add a `get`-only property in which the correct display weight is calculated.\r\n\r\n## 7. Show the Display weight string properly\r\n\r\n- You should [format-string][stackoverflow.com-format-string] appropriately.\r\n\r\n[docs.microsoft.com-properties]: https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/properties\r\n[docs.microsoft.com-using-properties]: https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/using-properties\r\n[docs.microsoft.com-properties-with-backing-fields]: https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/properties#properties-with-backing-fields\r\n[stackoverflow.com-validating-properties]: https://stackoverflow.com/questions/4946227/validating-properties-in-c-sharp\r\n[docs.microsoft.com-auto-implemented-properties]: https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/auto-implemented-properties\r\n[docs.microsoft.com-properties-and-restricted-access]: https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/restricting-accessor-accessibility\r\n[stackoverflow.com-get-only-properties]: https://stackoverflow.com/questions/2719699/when-should-use-readonly-and-get-only-properties\r\n[stackoverflow.com-format-string]: https://stackoverflow.com/questions/7108850/variable-decimal-places-in-net-string-formatters"
  },
  "starter_code": {
    "WeighingMachine.cs": "class WeighingMachine\r\n{\r\n    // TODO: define the 'Precision' property\r\n\r\n    // TODO: define the 'Weight' property\r\n\r\n    // TODO: define the 'TareAdjustment' property\r\n\r\n    // TODO: define the 'DisplayWeight' property\r\n}\r\n"
  },
  "tests": {
    "WeighingMachineTests.cs": "using Exercism.Tests;\r\n\r\n[UseCulture]\r\npublic class WeighingMachineTests\r\n{\r\n    [Fact]\r\n    [Task(1)]\r\n    public void Get_Precision()\r\n    {\r\n        var wm = new WeighingMachine(precision: 3);\r\n        Assert.Equal(3, wm.Precision);\r\n    }\r\n\r\n    [Fact]\r\n    [Task(1)]\r\n    public void Get_Precision_1()\r\n    {\r\n        var wm = new WeighingMachine(precision: 1);\r\n        Assert.Equal(1, wm.Precision);\r\n    }\r\n\r\n    [Fact]\r\n    [Task(2)]\r\n    public void Set_weight_and_get_weight()\r\n    {\r\n        var wm = new WeighingMachine(precision: 3);\r\n        wm.Weight = 60.567;\r\n        Assert.Equal(60.567, wm.Weight, precision:3);\r\n    }\r\n\r\n    [Fact]\r\n    [Task(3)]\r\n    public void Negative_weight_is_invalid()\r\n    {\r\n        var wm = new WeighingMachine(precision: 3);\r\n        Assert.Throws<ArgumentOutOfRangeException>(() => wm.Weight = -10);\r\n    }\r\n\r\n    [Fact]\r\n    [Task(4)]\r\n    public void Apply_tare_adjustment_and_get_display_weight()\r\n    {\r\n        var wm = new WeighingMachine(precision: 3);\r\n        wm.Weight = 100.770;\r\n        wm.TareAdjustment = 10;\r\n        Assert.Equal(\"90.770 kg\", wm.DisplayWeight);\r\n    }\r\n\r\n    [Fact]\r\n    [Task(4)]\r\n    public void Apply_tare_adjustment_and_get_display_weight_with_precision_1()\r\n    {\r\n        var wm = new WeighingMachine(precision: 1);\r\n        wm.Weight = 100.770;\r\n        wm.TareAdjustment = 10;\r\n        Assert.Equal(\"90.8 kg\", wm.DisplayWeight);\r\n    }\r\n\r\n    [Fact]\r\n    [Task(5)]\r\n    public void Apply_Default_tare_adjustment_and_get_display_weight()\r\n    {\r\n        var wm = new WeighingMachine(precision: 3);\r\n        wm.Weight = 100.567;\r\n        Assert.Equal(\"95.567 kg\", wm.DisplayWeight);\r\n    }\r\n\r\n    [Fact]\r\n    [Task(6)]\r\n    public void Apply_negative_tare_adjustment_and_get_display_weight()\r\n    {\r\n        var wm = new WeighingMachine(precision: 3);\r\n        wm.Weight = 100;\r\n        wm.TareAdjustment = -10.567;\r\n        Assert.Equal(\"110.567 kg\", wm.DisplayWeight);\r\n    }\r\n\r\n    [Fact]\r\n    [Task(6)]\r\n    public void Apply_large_tare_adjustment_to_allow_negative_display_weight()\r\n    {\r\n        var wm = new WeighingMachine(precision: 3);\r\n        wm.Weight = 100;\r\n        wm.TareAdjustment = 110.567;\r\n        Assert.Equal(\"-10.567 kg\", wm.DisplayWeight);\r\n    }\r\n}\r\n"
  }
}
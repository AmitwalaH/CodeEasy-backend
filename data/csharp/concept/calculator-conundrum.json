{
  "language": "csharp",
  "slug": "calculator-conundrum",
  "docs": {
    "introduction": "# Introduction\r\n\r\n## Exceptions\r\n\r\nExceptions in C# provide a structured, uniform, and type-safe way of handling error conditions that occur during runtime. Proper handling of exceptions and error is important when trying to prevent application crashes.\r\n\r\nIn C#, all exceptions have `System.Exception` class as their base type. It contains important properties such as `Message`, which contains a human-readable description of the reason for the exception being thrown.\r\n\r\nTo signal that there should be an error in a certain part of the code, a new exception object needs to be created and then thrown, using the `throw` keyword:\r\n\r\n```csharp\r\nusing System;\r\nstatic int Square(int number)\r\n{\r\n    if (number >= 46341)\r\n    {\r\n        throw new ArgumentException($\"Argument {number} cannot be higher than 46340 as its' square doesn't fit into int type.\");\r\n    }\r\n    return number * number;\r\n}\r\n```\r\n\r\nWhen an exception gets thrown, the runtime has the task of finding a piece of code that is responsible for handling of that exception. If no appropriate handler is found, the runtime displays the unhandled exception message in addition to stopping the execution of the program.\r\n\r\nTo create a handler for an exception, C# uses the try-catch statement, which consists of a `try` block and one or more `catch` clauses. The `try` block should contain and guard code that may result in the exception getting thrown. The `catch` clauses should contain code that handles the behavior of the program after the error has occurred. It is important to note that the order of exceptions matters after the `try` block, as when multiple exceptions are listed, the first matching `catch` clause is executed.\r\n\r\n```csharp\r\ntry\r\n{\r\n   if (number == 42)\r\n   {\r\n       throw new ArgumentException(\"The number cannot be equal to 42.\", \"number\");\r\n   }\r\n\r\n   if (number < 0)\r\n   {\r\n      throw new ArgumentOutOfRangeException(\"number\", \"The number cannot be negative.\");\r\n   }\r\n\r\n    // Process number ...\r\n}\r\ncatch (ArgumentOutOfRangeException e)\r\n{\r\n    Console.WriteLine($\"Number is out of range: {e.Message}.\");\r\n}\r\ncatch (ArgumentException)\r\n{\r\n    Console.WriteLine(\"Invalid number.\");\r\n}\r\n```\r\n",
    "instructions": "# Instructions\r\n\r\nIn this exercise you will be building error handling for a simple integer calculator. To make matters simple, methods for calculating addition, multiplication and division are provided.\r\n\r\nThe goal is to have a working calculator that returns a string with the following pattern: `16 + 51 = 67`, when provided with arguments `16`, `51` and `+`.\r\n\r\n```csharp\r\nSimpleCalculator.Calculate(16, 51, \"+\"); // => returns \"16 + 51 = 67\"\r\n\r\nSimpleCalculator.Calculate(32, 6, \"*\"); // => returns \"32 * 6 = 192\"\r\n\r\nSimpleCalculator.Calculate(512, 4, \"/\"); // => returns \"512 / 4 = 128\"\r\n```\r\n\r\n## 1. Implement the calculator operations\r\n\r\nThe main method for implementation in this task will be the (_static_) `SimpleCalculator.Calculate()` method. It takes three arguments. The first two arguments are integer numbers on which an operation is going to be conducted. The third argument is of type string and for this exercise it is necessary to implement the following operations:\r\n\r\n- addition using the `+` string\r\n- multiplication using the `*` string\r\n- division using the `/` string\r\n\r\n## 2. Handle illegal operations\r\n\r\nAny other operation symbol should throw the `ArgumentOutOfRangeException` exception. If the operation argument is an empty string, then the method should throw the `ArgumentException` exception. When `null` is provided as an operation argument, then the method should throw the `ArgumentNullException` exception.\r\n\r\n```csharp\r\nSimpleCalculator.Calculate(100, 10, \"-\"); // => throws ArgumentOutOfRangeException\r\n\r\nSimpleCalculator.Calculate(8, 2, \"\"); // => throws ArgumentException\r\n\r\nSimpleCalculator.Calculate(58, 6, null); // => throws ArgumentNullException\r\n```\r\n\r\n## 3. Handle errors when dividing by zero\r\n\r\nWhen attempting to divide by `0`, the calculator should return a string with the content `Division by zero is not allowed.`. Any other exception should not be handled by the `SimpleCalculator.Calculate()` method.\r\n\r\n```csharp\r\nSimpleCalculator.Calculate(512, 0, \"/\"); // => returns \"Division by zero is not allowed.\"\r\n```\r\n",
    "hints": "# Hints\r\n\r\n## General\r\n\r\n- [Exceptions][exceptions]: basic introduction to exceptions.\r\n- [Using exceptions][using-exceptions]: how to use exceptions.\r\n\r\n## 2. Handle illegal operations\r\n\r\n- You need to [throw an exception][creating-and-throwing-exceptions] here.\r\n\r\n## 3. Handle errors when dividing by zero\r\n\r\n- You need to [catch an exception][exception-handling] here to handle the [`DivideByZeroException`][divide-by-zero-exception] that is thrown when dividing by zero.\r\n\r\n[exceptions]: https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/exceptions/\r\n[using-exceptions]: https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/exceptions/using-exceptions\r\n[exception-handling]: https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/exceptions/exception-handling\r\n[creating-and-throwing-exceptions]: https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/exceptions/creating-and-throwing-exceptions\r\n[divide-by-zero-exception]: https://docs.microsoft.com/en-us/dotnet/api/system.dividebyzeroexception\r\n"
  },
  "starter_code": {
    "CalculatorConundrum.cs": "public static class SimpleCalculator\r\n{\r\n    public static string Calculate(int operand1, int operand2, string? operation)\r\n    {\r\n        throw new NotImplementedException(\"Please implement the SimpleCalculator.Calculate() method\");\r\n    }\r\n}\r\n",
    "SimpleOperation.cs": "public static class SimpleOperation\r\n{\r\n    public static int Division(int operand1, int operand2)\r\n    {\r\n        return operand1 / operand2;\r\n    }\r\n\r\n    public static int Multiplication(int operand1, int operand2)\r\n    {\r\n        return operand1 * operand2;\r\n    }\r\n\r\n    public static int Addition(int operand1, int operand2)\r\n    {\r\n        return operand1 + operand2;\r\n    }\r\n}\r\n"
  },
  "tests": {
    "CalculatorConundrumTests.cs": "using Exercism.Tests;\r\n\r\npublic class CalculatorConundrumTests\r\n{\r\n    //Addition tests\r\n    [Fact]\r\n    [Task(1)]\r\n    public void Addition_with_small_operands()\r\n    {\r\n        Assert.Equal(\"22 + 25 = 47\", SimpleCalculator.Calculate(22, 25, \"+\"));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(1)]\r\n    public void Addition_with_large_operands()\r\n    {\r\n        Assert.Equal(\"378961 + 399635 = 778596\", SimpleCalculator.Calculate(378_961, 399_635, \"+\"));\r\n    }\r\n\r\n    //Multiplication tests\r\n    [Fact]\r\n    [Task(1)]\r\n    public void Multiplication_with_small_operands()\r\n    {\r\n        Assert.Equal(\"3 * 21 = 63\", SimpleCalculator.Calculate(3, 21, \"*\"));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(1)]\r\n    public void Multiplication_with_large_operands()\r\n    {\r\n        Assert.Equal(\"72441 * 2048 = 148359168\", SimpleCalculator.Calculate(72_441, 2_048, \"*\"));\r\n    }\r\n\r\n    //Division tests\r\n    [Fact]\r\n    [Task(1)]\r\n    public void Division_with_small_operands()\r\n    {\r\n        Assert.Equal(\"72 / 9 = 8\", SimpleCalculator.Calculate(72, 9, \"/\"));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(1)]\r\n    public void Division_with_large_operands()\r\n    {\r\n        Assert.Equal(\"1338800 / 83675 = 16\", SimpleCalculator.Calculate(1_338_800, 83_675, \"/\"));\r\n    }\r\n\r\n    // Invalid operator\r\n    [Fact]\r\n    [Task(2)]\r\n    public void Calculate_throws_exception_for_non_valid_operations()\r\n    {\r\n        Assert.Throws<ArgumentOutOfRangeException>(() => SimpleCalculator.Calculate(1, 2, \"**\"));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(2)]\r\n    public void Calculate_throws_exception_for_null_as_operation()\r\n    {\r\n        Assert.Throws<ArgumentNullException>(() => SimpleCalculator.Calculate(1, 2, null));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(2)]\r\n    public void Calculate_throws_exception_for_empty_string_as_operation()\r\n    {\r\n        Assert.Throws<ArgumentException>(() => SimpleCalculator.Calculate(1, 2, \"\"));\r\n    }\r\n\r\n    [Fact]\r\n    [Task(3)]\r\n    public void Calculate_throws_exception_for_division_with_0()\r\n    {\r\n        Assert.Equal(\"Division by zero is not allowed.\", SimpleCalculator.Calculate(33, 0, \"/\"));\r\n    }\r\n}\r\n"
  }
}
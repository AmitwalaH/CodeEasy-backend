{
  "language": "csharp",
  "slug": "error-handling",
  "docs": {
    "instructions": "# Instructions\r\n\r\nImplement various kinds of error handling and resource management.\r\n\r\nAn important point of programming is how to handle errors and close resources even if errors occur.\r\n\r\nThis exercise requires you to handle various errors.\r\nBecause error handling is rather programming language specific you'll have to refer to the tests for your track to see what's exactly required.\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "ErrorHandling.cs": "public static class ErrorHandling\r\n{\r\n    public static void HandleErrorByThrowingException()\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n\r\n    public static int? HandleErrorByReturningNullableType(string input)\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n\r\n    public static bool HandleErrorWithOutParam(string input, out int result)\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n\r\n    public static void DisposableResourcesAreDisposedWhenExceptionIsThrown(IDisposable disposableObject)\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n}\r\n"
  },
  "tests": {
    "ErrorHandlingTests.cs": "public class ErrorHandlingTests\r\n{\r\n    // Read more about exception handling here:\r\n    // https://msdn.microsoft.com/en-us/library/ms173162.aspx?f=255&MSPPError=-2147217396\r\n    [Fact]\r\n    public void ThrowException()\r\n    {\r\n        Assert.Throws<Exception>(() => ErrorHandling.HandleErrorByThrowingException());\r\n    }\r\n\r\n    // Read more about nullable types here:\r\n    // https://msdn.microsoft.com/en-us/library/1t3y8s4s.aspx?f=255&MSPPError=-2147217396\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void ReturnNullableType()\r\n    {\r\n        var successfulResult = ErrorHandling.HandleErrorByReturningNullableType(\"1\");\r\n        Assert.Equal(1, successfulResult);\r\n\r\n        var failureResult = ErrorHandling.HandleErrorByReturningNullableType(\"a\");\r\n        Assert.Null(failureResult);\r\n    }\r\n\r\n    // Read more about out parameters here:\r\n    // https://msdn.microsoft.com/en-us/library/t3c3bfhx.aspx?f=255&MSPPError=-2147217396\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void ReturnWithOutParameter()\r\n    {\r\n        int result;\r\n        var successfulResult = ErrorHandling.HandleErrorWithOutParam(\"1\", out result);\r\n        Assert.True(successfulResult);\r\n        Assert.Equal(1, result);\r\n        \r\n        var failureResult = ErrorHandling.HandleErrorWithOutParam(\"a\", out result);\r\n        Assert.False(failureResult);\r\n        // The value of result is meaningless here (it could be anything) so it shouldn't be used and it's not validated \r\n    }\r\n\r\n    private class DisposableResource : IDisposable\r\n    {\r\n        public bool IsDisposed { get; private set; }\r\n\r\n        public void Dispose()\r\n        {\r\n            IsDisposed = true;\r\n        }\r\n    }\r\n\r\n    // Read more about IDisposable here:\r\n    // https://msdn.microsoft.com/en-us/library/system.idisposable(v=vs.110).aspx\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void DisposableObjectsAreDisposedWhenThrowingAnException()\r\n    {\r\n        var disposableResource = new DisposableResource();\r\n\r\n        Assert.Throws<Exception>(() => ErrorHandling.DisposableResourcesAreDisposedWhenExceptionIsThrown(disposableResource));\r\n        Assert.True(disposableResource.IsDisposed);\r\n    }\r\n}\r\n"
  }
}
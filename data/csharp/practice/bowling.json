{
  "language": "csharp",
  "slug": "bowling",
  "docs": {
    "instructions": "# Instructions\r\n\r\nScore a bowling game.\r\n\r\nBowling is a game where players roll a heavy ball to knock down pins arranged in a triangle.\r\nWrite code to keep track of the score of a game of bowling.\r\n\r\n## Scoring Bowling\r\n\r\nThe game consists of 10 frames.\r\nA frame is composed of one or two ball throws with 10 pins standing at frame initialization.\r\nThere are three cases for the tabulation of a frame.\r\n\r\n- An open frame is where a score of less than 10 is recorded for the frame.\r\n  In this case the score for the frame is the number of pins knocked down.\r\n\r\n- A spare is where all ten pins are knocked down by the second throw.\r\n  The total value of a spare is 10 plus the number of pins knocked down in their next throw.\r\n\r\n- A strike is where all ten pins are knocked down by the first throw.\r\n  The total value of a strike is 10 plus the number of pins knocked down in the next two throws.\r\n  If a strike is immediately followed by a second strike, then the value of the first strike cannot be determined until the ball is thrown one more time.\r\n\r\nHere is a three frame example:\r\n\r\n|  Frame 1   |  Frame 2   |     Frame 3      |\r\n| :--------: | :--------: | :--------------: |\r\n| X (strike) | 5/ (spare) | 9 0 (open frame) |\r\n\r\nFrame 1 is (10 + 5 + 5) = 20\r\n\r\nFrame 2 is (5 + 5 + 9) = 19\r\n\r\nFrame 3 is (9 + 0) = 9\r\n\r\nThis means the current running total is 48.\r\n\r\nThe tenth frame in the game is a special case.\r\nIf someone throws a spare or a strike then they get one or two fill balls respectively.\r\nFill balls exist to calculate the total of the 10th frame.\r\nScoring a strike or spare on the fill ball does not give the player more fill balls.\r\nThe total value of the 10th frame is the total number of pins knocked down.\r\n\r\nFor a tenth frame of X1/ (strike and a spare), the total value is 20.\r\n\r\nFor a tenth frame of XXX (three strikes), the total value is 30.\r\n\r\n## Requirements\r\n\r\nWrite code to keep track of the score of a game of bowling.\r\nIt should support two operations:\r\n\r\n- `roll(pins : int)` is called each time the player rolls a ball.\r\n  The argument is the number of pins knocked down.\r\n- `score() : int` is called only at the very end of the game.\r\n  It returns the total score for that game.\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "Bowling.cs": "public class BowlingGame\r\n{\r\n    public void Roll(int pins) \r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n\r\n    public int? Score()\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n}"
  },
  "tests": {
    "BowlingTests.cs": "public class BowlingTests\r\n{\r\n    [Fact]\r\n    public void Should_be_able_to_score_a_game_with_all_zeros()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Equal(0, sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Should_be_able_to_score_a_game_with_no_strikes_or_spares()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [3, 6, 3, 6, 3, 6, 3, 6, 3, 6, 3, 6, 3, 6, 3, 6, 3, 6, 3, 6];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Equal(90, sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void A_spare_followed_by_zeros_is_worth_ten_points()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [6, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Equal(10, sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Points_scored_in_the_roll_after_a_spare_are_counted_twice()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [6, 4, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Equal(16, sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Consecutive_spares_each_get_a_one_roll_bonus()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [5, 5, 3, 7, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Equal(31, sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void A_spare_in_the_last_frame_gets_a_one_roll_bonus_that_is_counted_once()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 3, 7];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Equal(17, sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void A_strike_earns_ten_points_in_a_frame_with_a_single_roll()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Equal(10, sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Points_scored_in_the_two_rolls_after_a_strike_are_counted_twice_as_a_bonus()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [10, 5, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Equal(26, sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Consecutive_strikes_each_get_the_two_roll_bonus()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [10, 10, 10, 5, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Equal(81, sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void A_strike_in_the_last_frame_gets_a_two_roll_bonus_that_is_counted_once()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 7, 1];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Equal(18, sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Rolling_a_spare_with_the_two_roll_bonus_does_not_get_a_bonus_roll()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 7, 3];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Equal(20, sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Strikes_with_the_two_roll_bonus_do_not_get_bonus_rolls()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Equal(30, sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Last_two_strikes_followed_by_only_last_bonus_with_non_strike_points()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 0, 1];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Equal(31, sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void A_strike_with_the_one_roll_bonus_after_a_spare_in_the_last_frame_does_not_get_a_bonus()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 3, 10];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Equal(20, sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void All_strikes_is_a_perfect_game()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Equal(300, sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Rolls_cannot_score_negative_points()\r\n    {\r\n        var sut = new BowlingGame();\r\n        Assert.Throws<ArgumentException>(() => sut.Roll(-1));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void A_roll_cannot_score_more_than_10_points()\r\n    {\r\n        var sut = new BowlingGame();\r\n        Assert.Throws<ArgumentException>(() => sut.Roll(11));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Two_rolls_in_a_frame_cannot_score_more_than_10_points()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [5];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Throws<ArgumentException>(() => sut.Roll(6));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Bonus_roll_after_a_strike_in_the_last_frame_cannot_score_more_than_10_points()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Throws<ArgumentException>(() => sut.Roll(11));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Two_bonus_rolls_after_a_strike_in_the_last_frame_cannot_score_more_than_10_points()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 5];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Throws<ArgumentException>(() => sut.Roll(6));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Two_bonus_rolls_after_a_strike_in_the_last_frame_can_score_more_than_10_points_if_one_is_a_strike()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 6];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Equal(26, sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void The_second_bonus_rolls_after_a_strike_in_the_last_frame_cannot_be_a_strike_if_the_first_one_is_not_a_strike()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 6];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Throws<ArgumentException>(() => sut.Roll(10));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Second_bonus_roll_after_a_strike_in_the_last_frame_cannot_score_more_than_10_points()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Throws<ArgumentException>(() => sut.Roll(11));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void An_unstarted_game_cannot_be_scored()\r\n    {\r\n        var sut = new BowlingGame();\r\n        Assert.Throws<ArgumentException>(() => sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void An_incomplete_game_cannot_be_scored()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Throws<ArgumentException>(() => sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Cannot_roll_if_game_already_has_ten_frames()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Throws<ArgumentException>(() => sut.Roll(0));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Bonus_rolls_for_a_strike_in_the_last_frame_must_be_rolled_before_score_can_be_calculated()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Throws<ArgumentException>(() => sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Both_bonus_rolls_for_a_strike_in_the_last_frame_must_be_rolled_before_score_can_be_calculated()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Throws<ArgumentException>(() => sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Bonus_roll_for_a_spare_in_the_last_frame_must_be_rolled_before_score_can_be_calculated()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 3];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Throws<ArgumentException>(() => sut.Score());\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Cannot_roll_after_bonus_roll_for_spare()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 3, 2];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Throws<ArgumentException>(() => sut.Roll(2));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Cannot_roll_after_bonus_rolls_for_strike()\r\n    {\r\n        var sut = new BowlingGame();\r\n        int[] previousRolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 3, 2];\r\n        foreach (var roll in previousRolls)\r\n        {\r\n            sut.Roll(roll);\r\n        }\r\n        Assert.Throws<ArgumentException>(() => sut.Roll(2));\r\n    }\r\n}\r\n"
  }
}
{
  "language": "csharp",
  "slug": "dnd-character",
  "docs": {
    "instructions": "# Instructions\r\n\r\nFor a game of [Dungeons & Dragons][dnd], each player starts by generating a character they can play with.\r\nThis character has, among other things, six abilities; strength, dexterity, constitution, intelligence, wisdom and charisma.\r\nThese six abilities have scores that are determined randomly.\r\nYou do this by rolling four 6-sided dice and recording the sum of the largest three dice.\r\nYou do this six times, once for each ability.\r\n\r\nYour character's initial hitpoints are 10 + your character's constitution modifier.\r\nYou find your character's constitution modifier by subtracting 10 from your character's constitution, divide by 2 and round down.\r\n\r\nWrite a random character generator that follows the above rules.\r\n\r\nFor example, the six throws of four dice may look like:\r\n\r\n- 5, 3, 1, 6: You discard the 1 and sum 5 + 3 + 6 = 14, which you assign to strength.\r\n- 3, 2, 5, 3: You discard the 2 and sum 3 + 5 + 3 = 11, which you assign to dexterity.\r\n- 1, 1, 1, 1: You discard the 1 and sum 1 + 1 + 1 = 3, which you assign to constitution.\r\n- 2, 1, 6, 6: You discard the 1 and sum 2 + 6 + 6 = 14, which you assign to intelligence.\r\n- 3, 5, 3, 4: You discard the 3 and sum 5 + 3 + 4 = 12, which you assign to wisdom.\r\n- 6, 6, 6, 6: You discard the 6 and sum 6 + 6 + 6 = 18, which you assign to charisma.\r\n\r\nBecause constitution is 3, the constitution modifier is -4 and the hitpoints are 6.\r\n\r\n~~~~exercism/note\r\nMost programming languages feature (pseudo-)random generators, but few programming languages are designed to roll dice.\r\nOne such language is [Troll][troll].\r\n\r\n[troll]: https://di.ku.dk/Ansatte/?pure=da%2Fpublications%2Ftroll-a-language-for-specifying-dicerolls(84a45ff0-068b-11df-825d-000ea68e967b)%2Fexport.html\r\n~~~~\r\n\r\n[dnd]: https://en.wikipedia.org/wiki/Dungeons_%26_Dragons\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "DndCharacter.cs": "public class DndCharacter\r\n{\r\n    public int Strength { get; }\r\n    public int Dexterity { get; }\r\n    public int Constitution { get; }\r\n    public int Intelligence { get; }\r\n    public int Wisdom { get; }\r\n    public int Charisma { get; }\r\n    public int Hitpoints { get; }\r\n\r\n    public static int Modifier(int score)\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n\r\n    public static int Ability() \r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n\r\n    public static DndCharacter Generate()\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n}\r\n"
  },
  "tests": {
    "DndCharacterTests.cs": "public class DndCharacterTests\r\n{\r\n    [Fact]\r\n    public void Ability_modifier_for_score_3_is_4()\r\n    {\r\n        Assert.Equal(-4, DndCharacter.Modifier(3));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Ability_modifier_for_score_4_is_3()\r\n    {\r\n        Assert.Equal(-3, DndCharacter.Modifier(4));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Ability_modifier_for_score_5_is_3()\r\n    {\r\n        Assert.Equal(-3, DndCharacter.Modifier(5));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Ability_modifier_for_score_6_is_2()\r\n    {\r\n        Assert.Equal(-2, DndCharacter.Modifier(6));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Ability_modifier_for_score_7_is_2()\r\n    {\r\n        Assert.Equal(-2, DndCharacter.Modifier(7));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Ability_modifier_for_score_8_is_1()\r\n    {\r\n        Assert.Equal(-1, DndCharacter.Modifier(8));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Ability_modifier_for_score_9_is_1()\r\n    {\r\n        Assert.Equal(-1, DndCharacter.Modifier(9));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Ability_modifier_for_score_10_is_0()\r\n    {\r\n        Assert.Equal(0, DndCharacter.Modifier(10));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Ability_modifier_for_score_11_is_0()\r\n    {\r\n        Assert.Equal(0, DndCharacter.Modifier(11));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Ability_modifier_for_score_12_is_1()\r\n    {\r\n        Assert.Equal(1, DndCharacter.Modifier(12));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Ability_modifier_for_score_13_is_1()\r\n    {\r\n        Assert.Equal(1, DndCharacter.Modifier(13));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Ability_modifier_for_score_14_is_2()\r\n    {\r\n        Assert.Equal(2, DndCharacter.Modifier(14));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Ability_modifier_for_score_15_is_2()\r\n    {\r\n        Assert.Equal(2, DndCharacter.Modifier(15));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Ability_modifier_for_score_16_is_3()\r\n    {\r\n        Assert.Equal(3, DndCharacter.Modifier(16));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Ability_modifier_for_score_17_is_3()\r\n    {\r\n        Assert.Equal(3, DndCharacter.Modifier(17));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Ability_modifier_for_score_18_is_4()\r\n    {\r\n        Assert.Equal(4, DndCharacter.Modifier(18));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Random_ability_is_within_range()\r\n    {\r\n        for (var i = 0; i < 10; i++)\r\n        {\r\n            Assert.InRange(DndCharacter.Ability(), 3, 18);\r\n        }\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Random_character_is_valid()\r\n    {\r\n        for (var i = 0; i < 10; i++)\r\n        {\r\n            var sut = DndCharacter.Generate();\r\n            Assert.InRange(sut.Strength, 3, 18);\r\n            Assert.InRange(sut.Dexterity, 3, 18);\r\n            Assert.InRange(sut.Constitution, 3, 18);\r\n            Assert.InRange(sut.Intelligence, 3, 18);\r\n            Assert.InRange(sut.Wisdom, 3, 18);\r\n            Assert.InRange(sut.Charisma, 3, 18);\r\n            Assert.Equal(sut.Hitpoints, 10 + DndCharacter.Modifier(sut.Constitution));\r\n        }\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Each_ability_is_only_calculated_once()\r\n    {\r\n        for (var i = 0; i < 10; i++)\r\n        {\r\n            var sut = DndCharacter.Generate();\r\n            Assert.Equal(sut.Strength, sut.Strength);\r\n            Assert.Equal(sut.Dexterity, sut.Dexterity);\r\n            Assert.Equal(sut.Constitution, sut.Constitution);\r\n            Assert.Equal(sut.Intelligence, sut.Intelligence);\r\n            Assert.Equal(sut.Wisdom, sut.Wisdom);\r\n            Assert.Equal(sut.Charisma, sut.Charisma);\r\n        }\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Random_ability_is_distributed_correctly()\r\n    {\r\n        var expectedDistribution = new Dictionary<int, int>\r\n        {\r\n            [3] = 1,\r\n            [4] = 4,\r\n            [5] = 10,\r\n            [6] = 21,\r\n            [7] = 38,\r\n            [8] = 62,\r\n            [9] = 91,\r\n            [10] = 122,\r\n            [11] = 148,\r\n            [12] = 167,\r\n            [13] = 172,\r\n            [14] = 160,\r\n            [15] = 131,\r\n            [16] = 94,\r\n            [17] = 54,\r\n            [18] = 21\r\n        };\r\n\r\n        var actualDistribution = new Dictionary<int, int>(expectedDistribution);\r\n        foreach (var key in actualDistribution.Keys)\r\n            actualDistribution[key] = 0;\r\n\r\n        const int times = 250;\r\n        const int possibleCombinationsCount = 6 * 6 * 6 * 6; // 4d6\r\n        for (var i = 0; i < times * possibleCombinationsCount; i++)\r\n            actualDistribution[DndCharacter.Ability()]++;\r\n\r\n        const double minTimes = times * 0.8;\r\n        const double maxTimes = times * 1.2;\r\n        foreach (var k in expectedDistribution.Keys)\r\n            Assert.InRange(actualDistribution[k], expectedDistribution[k] * minTimes, expectedDistribution[k] * maxTimes);\r\n    }\r\n}\r\n"
  }
}
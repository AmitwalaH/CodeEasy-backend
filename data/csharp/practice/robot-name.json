{
  "language": "csharp",
  "slug": "robot-name",
  "docs": {
    "instructions": "# Instructions\r\n\r\nManage robot factory settings.\r\n\r\nWhen a robot comes off the factory floor, it has no name.\r\n\r\nThe first time you turn on a robot, a random name is generated in the format of two uppercase letters followed by three digits, such as RX837 or BC811.\r\n\r\nEvery once in a while we need to reset a robot to its factory settings, which means that its name gets wiped.\r\nThe next time you ask, that robot will respond with a new random name.\r\n\r\nThe names must be random: they should not follow a predictable sequence.\r\nUsing random names means a risk of collisions.\r\nYour solution must ensure that every existing robot has a unique name.\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "RobotName.cs": "public class Robot\r\n{\r\n    public string Name\r\n    {\r\n        get\r\n        {\r\n            throw new NotImplementedException(\"You need to implement this method.\");\r\n        }\r\n    }\r\n\r\n    public void Reset()\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n}"
  },
  "tests": {
    "RobotNameTests.cs": "public class RobotNameTests\r\n{\r\n    private readonly Robot robot = new Robot();\r\n\r\n    [Fact]\r\n    public void Robot_has_a_name()\r\n    {\r\n        Assert.Matches(@\"^[A-Z]{2}\\d{3}$\", robot.Name);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Name_is_the_same_each_time()\r\n    {\r\n        Assert.Equal(robot.Name, robot.Name);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Different_robots_have_different_names()\r\n    {\r\n        var robot2 = new Robot();\r\n        Assert.NotEqual(robot2.Name, robot.Name);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Can_reset_the_name()\r\n    {\r\n        var originalName = robot.Name;\r\n        robot.Reset();\r\n        Assert.NotEqual(originalName, robot.Name);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void After_reset_the_name_is_valid()\r\n    {\r\n        robot.Reset();\r\n        Assert.Matches(@\"^[A-Z]{2}\\d{3}$\", robot.Name);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Robot_names_are_unique()\r\n    {\r\n        const int robotsCount = 10_000;\r\n        var robots = new List<Robot>(robotsCount); // Needed to keep a reference to the robots as IDs of recycled robots may be re-issued\r\n        var names = new HashSet<string>(robotsCount);\r\n        for (int i = 0; i < robotsCount; i++) {\r\n            var robot = new Robot();\r\n            robots.Add(robot);\r\n            Assert.True(names.Add(robot.Name));\r\n            Assert.Matches(@\"^[A-Z]{2}\\d{3}$\", robot.Name);\r\n        }\r\n    }\r\n    \r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Robot_names_should_generate_edge_case_a()\r\n    {\r\n        const int robotsCount = 10_000;\r\n        var robots = Enumerable.Range(0,robotsCount).Select( x => new Robot());\r\n        Assert.Contains(robots, robot => robot.Name.Contains('A'));\r\n    }\r\n    \r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Robot_names_should_generate_edge_case_z()\r\n    {\r\n        const int robotsCount = 10_000;\r\n        var robots = Enumerable.Range(0,robotsCount).Select( x => new Robot());\r\n        Assert.Contains(robots, robot => robot.Name.Contains('Z'));\r\n    }\r\n}\r\n"
  }
}
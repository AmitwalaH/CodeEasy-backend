{
  "language": "csharp",
  "slug": "tournament",
  "docs": {
    "instructions": "# Instructions\r\n\r\nTally the results of a small football competition.\r\n\r\nBased on an input file containing which team played against which and what the outcome was, create a file with a table like this:\r\n\r\n```text\r\nTeam                           | MP |  W |  D |  L |  P\r\nDevastating Donkeys            |  3 |  2 |  1 |  0 |  7\r\nAllegoric Alaskans             |  3 |  2 |  0 |  1 |  6\r\nBlithering Badgers             |  3 |  1 |  0 |  2 |  3\r\nCourageous Californians        |  3 |  0 |  1 |  2 |  1\r\n```\r\n\r\nWhat do those abbreviations mean?\r\n\r\n- MP: Matches Played\r\n- W: Matches Won\r\n- D: Matches Drawn (Tied)\r\n- L: Matches Lost\r\n- P: Points\r\n\r\nA win earns a team 3 points.\r\nA draw earns 1.\r\nA loss earns 0.\r\n\r\nThe outcome is ordered by points, descending.\r\nIn case of a tie, teams are ordered alphabetically.\r\n\r\n## Input\r\n\r\nYour tallying program will receive input that looks like:\r\n\r\n```text\r\nAllegoric Alaskans;Blithering Badgers;win\r\nDevastating Donkeys;Courageous Californians;draw\r\nDevastating Donkeys;Allegoric Alaskans;win\r\nCourageous Californians;Blithering Badgers;loss\r\nBlithering Badgers;Devastating Donkeys;loss\r\nAllegoric Alaskans;Courageous Californians;win\r\n```\r\n\r\nThe result of the match refers to the first team listed.\r\nSo this line:\r\n\r\n```text\r\nAllegoric Alaskans;Blithering Badgers;win\r\n```\r\n\r\nmeans that the Allegoric Alaskans beat the Blithering Badgers.\r\n\r\nThis line:\r\n\r\n```text\r\nCourageous Californians;Blithering Badgers;loss\r\n```\r\n\r\nmeans that the Blithering Badgers beat the Courageous Californians.\r\n\r\nAnd this line:\r\n\r\n```text\r\nDevastating Donkeys;Courageous Californians;draw\r\n```\r\n\r\nmeans that the Devastating Donkeys and Courageous Californians tied.\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "Tournament.cs": "public static class Tournament\r\n{   \r\n    public static void Tally(Stream inStream, Stream outStream)\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");    \r\n    }\r\n}\r\n"
  },
  "tests": {
    "TournamentTests.cs": "using System.Text;\r\n\r\npublic class TournamentTests\r\n{\r\n    [Fact]\r\n    public void Just_the_header_if_no_input()\r\n    {\r\n        var rows = \"\";\r\n        var expected = \"Team                           | MP |  W |  D |  L |  P\";\r\n        Assert.Equal(expected, RunTally(rows));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void A_win_is_three_points_a_loss_is_zero_points()\r\n    {\r\n        var rows = \"Allegoric Alaskans;Blithering Badgers;win\";\r\n        var expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" +\r\n            \"Allegoric Alaskans             |  1 |  1 |  0 |  0 |  3\\n\" +\r\n            \"Blithering Badgers             |  1 |  0 |  0 |  1 |  0\";\r\n        Assert.Equal(expected, RunTally(rows));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void A_win_can_also_be_expressed_as_a_loss()\r\n    {\r\n        var rows = \"Blithering Badgers;Allegoric Alaskans;loss\";\r\n        var expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" +\r\n            \"Allegoric Alaskans             |  1 |  1 |  0 |  0 |  3\\n\" +\r\n            \"Blithering Badgers             |  1 |  0 |  0 |  1 |  0\";\r\n        Assert.Equal(expected, RunTally(rows));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void A_different_team_can_win()\r\n    {\r\n        var rows = \"Blithering Badgers;Allegoric Alaskans;win\";\r\n        var expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" +\r\n            \"Blithering Badgers             |  1 |  1 |  0 |  0 |  3\\n\" +\r\n            \"Allegoric Alaskans             |  1 |  0 |  0 |  1 |  0\";\r\n        Assert.Equal(expected, RunTally(rows));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void A_draw_is_one_point_each()\r\n    {\r\n        var rows = \"Allegoric Alaskans;Blithering Badgers;draw\";\r\n        var expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" +\r\n            \"Allegoric Alaskans             |  1 |  0 |  1 |  0 |  1\\n\" +\r\n            \"Blithering Badgers             |  1 |  0 |  1 |  0 |  1\";\r\n        Assert.Equal(expected, RunTally(rows));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void There_can_be_more_than_one_match()\r\n    {\r\n        var rows =\r\n            \"Allegoric Alaskans;Blithering Badgers;win\\n\" +\r\n            \"Allegoric Alaskans;Blithering Badgers;win\";\r\n        var expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" +\r\n            \"Allegoric Alaskans             |  2 |  2 |  0 |  0 |  6\\n\" +\r\n            \"Blithering Badgers             |  2 |  0 |  0 |  2 |  0\";\r\n        Assert.Equal(expected, RunTally(rows));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void There_can_be_more_than_one_winner()\r\n    {\r\n        var rows =\r\n            \"Allegoric Alaskans;Blithering Badgers;loss\\n\" +\r\n            \"Allegoric Alaskans;Blithering Badgers;win\";\r\n        var expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" +\r\n            \"Allegoric Alaskans             |  2 |  1 |  0 |  1 |  3\\n\" +\r\n            \"Blithering Badgers             |  2 |  1 |  0 |  1 |  3\";\r\n        Assert.Equal(expected, RunTally(rows));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void There_can_be_more_than_two_teams()\r\n    {\r\n        var rows =\r\n            \"Allegoric Alaskans;Blithering Badgers;win\\n\" +\r\n            \"Blithering Badgers;Courageous Californians;win\\n\" +\r\n            \"Courageous Californians;Allegoric Alaskans;loss\";\r\n        var expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" +\r\n            \"Allegoric Alaskans             |  2 |  2 |  0 |  0 |  6\\n\" +\r\n            \"Blithering Badgers             |  2 |  1 |  0 |  1 |  3\\n\" +\r\n            \"Courageous Californians        |  2 |  0 |  0 |  2 |  0\";\r\n        Assert.Equal(expected, RunTally(rows));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Typical_input()\r\n    {\r\n        var rows =\r\n            \"Allegoric Alaskans;Blithering Badgers;win\\n\" +\r\n            \"Devastating Donkeys;Courageous Californians;draw\\n\" +\r\n            \"Devastating Donkeys;Allegoric Alaskans;win\\n\" +\r\n            \"Courageous Californians;Blithering Badgers;loss\\n\" +\r\n            \"Blithering Badgers;Devastating Donkeys;loss\\n\" +\r\n            \"Allegoric Alaskans;Courageous Californians;win\";\r\n        var expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" +\r\n            \"Devastating Donkeys            |  3 |  2 |  1 |  0 |  7\\n\" +\r\n            \"Allegoric Alaskans             |  3 |  2 |  0 |  1 |  6\\n\" +\r\n            \"Blithering Badgers             |  3 |  1 |  0 |  2 |  3\\n\" +\r\n            \"Courageous Californians        |  3 |  0 |  1 |  2 |  1\";\r\n        Assert.Equal(expected, RunTally(rows));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Incomplete_competition_not_all_pairs_have_played()\r\n    {\r\n        var rows =\r\n            \"Allegoric Alaskans;Blithering Badgers;loss\\n\" +\r\n            \"Devastating Donkeys;Allegoric Alaskans;loss\\n\" +\r\n            \"Courageous Californians;Blithering Badgers;draw\\n\" +\r\n            \"Allegoric Alaskans;Courageous Californians;win\";\r\n        var expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" +\r\n            \"Allegoric Alaskans             |  3 |  2 |  0 |  1 |  6\\n\" +\r\n            \"Blithering Badgers             |  2 |  1 |  1 |  0 |  4\\n\" +\r\n            \"Courageous Californians        |  2 |  0 |  1 |  1 |  1\\n\" +\r\n            \"Devastating Donkeys            |  1 |  0 |  0 |  1 |  0\";\r\n        Assert.Equal(expected, RunTally(rows));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Ties_broken_alphabetically()\r\n    {\r\n        var rows =\r\n            \"Courageous Californians;Devastating Donkeys;win\\n\" +\r\n            \"Allegoric Alaskans;Blithering Badgers;win\\n\" +\r\n            \"Devastating Donkeys;Allegoric Alaskans;loss\\n\" +\r\n            \"Courageous Californians;Blithering Badgers;win\\n\" +\r\n            \"Blithering Badgers;Devastating Donkeys;draw\\n\" +\r\n            \"Allegoric Alaskans;Courageous Californians;draw\";\r\n        var expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" +\r\n            \"Allegoric Alaskans             |  3 |  2 |  1 |  0 |  7\\n\" +\r\n            \"Courageous Californians        |  3 |  2 |  1 |  0 |  7\\n\" +\r\n            \"Blithering Badgers             |  3 |  0 |  1 |  2 |  1\\n\" +\r\n            \"Devastating Donkeys            |  3 |  0 |  1 |  2 |  1\";\r\n        Assert.Equal(expected, RunTally(rows));\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Ensure_points_sorted_numerically()\r\n    {\r\n        var rows =\r\n            \"Devastating Donkeys;Blithering Badgers;win\\n\" +\r\n            \"Devastating Donkeys;Blithering Badgers;win\\n\" +\r\n            \"Devastating Donkeys;Blithering Badgers;win\\n\" +\r\n            \"Devastating Donkeys;Blithering Badgers;win\\n\" +\r\n            \"Blithering Badgers;Devastating Donkeys;win\";\r\n        var expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" +\r\n            \"Devastating Donkeys            |  5 |  4 |  0 |  1 | 12\\n\" +\r\n            \"Blithering Badgers             |  5 |  1 |  0 |  4 |  3\";\r\n        Assert.Equal(expected, RunTally(rows));\r\n    }\r\n\r\n    private string RunTally(string input)\r\n    {\r\n        var encoding = new UTF8Encoding();\r\n        using (var inStream = new MemoryStream(encoding.GetBytes(input)))\r\n        using (var outStream = new MemoryStream())\r\n        {\r\n            Tournament.Tally(inStream, outStream);\r\n            return encoding.GetString(outStream.ToArray());\r\n        }\r\n    }\r\n}\r\n"
  }
}
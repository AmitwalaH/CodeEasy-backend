{
  "language": "csharp",
  "slug": "zipper",
  "docs": {
    "instructions": "# Instructions\r\n\r\nCreating a zipper for a binary tree.\r\n\r\n[Zippers][zipper] are a purely functional way of navigating within a data structure and manipulating it.\r\nThey essentially contain a data structure and a pointer into that data structure (called the focus).\r\n\r\nFor example given a rose tree (where each node contains a value and a list of child nodes) a zipper might support these operations:\r\n\r\n- `from_tree` (get a zipper out of a rose tree, the focus is on the root node)\r\n- `to_tree` (get the rose tree out of the zipper)\r\n- `value` (get the value of the focus node)\r\n- `prev` (move the focus to the previous child of the same parent,\r\n  returns a new zipper)\r\n- `next` (move the focus to the next child of the same parent, returns a\r\n  new zipper)\r\n- `up` (move the focus to the parent, returns a new zipper)\r\n- `set_value` (set the value of the focus node, returns a new zipper)\r\n- `insert_before` (insert a new subtree before the focus node, it\r\n  becomes the `prev` of the focus node, returns a new zipper)\r\n- `insert_after` (insert a new subtree after the focus node, it becomes\r\n  the `next` of the focus node, returns a new zipper)\r\n- `delete` (removes the focus node and all subtrees, focus moves to the\r\n  `next` node if possible otherwise to the `prev` node if possible,\r\n  otherwise to the parent node, returns a new zipper)\r\n\r\n[zipper]: https://en.wikipedia.org/wiki/Zipper_%28data_structure%29\r\n",
    "instructions_append": "# Hints\r\n\r\nThis exercise deals with custom equality. For more information see [this page.](http://www.loganfranken.com/blog/687/overriding-equals-in-c-part-1/)\r\n",
    "hints": ""
  },
  "starter_code": {
    "Zipper.cs": "public class BinTree\r\n{\r\n    public BinTree(int value, BinTree? left, BinTree? right)\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n\r\n    public int Value { get; }\r\n    public BinTree? Left { get; }\r\n    public BinTree? Right { get; }\r\n}\r\n\r\npublic class Zipper\r\n{   \r\n    public int Value()\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n\r\n    public Zipper SetValue(int newValue)\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n\r\n    public Zipper SetLeft(BinTree? binTree)\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n\r\n    public Zipper SetRight(BinTree? binTree) \r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n\r\n    public Zipper? Left()\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n\r\n    public Zipper? Right()\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n\r\n    public Zipper? Up()\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n\r\n    public BinTree ToTree()\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n\r\n    public static Zipper FromTree(BinTree tree)\r\n    {\r\n        throw new NotImplementedException(\"You need to implement this method.\");\r\n    }\r\n}"
  },
  "tests": {
    "ZipperTests.cs": "public class ZipperTests\r\n{\r\n    [Fact]\r\n    public void Data_is_retained()\r\n    {\r\n        var tree = new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        var sut = Zipper.FromTree(tree);\r\n        var actual = sut?.ToTree();\r\n        var expected = new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        Assert.Equal(expected, actual);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Left_right_and_value()\r\n    {\r\n        var tree = new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        var sut = Zipper.FromTree(tree);\r\n        var actual = sut?.Left()?.Right()?.Value();\r\n        var expected = 3;\r\n        Assert.Equal(expected, actual);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Dead_end()\r\n    {\r\n        var tree = new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        var sut = Zipper.FromTree(tree);\r\n        var actual = sut?.Left()?.Left();\r\n        Assert.Null(actual);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Tree_from_deep_focus()\r\n    {\r\n        var tree = new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        var sut = Zipper.FromTree(tree);\r\n        var actual = sut?.Left()?.Right()?.ToTree();\r\n        var expected = new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        Assert.Equal(expected, actual);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Traversing_up_from_top()\r\n    {\r\n        var tree = new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        var sut = Zipper.FromTree(tree);\r\n        var actual = sut?.Up();\r\n        Assert.Null(actual);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Left_right_and_up()\r\n    {\r\n        var tree = new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        var sut = Zipper.FromTree(tree);\r\n        var actual = sut?.Left()?.Up()?.Right()?.Up()?.Left()?.Right()?.Value();\r\n        var expected = 3;\r\n        Assert.Equal(expected, actual);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Test_ability_to_descend_multiple_levels_and_return()\r\n    {\r\n        var tree = new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        var sut = Zipper.FromTree(tree);\r\n        var actual = sut?.Left()?.Right()?.Up()?.Up()?.Value();\r\n        var expected = 1;\r\n        Assert.Equal(expected, actual);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Set_value()\r\n    {\r\n        var tree = new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        var sut = Zipper.FromTree(tree);\r\n        var actual = sut?.Left()?.SetValue(5)?.ToTree();\r\n        var expected = new BinTree(1, new BinTree(5, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        Assert.Equal(expected, actual);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Set_value_after_traversing_up()\r\n    {\r\n        var tree = new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        var sut = Zipper.FromTree(tree);\r\n        var actual = sut?.Left()?.Right()?.Up()?.SetValue(5)?.ToTree();\r\n        var expected = new BinTree(1, new BinTree(5, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        Assert.Equal(expected, actual);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Set_left_with_leaf()\r\n    {\r\n        var tree = new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        var sut = Zipper.FromTree(tree);\r\n        var actual = sut?.Left()?.SetLeft(new BinTree(5, null, null))?.ToTree();\r\n        var expected = new BinTree(1, new BinTree(2, new BinTree(5, null, null), new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        Assert.Equal(expected, actual);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Set_right_with_null()\r\n    {\r\n        var tree = new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        var sut = Zipper.FromTree(tree);\r\n        var actual = sut?.Left()?.SetRight(null)?.ToTree();\r\n        var expected = new BinTree(1, new BinTree(2, null, null), new BinTree(4, null, null));\r\n        Assert.Equal(expected, actual);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Set_right_with_subtree()\r\n    {\r\n        var tree = new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        var sut = Zipper.FromTree(tree);\r\n        var actual = sut?.SetRight(new BinTree(6, new BinTree(7, null, null), new BinTree(8, null, null)))?.ToTree();\r\n        var expected = new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(6, new BinTree(7, null, null), new BinTree(8, null, null)));\r\n        Assert.Equal(expected, actual);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Set_value_on_deep_focus()\r\n    {\r\n        var tree = new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        var sut = Zipper.FromTree(tree);\r\n        var actual = sut?.Left()?.Right()?.SetValue(5)?.ToTree();\r\n        var expected = new BinTree(1, new BinTree(2, null, new BinTree(5, null, null)), new BinTree(4, null, null));\r\n        Assert.Equal(expected, actual);\r\n    }\r\n\r\n    [Fact(Skip = \"Remove this Skip property to run this test\")]\r\n    public void Different_paths_to_same_zipper()\r\n    {\r\n        var tree = new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(4, null, null));\r\n        var sut = Zipper.FromTree(tree);\r\n        var actual = sut?.Left()?.Up()?.Right();\r\n        var expected = Zipper.FromTree(new BinTree(1, new BinTree(2, null, new BinTree(3, null, null)), new BinTree(4, null, null)))?.Right();\r\n        Assert.Equal(expected, actual);\r\n    }\r\n}\r\n"
  }
}
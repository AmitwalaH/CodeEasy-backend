{
  "language": "php",
  "slug": "type-juggling",
  "title": "Type Juggling",
  "docs": {
    "about": "# Type Juggling\r\n\r\nType juggling may also be known as type coercion.\r\nType juggling is when two values of different types are coerced to the same type to perform an operation.\r\n\r\n```php\r\n$baskets = 5 // int\r\n$apples_per_basket = \"3\" // string\r\n$baskets * $apples_per_basket\r\n# => 15 // int\r\n```\r\n\r\nWhen the expression is evaluated, the string value is implicitly converted to an `int` to match the expectation of the `*` operator.\r\nThe decision, which type to coerce, is made by PHP according to the rules of the operation and these rules vary largely.\r\n\r\nType coercion also happens when calling functions and methods:\r\n\r\n```php\r\nstrlen(12321);\r\n# => 5\r\n```\r\n\r\n## Type Casting\r\n\r\nRather than relying on implicit coercion, we can explicitly force a value to be evaluated as a certain type using `C`-style type casting:\r\n\r\n```php\r\n$apples_per_basket = \"3\" // string\r\n$my_number = (int) $apples_per_basket // cast string to int\r\n# => 3 // int\r\n```\r\n\r\nThis will convert the value to the type specified in the brackets `(...)`.\r\nAll primitive types can be used as the target type: `bool`, `int`, `float`, `string`, `array`, `object`.\r\n\r\n## Temporary conversion only\r\n\r\nType juggling or casting **does not change** the type of the value stored in a variable.\r\nOnly the input to the operation is converted.\r\n\r\n```php\r\n$apples_per_basket = \"3\" // string\r\n5 * $apples_per_basket\r\n# $apples_per_basket => \"3\" // string\r\n\r\n$my_number = (int) $apples_per_basket // cast string to int\r\n# $apples_per_basket => \"3\" // string\r\n```\r\n\r\n## Loss of information\r\n\r\nWhen a value is coerced to another type, there may be a loss of information in the process:\r\n\r\n```php\r\n$exact_distance = 15.5\r\n$rough_distance = (int) $exact_distance\r\n// => 15\r\n\r\n$is_distant = (bool) $exact_distance\r\n// => true\r\n\r\n$erroneous_distance = (float) $is_distant\r\n// => 1.0\r\n```\r\n\r\nRelying on casting, either explicitly or implicitly, may produce errors in a larger system.\r\n\r\n## Explicit type casting to `array` and `object`\r\n\r\nValues can be cast to `array` and `object` types as well.\r\nIf a value, which is not an array or an object is cast to an `array`, it is converted to a single item present in an array:\r\n\r\n```php\r\n$day_of_the_week = 'Monday';\r\n(array) $day_of_the_week\r\n// => array(1) {\r\n//      [0]=>\r\n//        string(6) \"Monday\"\r\n//    }\r\n```\r\n\r\nWhen cast to an `object`, the value is set to a public property named `scalar`:\r\n\r\n```php\r\n$car = \"Honda\"\r\n(object) $car\r\n// => object(stdClass)#1 (1) {\r\n//      [\"scalar\"]=>\r\n//        string(5) \"Honda\"\r\n//    }\r\n```\r\n\r\n> `stdClass` is the type of an anonymous class built-in to PHP.\r\n",
    "introduction": "# Type Juggling\r\n\r\nType juggling may also be known as type coercion.\r\nType juggling is when two values of different types are coerced to the same type to perform an operation.\r\n\r\n```php\r\n$baskets = 5 // int\r\n$apples_per_basket = \"3\" // string\r\n$baskets * $apples_per_basket\r\n# => 15\r\n```\r\n\r\nThis can be done implicitly (see above example), or explicitly with `C`-style type casting:\r\n\r\n```php\r\n$apples_per_basket = \"3\" // string\r\n$my_number = (int) $apples_per_basket // cast string to int\r\n# => 3 // int\r\n```\r\n\r\nAllowed types for manual type casting are: `bool`, `int`, `float`, `string`, `array`, `object`.\r\nMost commonly, type casting is used to change an integer (`int`) to a float (`float`) or vice-versa.\r\n"
  },
  "links": [
    {
      "url": "https://www.php.net/manual/en/language.types.type-juggling.php",
      "description": "Type Juggling"
    }
  ]
}
{
  "language": "php",
  "slug": "ocr-numbers",
  "docs": {
    "instructions": "# Instructions\r\n\r\nOptical Character Recognition or OCR is software that converts images of text into machine-readable text.\r\nGiven a grid of characters representing some digits, convert the grid to a string of digits.\r\nIf the grid has multiple rows of cells, the rows should be separated in the output with a `\",\"`.\r\n\r\n- The grid is made of one of more lines of cells.\r\n- Each line of the grid is made of one or more cells.\r\n- Each cell is three columns wide and four rows high (3x4) and represents one digit.\r\n- Digits are drawn using pipes (`\"|\"`), underscores (`\"_\"`), and spaces (`\" \"`).\r\n\r\n## Edge cases\r\n\r\n- If the input is not a valid size, your program should indicate there is an error.\r\n- If the input is the correct size, but a cell is not recognizable, your program should output a `\"?\"` for that character.\r\n\r\n## Examples\r\n\r\nThe following input (without the comments) is converted to `\"1234567890\"`.\r\n\r\n```text\r\n      _  _     _  _  _  _  _  _  #\r\n    | _| _||_||_ |_   ||_||_|| | # Decimal numbers.\r\n    ||_  _|  | _||_|  ||_| _||_| #\r\n                                 # The fourth line is always blank,\r\n```\r\n\r\nThe following input is converted to `\"123,456,789\"`.\r\n\r\n<!-- prettier-ignore-start -->\r\n\r\n```text\r\n    _  _ \r\n  | _| _|\r\n  ||_  _|\r\n         \r\n    _  _ \r\n|_||_ |_ \r\n  | _||_|\r\n         \r\n _  _  _ \r\n  ||_||_|\r\n  ||_| _|\r\n         \r\n```\r\n\r\n<!-- prettier-ignore-end -->\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "OcrNumbers.php": "<?php\r\n\r\n/*\r\n * By adding type hints and enabling strict type checking, code can become\r\n * easier to read, self-documenting and reduce the number of potential bugs.\r\n * By default, type declarations are non-strict, which means they will attempt\r\n * to change the original type to match the type specified by the\r\n * type-declaration.\r\n *\r\n * In other words, if you pass a string to a function requiring a float,\r\n * it will attempt to convert the string value to a float.\r\n *\r\n * To enable strict mode, a single declare directive must be placed at the top\r\n * of the file.\r\n * This means that the strictness of typing is configured on a per-file basis.\r\n * This directive not only affects the type declarations of parameters, but also\r\n * a function's return type.\r\n *\r\n * For more info review the Concept on strict type checking in the PHP track\r\n * <link>.\r\n *\r\n * To disable strict typing, comment out the directive below.\r\n */\r\n\r\ndeclare(strict_types=1);\r\n\r\nfunction recognize(array $input): string\r\n{\r\n    throw new \\BadFunctionCallException(\"Implement the recognize function\");\r\n}\r\n"
  },
  "tests": {
    "OcrNumbersTest.php": "<?php\r\n\r\ndeclare(strict_types=1);\r\n\r\nuse PHPUnit\\Framework\\Attributes\\TestDox;\r\nuse PHPUnit\\Framework\\TestCase;\r\n\r\nclass OcrNumbersTest extends TestCase\r\n{\r\n    public static function setUpBeforeClass(): void\r\n    {\r\n        require_once 'OcrNumbers.php';\r\n    }\r\n\r\n    /**\r\n     * uuid: 5ee54e1a-b554-4bf3-a056-9a7976c3f7e8\r\n     */\r\n    #[TestDox('Recognizes 0')]\r\n    public function testRecognizes0(): void\r\n    {\r\n        $input = [\r\n            \" _ \",\r\n            \"| |\",\r\n            \"|_|\",\r\n            \"   \",\r\n        ];\r\n        $this->assertSame('0', recognize($input));\r\n    }\r\n\r\n    /**\r\n     * uuid: 027ada25-17fd-4d78-aee6-35a19623639d\r\n     */\r\n    #[TestDox('Recognizes 1')]\r\n    public function testRecognizes1(): void\r\n    {\r\n        $input = [\r\n            \"   \",\r\n            \"  |\",\r\n            \"  |\",\r\n            \"   \",\r\n        ];\r\n        $this->assertSame('1', recognize($input));\r\n    }\r\n\r\n    /**\r\n     * uuid: 3cce2dbd-01d9-4f94-8fae-419a822e89bb\r\n     */\r\n    #[TestDox('Unreadable but correctly sized inputs return ?')]\r\n    public function testUnreadableButCorrectlySizedInputsReturnQuestionmark(): void\r\n    {\r\n        $input = [\r\n            \"   \",\r\n            \"  _\",\r\n            \"  |\",\r\n            \"   \",\r\n        ];\r\n        $this->assertSame('?', recognize($input));\r\n    }\r\n\r\n    /**\r\n     * uuid: cb19b733-4e36-4cf9-a4a1-6e6aac808b9a\r\n     */\r\n    #[TestDox('Input with a number of lines that is not a multiple of four raises an error')]\r\n    public function testInputWithANumberOfLinesThatIsNotAMultipleOfFourRaisesAnError(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n\r\n        $input = [\r\n            \" _ \",\r\n            \"| |\",\r\n            \"   \",\r\n        ];\r\n        recognize($input);\r\n    }\r\n\r\n    /**\r\n     * uuid: 235f7bd1-991b-4587-98d4-84206eec4cc6\r\n     */\r\n    #[TestDox('Input with a number of columns that is not a multiple of three raises an error')]\r\n    public function testInputWithANumberOfColumnsThatIsNotAMultipleOfThreeRaisesAnError(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n\r\n        $input = [\r\n            \"    \",\r\n            \"   |\",\r\n            \"   |\",\r\n            \"    \",\r\n        ];\r\n        recognize($input);\r\n    }\r\n\r\n    /**\r\n     * uuid: 4a841794-73c9-4da9-a779-1f9837faff66\r\n     */\r\n    #[TestDox('Recognizes 110101100')]\r\n    public function testRecognizes110101100(): void\r\n    {\r\n        $input = [\r\n            \"       _     _        _  _ \",\r\n            \"  |  || |  || |  |  || || |\",\r\n            \"  |  ||_|  ||_|  |  ||_||_|\",\r\n            \"                           \",\r\n        ];\r\n        $this->assertSame('110101100', recognize($input));\r\n    }\r\n\r\n    /**\r\n     * uuid: 70c338f9-85b1-4296-a3a8-122901cdfde8\r\n     */\r\n    #[TestDox('Garbled numbers in a string are replaced with ?')]\r\n    public function testGarbledNumbersInAStringAreReplacedWithQuestionmark(): void\r\n    {\r\n        $input = [\r\n            \"       _     _           _ \",\r\n            \"  |  || |  || |     || || |\",\r\n            \"  |  | _|  ||_|  |  ||_||_|\",\r\n            \"                           \",\r\n        ];\r\n        $this->assertSame('11?10?1?0', recognize($input));\r\n    }\r\n\r\n    /**\r\n     * uuid: ea494ff4-3610-44d7-ab7e-72fdef0e0802\r\n     */\r\n    #[TestDox('Recognizes 2')]\r\n    public function testRecognizes2(): void\r\n    {\r\n        $input = [\r\n            \" _ \",\r\n            \" _|\",\r\n            \"|_ \",\r\n            \"   \",\r\n        ];\r\n        $this->assertSame('2', recognize($input));\r\n    }\r\n\r\n    /**\r\n     * uuid: 1acd2c00-412b-4268-93c2-bd7ff8e05a2c\r\n     */\r\n    #[TestDox('Recognizes 3')]\r\n    public function testRecognizes3(): void\r\n    {\r\n        $input = [\r\n            \" _ \",\r\n            \" _|\",\r\n            \" _|\",\r\n            \"   \",\r\n        ];\r\n        $this->assertSame('3', recognize($input));\r\n    }\r\n\r\n    /**\r\n     * uuid: eaec6a15-be17-4b6d-b895-596fae5d1329\r\n     */\r\n    #[TestDox('Recognizes 4')]\r\n    public function testRecognizes4(): void\r\n    {\r\n        $input = [\r\n            \"   \",\r\n            \"|_|\",\r\n            \"  |\",\r\n            \"   \",\r\n        ];\r\n        $this->assertSame('4', recognize($input));\r\n    }\r\n\r\n    /**\r\n     * uuid: 440f397a-f046-4243-a6ca-81ab5406c56e\r\n     */\r\n    #[TestDox('Recognizes 5')]\r\n    public function testRecognizes5(): void\r\n    {\r\n        $input = [\r\n            \" _ \",\r\n            \"|_ \",\r\n            \" _|\",\r\n            \"   \",\r\n        ];\r\n        $this->assertSame('5', recognize($input));\r\n    }\r\n\r\n    /**\r\n     * uuid: f4c9cf6a-f1e2-4878-bfc3-9b85b657caa0\r\n     */\r\n    #[TestDox('Recognizes 6')]\r\n    public function testRecognizes6(): void\r\n    {\r\n        $input = [\r\n            \" _ \",\r\n            \"|_ \",\r\n            \"|_|\",\r\n            \"   \",\r\n        ];\r\n        $this->assertSame('6', recognize($input));\r\n    }\r\n\r\n    /**\r\n     * uuid: e24ebf80-c611-41bb-a25a-ac2c0f232df5\r\n     */\r\n    #[TestDox('Recognizes 7')]\r\n    public function testRecognizes7(): void\r\n    {\r\n        $input = [\r\n            \" _ \",\r\n            \"  |\",\r\n            \"  |\",\r\n            \"   \",\r\n        ];\r\n        $this->assertSame('7', recognize($input));\r\n    }\r\n\r\n    /**\r\n     * uuid: b79cad4f-e264-4818-9d9e-77766792e233\r\n     */\r\n    #[TestDox('Recognizes 8')]\r\n    public function testRecognizes8(): void\r\n    {\r\n        $input = [\r\n            \" _ \",\r\n            \"|_|\",\r\n            \"|_|\",\r\n            \"   \",\r\n        ];\r\n        $this->assertSame('8', recognize($input));\r\n    }\r\n\r\n    /**\r\n     * uuid: 5efc9cfc-9227-4688-b77d-845049299e66\r\n     */\r\n    #[TestDox('Recognizes 9')]\r\n    public function testRecognizes9(): void\r\n    {\r\n        $input = [\r\n            \" _ \",\r\n            \"|_|\",\r\n            \" _|\",\r\n            \"   \",\r\n        ];\r\n        $this->assertSame('9', recognize($input));\r\n    }\r\n\r\n    /**\r\n     * uuid: f60cb04a-42be-494e-a535-3451c8e097a4\r\n     */\r\n    #[TestDox('Recognizes string of decimal numbers')]\r\n    public function testRecognizesStringOfDecimalNumbers(): void\r\n    {\r\n        $input = [\r\n            \"    _  _     _  _  _  _  _  _ \",\r\n            \"  | _| _||_||_ |_   ||_||_|| |\",\r\n            \"  ||_  _|  | _||_|  ||_| _||_|\",\r\n            \"                              \",\r\n        ];\r\n        $this->assertSame('1234567890', recognize($input));\r\n    }\r\n\r\n    /**\r\n     * uuid: b73ecf8b-4423-4b36-860d-3710bdb8a491\r\n     */\r\n    #[TestDox('Numbers separated by empty lines are recognized. Lines are joined by commas.')]\r\n    public function testNumbersSeparatedByEmptyLinesAreRecognizedLinesAreJoinedByCommas(): void\r\n    {\r\n        $input = [\r\n            \"    _  _ \",\r\n            \"  | _| _|\",\r\n            \"  ||_  _|\",\r\n            \"         \",\r\n            \"    _  _ \",\r\n            \"|_||_ |_ \",\r\n            \"  | _||_|\",\r\n            \"         \",\r\n            \" _  _  _ \",\r\n            \"  ||_||_|\",\r\n            \"  ||_| _|\",\r\n            \"         \",\r\n        ];\r\n        $this->assertSame('123,456,789', recognize($input));\r\n    }\r\n}\r\n"
  }
}
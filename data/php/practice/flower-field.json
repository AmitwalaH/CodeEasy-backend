{
  "language": "php",
  "slug": "flower-field",
  "docs": {
    "instructions": "# Instructions\r\n\r\nYour task is to add flower counts to empty squares in a completed Flower Field garden.\r\nThe garden itself is a rectangle board composed of squares that are either empty (`' '`) or a flower (`'*'`).\r\n\r\nFor each empty square, count the number of flowers adjacent to it (horizontally, vertically, diagonally).\r\nIf the empty square has no adjacent flowers, leave it empty.\r\nOtherwise replace it with the count of adjacent flowers.\r\n\r\nFor example, you may receive a 5 x 4 board like this (empty spaces are represented here with the '·' character for display on screen):\r\n\r\n```text\r\n·*·*·\r\n··*··\r\n··*··\r\n·····\r\n```\r\n\r\nWhich your code should transform into this:\r\n\r\n```text\r\n1*3*1\r\n13*31\r\n·2*2·\r\n·111·\r\n```\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "FlowerField.php": "<?php\r\n\r\n/*\r\n * By adding type hints and enabling strict type checking, code can become\r\n * easier to read, self-documenting and reduce the number of potential bugs.\r\n * By default, type declarations are non-strict, which means they will attempt\r\n * to change the original type to match the type specified by the\r\n * type-declaration.\r\n *\r\n * In other words, if you pass a string to a function requiring a float,\r\n * it will attempt to convert the string value to a float.\r\n *\r\n * To enable strict mode, a single declare directive must be placed at the top\r\n * of the file.\r\n * This means that the strictness of typing is configured on a per-file basis.\r\n * This directive not only affects the type declarations of parameters, but also\r\n * a function's return type.\r\n *\r\n * For more info review the Concept on strict type checking in the PHP track\r\n * <link>.\r\n *\r\n * To disable strict typing, comment out the directive below.\r\n */\r\n\r\ndeclare(strict_types=1);\r\n\r\nclass FlowerField\r\n{\r\n    public function __construct(array $garden)\r\n    {\r\n    }\r\n\r\n    public function annotate(): array\r\n    {\r\n        throw new \\BadFunctionCallException(sprintf('Implement the %s method', __FUNCTION__));\r\n    }\r\n}\r\n"
  },
  "tests": {
    "FlowerFieldTest.php": "<?php\r\n\r\ndeclare(strict_types=1);\r\n\r\nuse PHPUnit\\Framework\\TestCase;\r\nuse PHPUnit\\Framework\\Attributes\\TestDox;\r\n\r\nclass FlowerFieldTest extends TestCase\r\n{\r\n    public static function setUpBeforeClass(): void\r\n    {\r\n        require_once 'FlowerField.php';\r\n    }\r\n\r\n    /**\r\n     * uuid 0c5ec4bd-dea7-4138-8651-1203e1cb9f44\r\n     */\r\n    #[TestDox('No rows')]\r\n    public function testNoRows(): void\r\n    {\r\n        $garden = [];\r\n        $expected = [];\r\n\r\n        $subject = new FlowerField($garden);\r\n        $actual = $subject->annotate();\r\n\r\n        $this->assertSame($expected, $actual);\r\n    }\r\n\r\n    /**\r\n     * uuid 650ac4c0-ad6b-4b41-acde-e4ea5852c3b8\r\n     */\r\n    #[TestDox('No columns')]\r\n    public function testNoColumns(): void\r\n    {\r\n        $garden = [\"\"];\r\n        $expected = [\"\"];\r\n\r\n        $subject = new FlowerField($garden);\r\n        $actual = $subject->annotate();\r\n\r\n        $this->assertSame($expected, $actual);\r\n    }\r\n\r\n    /**\r\n     * uuid 6fbf8f6d-a03b-42c9-9a58-b489e9235478\r\n     */\r\n    #[TestDox('No flowers')]\r\n    public function testNoFlowers(): void\r\n    {\r\n        $garden = [\r\n            \"   \",\r\n            \"   \",\r\n            \"   \",\r\n        ];\r\n        $expected = [\r\n            \"   \",\r\n            \"   \",\r\n            \"   \",\r\n        ];\r\n\r\n        $subject = new FlowerField($garden);\r\n        $actual = $subject->annotate();\r\n\r\n        $this->assertSame($expected, $actual);\r\n    }\r\n\r\n    /**\r\n     * uuid 61aff1c4-fb31-4078-acad-cd5f1e635655\r\n     */\r\n    #[TestDox('Flowerfield with only flowers')]\r\n    public function testFlowerfieldWithOnlyFlowers(): void\r\n    {\r\n        $garden = [\r\n            \"***\",\r\n            \"***\",\r\n            \"***\",\r\n        ];\r\n        $expected = [\r\n            \"***\",\r\n            \"***\",\r\n            \"***\",\r\n        ];\r\n\r\n        $subject = new FlowerField($garden);\r\n        $actual = $subject->annotate();\r\n\r\n        $this->assertSame($expected, $actual);\r\n    }\r\n\r\n    /**\r\n     * uuid 84167147-c504-4896-85d7-246b01dea7c5\r\n     */\r\n    #[TestDox('Flower surrounded by spaces')]\r\n    public function testFlowerSurroundedBySpaces(): void\r\n    {\r\n        $garden = [\r\n            \"   \",\r\n            \" * \",\r\n            \"   \",\r\n        ];\r\n        $expected = [\r\n            \"111\",\r\n            \"1*1\",\r\n            \"111\",\r\n        ];\r\n\r\n        $subject = new FlowerField($garden);\r\n        $actual = $subject->annotate();\r\n\r\n        $this->assertSame($expected, $actual);\r\n    }\r\n\r\n    /**\r\n     * uuid cb878f35-43e3-4c9d-93d9-139012cccc4a\r\n     */\r\n    #[TestDox('Space surrounded by flowers')]\r\n    public function testSpaceSurroundedByFlowers(): void\r\n    {\r\n        $garden = [\r\n            \"***\",\r\n            \"* *\",\r\n            \"***\",\r\n        ];\r\n        $expected = [\r\n            \"***\",\r\n            \"*8*\",\r\n            \"***\",\r\n        ];\r\n\r\n        $subject = new FlowerField($garden);\r\n        $actual = $subject->annotate();\r\n\r\n        $this->assertSame($expected, $actual);\r\n    }\r\n\r\n    /**\r\n     * uuid 7037f483-ddb4-4b35-b005-0d0f4ef4606f\r\n     */\r\n    #[TestDox('Horizontal line')]\r\n    public function testHorizontalLine(): void\r\n    {\r\n        $garden = [\" * * \"];\r\n        $expected = [\"1*2*1\"];\r\n\r\n        $subject = new FlowerField($garden);\r\n        $actual = $subject->annotate();\r\n\r\n        $this->assertSame($expected, $actual);\r\n    }\r\n\r\n    /**\r\n     * uuid uuid\r\n     */\r\n    #[TestDox('Horizontal line, flowers at edges')]\r\n    public function testHorizontalLineFlowersAtEdges(): void\r\n    {\r\n        $garden = [\"*   *\"];\r\n        $expected = [\"*1 1*\"];\r\n\r\n        $subject = new FlowerField($garden);\r\n        $actual = $subject->annotate();\r\n\r\n        $this->assertSame($expected, $actual);\r\n    }\r\n\r\n    /**\r\n     * uuid c5198b50-804f-47e9-ae02-c3b42f7ce3ab\r\n     */\r\n    #[TestDox('Vertical line')]\r\n    public function testVerticalLine(): void\r\n    {\r\n        $garden = [\r\n            \" \",\r\n            \"*\",\r\n            \" \",\r\n            \"*\",\r\n            \" \",\r\n        ];\r\n        $expected = [\r\n            \"1\",\r\n            \"*\",\r\n            \"2\",\r\n            \"*\",\r\n            \"1\",\r\n        ];\r\n\r\n        $subject = new FlowerField($garden);\r\n        $actual = $subject->annotate();\r\n\r\n        $this->assertSame($expected, $actual);\r\n    }\r\n\r\n    /**\r\n     * uuid 0c79a64d-703d-4660-9e90-5adfa5408939\r\n     */\r\n    #[TestDox('Vertical line, flowers at edges')]\r\n    public function testVerticalLineFlowersAtEdges(): void\r\n    {\r\n        $garden = [\r\n            \"*\",\r\n            \" \",\r\n            \" \",\r\n            \" \",\r\n            \"*\",\r\n        ];\r\n        $expected = [\r\n            \"*\",\r\n            \"1\",\r\n            \" \",\r\n            \"1\",\r\n            \"*\",\r\n        ];\r\n\r\n        $subject = new FlowerField($garden);\r\n        $actual = $subject->annotate();\r\n\r\n        $this->assertSame($expected, $actual);\r\n    }\r\n\r\n    /**\r\n     * uuid 4b098563-b7f3-401c-97c6-79dd1b708f34\r\n     */\r\n    #[TestDox('Cross')]\r\n    public function testCross(): void\r\n    {\r\n        $garden = [\r\n            \"  *  \",\r\n            \"  *  \",\r\n            \"*****\",\r\n            \"  *  \",\r\n            \"  *  \",\r\n        ];\r\n        $expected = [\r\n            \" 2*2 \",\r\n            \"25*52\",\r\n            \"*****\",\r\n            \"25*52\",\r\n            \" 2*2 \",\r\n        ];\r\n\r\n        $subject = new FlowerField($garden);\r\n        $actual = $subject->annotate();\r\n\r\n        $this->assertSame($expected, $actual);\r\n    }\r\n\r\n    /**\r\n     * uuid 04a260f1-b40a-4e89-839e-8dd8525abe0e\r\n     */\r\n    #[TestDox('Large garden')]\r\n    public function testLargeFlowerfield(): void\r\n    {\r\n        $garden = [\r\n            \" *  * \",\r\n            \"  *   \",\r\n            \"    * \",\r\n            \"   * *\",\r\n            \" *  * \",\r\n            \"      \",\r\n        ];\r\n        $expected = [\r\n            \"1*22*1\",\r\n            \"12*322\",\r\n            \" 123*2\",\r\n            \"112*4*\",\r\n            \"1*22*2\",\r\n            \"111111\",\r\n        ];\r\n\r\n        $subject = new FlowerField($garden);\r\n        $actual = $subject->annotate();\r\n\r\n        $this->assertSame($expected, $actual);\r\n    }\r\n\r\n    /**\r\n     * uuid 6e4ac13a-3e43-4728-a2e3-3551d4b1a996\r\n     */\r\n    #[TestDox('Multiple adjacent flowers')]\r\n    public function testMultipleAdjacentFlowers(): void\r\n    {\r\n        $garden = [\" ** \"];\r\n        $expected = [\"1**1\"];\r\n\r\n        $subject = new FlowerField($garden);\r\n        $actual = $subject->annotate();\r\n\r\n        $this->assertSame($expected, $actual);\r\n    }\r\n}\r\n"
  }
}
{
  "language": "php",
  "slug": "phone-number",
  "docs": {
    "instructions": "# Instructions\r\n\r\nClean up phone numbers so that they can be sent SMS messages.\r\n\r\nThe **North American Numbering Plan (NANP)** is a telephone numbering system used by many countries in North America like the United States, Canada or Bermuda.\r\nAll NANP-countries share the same international country code: `1`.\r\n\r\nNANP numbers are ten-digit numbers consisting of a three-digit Numbering Plan Area code, commonly known as _area code_, followed by a seven-digit local number.\r\nThe first three digits of the local number represent the _exchange code_, followed by the unique four-digit number which is the _subscriber number_.\r\n\r\nThe format is usually represented as\r\n\r\n```text\r\nNXX NXX-XXXX\r\n```\r\n\r\nwhere `N` is any digit from 2 through 9 and `X` is any digit from 0 through 9.\r\n\r\nSometimes they also have the country code (represented as `1` or `+1`) prefixed.\r\n\r\nYour task is to clean up differently formatted telephone numbers by removing punctuation and the country code if present.\r\n\r\nFor example, the inputs\r\n\r\n- `+1 (613)-995-0253`\r\n- `613-995-0253`\r\n- `1 613 995 0253`\r\n- `613.995.0253`\r\n\r\nshould all produce the output\r\n\r\n`6139950253`\r\n\r\n**Note:** As this exercise only deals with telephone numbers used in NANP-countries, only 1 is considered a valid country code.\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "PhoneNumber.php": "<?php\r\n\r\n/*\r\n * By adding type hints and enabling strict type checking, code can become\r\n * easier to read, self-documenting and reduce the number of potential bugs.\r\n * By default, type declarations are non-strict, which means they will attempt\r\n * to change the original type to match the type specified by the\r\n * type-declaration.\r\n *\r\n * In other words, if you pass a string to a function requiring a float,\r\n * it will attempt to convert the string value to a float.\r\n *\r\n * To enable strict mode, a single declare directive must be placed at the top\r\n * of the file.\r\n * This means that the strictness of typing is configured on a per-file basis.\r\n * This directive not only affects the type declarations of parameters, but also\r\n * a function's return type.\r\n *\r\n * For more info review the Concept on strict type checking in the PHP track\r\n * <link>.\r\n *\r\n * To disable strict typing, comment out the directive below.\r\n */\r\n\r\ndeclare(strict_types=1);\r\n\r\nclass PhoneNumber\r\n{\r\n    public function number(): string\r\n    {\r\n        throw new \\BadMethodCallException(\"Implement the number method\");\r\n    }\r\n}\r\n"
  },
  "tests": {
    "PhoneNumberTest.php": "<?php\r\n\r\ndeclare(strict_types=1);\r\n\r\nuse PHPUnit\\Framework\\TestCase;\r\nuse PHPUnit\\Framework\\Attributes\\TestDox;\r\n\r\nclass PhoneNumberTest extends TestCase\r\n{\r\n    public static function setUpBeforeClass(): void\r\n    {\r\n        require_once 'PhoneNumber.php';\r\n    }\r\n\r\n    /**\r\n     * uuid 79666dce-e0f1-46de-95a1-563802913c35\r\n     */\r\n    #[TestDox('cleans the number')]\r\n    public function testCleansTheNumber(): void\r\n    {\r\n        $number = new PhoneNumber('(223) 456-7890');\r\n        $this->assertEquals('2234567890', $number->number());\r\n    }\r\n\r\n    /**\r\n     * uuid c360451f-549f-43e4-8aba-fdf6cb0bf83f\r\n     */\r\n    #[TestDox('cleans numbers with dots')]\r\n    public function testCleansTheNumberWithDots(): void\r\n    {\r\n        $number = new PhoneNumber('223.456.7890');\r\n        $this->assertEquals('2234567890', $number->number());\r\n    }\r\n\r\n    /**\r\n     * uuid 08f94c34-9a37-46a2-a123-2a8e9727395d\r\n     */\r\n    #[TestDox('cleans numbers with multiple spaces')]\r\n    public function testCleansTheNumberWithMultipleSpaces(): void\r\n    {\r\n        $number = new PhoneNumber('223 456   7890   ');\r\n        $this->assertEquals('2234567890', $number->number());\r\n    }\r\n\r\n    /**\r\n     * uuid 2de74156-f646-42b5-8638-0ef1d8b58bc2\r\n     */\r\n    #[TestDox('invalid when 9 digits')]\r\n    public function testInvalidWhen9Digits(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n\r\n        new PhoneNumber('123456789');\r\n    }\r\n\r\n    /**\r\n     * uuid 57061c72-07b5-431f-9766-d97da7c4399d\r\n     */\r\n    #[TestDox('invalid when 11 digits does not start with a 1')]\r\n    public function testInvalidWhen11DigitsDoesNotStartWithA1(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('11 digits must start with 1');\r\n\r\n        new PhoneNumber('22234567890');\r\n    }\r\n\r\n    /**\r\n     * uuid 9962cbf3-97bb-4118-ba9b-38ff49c64430\r\n     */\r\n    #[TestDox('valid when 11 digits and starting with 1')]\r\n    public function testValidWhen11DigitsAndStartingWith1(): void\r\n    {\r\n        $number = new PhoneNumber('12234567890');\r\n        $this->assertEquals('2234567890', $number->number());\r\n    }\r\n\r\n    /**\r\n     * uuid fa724fbf-054c-4d91-95da-f65ab5b6dbca\r\n     */\r\n    #[TestDox('valid when 11 digits and starting with 1 even with punctuation')]\r\n    public function testValidWhen11DigitsAndStartingWith1EvenWithPunctuation(): void\r\n    {\r\n        $number = new PhoneNumber('+1 (223) 456-7890');\r\n        $this->assertEquals('2234567890', $number->number());\r\n    }\r\n\r\n    /**\r\n     * uuid 4a1509b7-8953-4eec-981b-c483358ff531\r\n     */\r\n    #[TestDox('invalid when more than 11 digits')]\r\n    public function testInvalidWhenMoreThan11Digits(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n\r\n        new PhoneNumber('321234567890');\r\n    }\r\n\r\n    /**\r\n     * uuid eb8a1fc0-64e5-46d3-b0c6-33184208e28a\r\n     */\r\n    #[TestDox('invalid with letters')]\r\n    public function testInvalidWithLetters(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('letters not permitted');\r\n\r\n        new PhoneNumber('523-abc-7890');\r\n    }\r\n\r\n    /**\r\n     * uuid 065f6363-8394-4759-b080-e6c8c351dd1f\r\n     */\r\n    #[TestDox('invalid with punctuations')]\r\n    public function testInvalidWithPunctuation(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('punctuations not permitted');\r\n\r\n        new PhoneNumber('523-@:!-7890');\r\n    }\r\n\r\n    /**\r\n     * uuid d77d07f8-873c-4b17-8978-5f66139bf7d7\r\n     */\r\n    #[TestDox('invalid if area code starts with 0')]\r\n    public function testInvalidIfAreaCodeStartsWith0(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('area code cannot start with zero');\r\n\r\n        new PhoneNumber('(023) 456-7890');\r\n    }\r\n\r\n    /**\r\n     * uuid c7485cfb-1e7b-4081-8e96-8cdb3b77f15e\r\n     */\r\n    #[TestDox('invalid if area code starts with 1')]\r\n    public function testInvalidIfAreaCodeStartsWith1(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('area code cannot start with one');\r\n\r\n        new PhoneNumber('(123) 456-7890');\r\n    }\r\n\r\n    /**\r\n     * uuid 4d622293-6976-413d-b8bf-dd8a94d4e2ac\r\n     */\r\n    #[TestDox('invalid if exchange code starts with 0')]\r\n    public function testInvalidIfExchangeCodeStartsWith0(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('exchange code cannot start with zero');\r\n\r\n        new PhoneNumber('(223) 056-7890');\r\n    }\r\n\r\n    /**\r\n     * uuid 4cef57b4-7d8e-43aa-8328-1e1b89001262\r\n     */\r\n    #[TestDox('invalid if exchange code starts with 1')]\r\n    public function testInvalidIfExchangeCodeStartsWith1(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('exchange code cannot start with one');\r\n\r\n        new PhoneNumber('(223) 156-7890');\r\n    }\r\n\r\n    /**\r\n     * uuid 9925b09c-1a0d-4960-a197-5d163cbe308c\r\n     */\r\n    #[TestDox('invalid if area code starts with 0 on valid 11-digit number')]\r\n    public function testInvalidIfAreaCodeStartsWith0OnValid11DigitNumber(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('area code cannot start with zero');\r\n\r\n        new PhoneNumber('1 (023) 456-7890');\r\n    }\r\n\r\n    /**\r\n     * uuid 3f809d37-40f3-44b5-ad90-535838b1a816\r\n     */\r\n    #[TestDox('invalid if area code starts with 1 on valid 11-digit number')]\r\n    public function testInvalidIfAreaCodeStartsWith1OnValid11DigitNumber(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('area code cannot start with one');\r\n\r\n        new PhoneNumber('1 (123) 456-7890');\r\n    }\r\n\r\n    /**\r\n     * uuid e08e5532-d621-40d4-b0cc-96c159276b65\r\n     */\r\n    #[TestDox('invalid if exchange code starts with 0 on valid 11-digit number')]\r\n    public function testInvalidIfExchangeCodeStartsWith0OnValid11DigitNumber(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('exchange code cannot start with zero');\r\n\r\n        new PhoneNumber('1 (223) 056-7890');\r\n    }\r\n\r\n    /**\r\n     * uuid 57b32f3d-696a-455c-8bf1-137b6d171cdf\r\n     */\r\n    #[TestDox('invalid if exchange code starts with 1 on valid 11-digit number')]\r\n    public function testInvalidIfExchangeCodeStartsWith1OnValid11DigitNumber(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('exchange code cannot start with one');\r\n\r\n        new PhoneNumber('1 (223) 156-7890');\r\n    }\r\n}\r\n"
  }
}
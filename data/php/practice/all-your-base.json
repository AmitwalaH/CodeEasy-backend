{
  "language": "php",
  "slug": "all-your-base",
  "docs": {
    "instructions": "# Instructions\r\n\r\nConvert a sequence of digits in one base, representing a number, into a sequence of digits in another base, representing the same number.\r\n\r\n~~~~exercism/note\r\nTry to implement the conversion yourself.\r\nDo not use something else to perform the conversion for you.\r\n~~~~\r\n\r\n## About [Positional Notation][positional-notation]\r\n\r\nIn positional notation, a number in base **b** can be understood as a linear combination of powers of **b**.\r\n\r\nThe number 42, _in base 10_, means:\r\n\r\n`(4 × 10¹) + (2 × 10⁰)`\r\n\r\nThe number 101010, _in base 2_, means:\r\n\r\n`(1 × 2⁵) + (0 × 2⁴) + (1 × 2³) + (0 × 2²) + (1 × 2¹) + (0 × 2⁰)`\r\n\r\nThe number 1120, _in base 3_, means:\r\n\r\n`(1 × 3³) + (1 × 3²) + (2 × 3¹) + (0 × 3⁰)`\r\n\r\n_Yes. Those three numbers above are exactly the same. Congratulations!_\r\n\r\n[positional-notation]: https://en.wikipedia.org/wiki/Positional_notation\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "AllYourBase.php": "<?php\r\n\r\n/*\r\n * By adding type hints and enabling strict type checking, code can become\r\n * easier to read, self-documenting and reduce the number of potential bugs.\r\n * By default, type declarations are non-strict, which means they will attempt\r\n * to change the original type to match the type specified by the\r\n * type-declaration.\r\n *\r\n * In other words, if you pass a string to a function requiring a float,\r\n * it will attempt to convert the string value to a float.\r\n *\r\n * To enable strict mode, a single declare directive must be placed at the top\r\n * of the file.\r\n * This means that the strictness of typing is configured on a per-file basis.\r\n * This directive not only affects the type declarations of parameters, but also\r\n * a function's return type.\r\n *\r\n * For more info review the Concept on strict type checking in the PHP track\r\n * <link>.\r\n *\r\n * To disable strict typing, comment out the directive below.\r\n */\r\n\r\ndeclare(strict_types=1);\r\n\r\nfunction rebase(int $fromBase, array $digits, int $toBase): array\r\n{\r\n    throw new \\BadFunctionCallException(\"Implement the rebase function\");\r\n}\r\n"
  },
  "tests": {
    "AllYourBaseTest.php": "<?php\r\n\r\ndeclare(strict_types=1);\r\n\r\nuse PHPUnit\\Framework\\TestCase;\r\nuse PHPUnit\\Framework\\Attributes\\TestDox;\r\n\r\nclass AllYourBaseTest extends TestCase\r\n{\r\n    public static function setUpBeforeClass(): void\r\n    {\r\n        require_once 'AllYourBase.php';\r\n    }\r\n\r\n    /**\r\n     * uuid 5ce422f9-7a4b-4f44-ad29-49c67cb32d2c\r\n     */\r\n    #[TestDox('Single bit one to decimal')]\r\n    public function testSingleBitOneToDecimal(): void\r\n    {\r\n        $this->assertEquals([1], rebase(2, [1], 10));\r\n    }\r\n\r\n    /**\r\n     * uuid 0cc3fea8-bb79-46ac-a2ab-5a2c93051033\r\n     */\r\n    #[TestDox('Binary to single decimal')]\r\n    public function testBinaryToSingleDecimal(): void\r\n    {\r\n        $this->assertEquals([5], rebase(2, [1, 0, 1], 10));\r\n    }\r\n\r\n    /**\r\n     * uuid f12db0f9-0d3d-42c2-b3ba-e38cb375a2b8\r\n     */\r\n    #[TestDox('Single decimal to binary')]\r\n    public function testSingleDecimalToBinary(): void\r\n    {\r\n        $this->assertEquals([1, 0, 1], rebase(10, [5], 2));\r\n    }\r\n\r\n    /**\r\n     * uuid 2c45cf54-6da3-4748-9733-5a3c765d925b\r\n     */\r\n    #[TestDox('Binary to multiple decimal')]\r\n    public function testBinaryToMultipleDecimal(): void\r\n    {\r\n        $this->assertEquals([4, 2], rebase(2, [1, 0, 1, 0, 1, 0], 10));\r\n    }\r\n\r\n    /**\r\n     * uuid 65ddb8b4-8899-4fcc-8618-181b2cf0002d\r\n     */\r\n    #[TestDox('Decimal to binary')]\r\n    public function testDecimalToBinary(): void\r\n    {\r\n        $this->assertEquals([1, 0, 1, 0, 1, 0], rebase(10, [4, 2], 2));\r\n    }\r\n\r\n    /**\r\n     * uuid 8d418419-02a7-4824-8b7a-352d33c6987e\r\n     */\r\n    #[TestDox('Trinary to hexadecimal')]\r\n    public function testTrinaryToHexadecimal(): void\r\n    {\r\n        $this->assertEquals([2, 10], rebase(3, [1, 1, 2, 0], 16));\r\n    }\r\n\r\n    /**\r\n     * uuid d3901c80-8190-41b9-bd86-38d988efa956\r\n     */\r\n    #[TestDox('Hexadecimal to trinary')]\r\n    public function testHexadecimalToTrinary(): void\r\n    {\r\n        $this->assertEquals([1, 1, 2, 0], rebase(16, [2, 10], 3));\r\n    }\r\n\r\n    /**\r\n     * uuid 5d42f85e-21ad-41bd-b9be-a3e8e4258bbf\r\n     */\r\n    #[TestDox('15-bit integer')]\r\n    public function test15BitIntegers(): void\r\n    {\r\n        $this->assertEquals([6, 10, 45], rebase(97, [3, 46, 60], 73));\r\n    }\r\n\r\n    /**\r\n     * uuid d68788f7-66dd-43f8-a543-f15b6d233f83\r\n     */\r\n    #[TestDox('Empty list')]\r\n    public function testEmptyList(): void\r\n    {\r\n        $this->assertEquals([0], rebase(2, [], 10));\r\n    }\r\n\r\n    /**\r\n     * uuid 5e27e8da-5862-4c5f-b2a9-26c0382b6be7\r\n     */\r\n    #[TestDox('Single zero')]\r\n    public function testSingleZero(): void\r\n    {\r\n        $this->assertEquals([0], rebase(10, [0], 2));\r\n    }\r\n\r\n    /**\r\n     * uuid 2e1c2573-77e4-4b9c-8517-6c56c5bcfdf2\r\n     */\r\n    #[TestDox('Multiple zeros')]\r\n    public function testMultipleZeros(): void\r\n    {\r\n        $this->assertEquals([0], rebase(10, [0, 0, 0], 2));\r\n    }\r\n\r\n    /**\r\n     * uuid 3530cd9f-8d6d-43f5-bc6e-b30b1db9629b\r\n     */\r\n    #[TestDox('Leading zeros')]\r\n    public function testLeadingZeros(): void\r\n    {\r\n        $this->assertEquals([4, 2], rebase(7, [0, 6, 0], 10));\r\n    }\r\n\r\n    /**\r\n     * uuid a6b476a1-1901-4f2a-92c4-4d91917ae023\r\n     */\r\n    #[TestDox('Input base is one')]\r\n    public function testFirstBaseIsOne(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('input base must be >= 2');\r\n\r\n        rebase(1, [0], 10);\r\n    }\r\n\r\n    /**\r\n     * uuid e21a693a-7a69-450b-b393-27415c26a016\r\n     */\r\n    #[TestDox('Input base is zero')]\r\n    public function testFirstBaseIsZero(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('input base must be >= 2');\r\n\r\n        rebase(0, [], 10);\r\n    }\r\n\r\n    /**\r\n     * uuid 54a23be5-d99e-41cc-88e0-a650ffe5fcc2\r\n     */\r\n    #[TestDox('Input base is negative')]\r\n    public function testFirstBaseIsNegative(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('input base must be >= 2');\r\n\r\n        rebase(-2, [1], 10);\r\n    }\r\n\r\n    /**\r\n     * uuid 9eccf60c-dcc9-407b-95d8-c37b8be56bb6\r\n     */\r\n    #[TestDox('Negative digit')]\r\n    public function testNegativeDigit(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('all digits must satisfy 0 <= d < input base');\r\n\r\n        rebase(2, [1, -1, 1, 0, 1, 0], 10);\r\n    }\r\n\r\n    /**\r\n     * uuid 232fa4a5-e761-4939-ba0c-ed046cd0676a\r\n     */\r\n    #[TestDox('Invalid positive digit')]\r\n    public function testInvalidPositiveDigit(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('all digits must satisfy 0 <= d < input base');\r\n\r\n        rebase(2, [1, 2, 1, 0, 1, 0], 10);\r\n    }\r\n\r\n    /**\r\n     * uuid 14238f95-45da-41dc-95ce-18f860b30ad3\r\n     */\r\n    #[TestDox('Output base is one')]\r\n    public function testSecondBaseIsOne(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('output base must be >= 2');\r\n\r\n        rebase(2, [1, 0, 1, 0, 1, 0], 1);\r\n    }\r\n\r\n    /**\r\n     * uuid 73dac367-da5c-4a37-95fe-c87fad0a4047\r\n     */\r\n    #[TestDox('Output base is zero')]\r\n    public function testSecondBaseIsZero(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('output base must be >= 2');\r\n\r\n        rebase(10, [7], 0);\r\n    }\r\n\r\n    /**\r\n     * uuid 13f81f42-ff53-4e24-89d9-37603a48ebd9\r\n     */\r\n    #[TestDox('Output base is negative')]\r\n    public function testSecondBaseIsNegative(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n        $this->expectExceptionMessage('output base must be >= 2');\r\n\r\n        rebase(2, [1], -7);\r\n    }\r\n\r\n    /**\r\n     * uuid 0e6c895d-8a5d-4868-a345-309d094cfe8d\r\n     */\r\n    #[TestDox('Both bases are negative')]\r\n    public function testBothBasesIsNegative(): void\r\n    {\r\n        $this->expectException(InvalidArgumentException::class);\r\n\r\n        rebase(-2, [1], -7);\r\n    }\r\n}\r\n"
  }
}
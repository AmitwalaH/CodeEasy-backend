{
  "language": "php",
  "slug": "robot-simulator",
  "docs": {
    "instructions": "# Instructions\r\n\r\nWrite a robot simulator.\r\n\r\nA robot factory's test facility needs a program to verify robot movements.\r\n\r\nThe robots have three possible movements:\r\n\r\n- turn right\r\n- turn left\r\n- advance\r\n\r\nRobots are placed on a hypothetical infinite grid, facing a particular direction (north, east, south, or west) at a set of {x,y} coordinates,\r\ne.g., {3,8}, with coordinates increasing to the north and east.\r\n\r\nThe robot then receives a number of instructions, at which point the testing facility verifies the robot's new position, and in which direction it is pointing.\r\n\r\n- The letter-string \"RAALAL\" means:\r\n  - Turn right\r\n  - Advance twice\r\n  - Turn left\r\n  - Advance once\r\n  - Turn left yet again\r\n- Say a robot starts at {7, 3} facing north.\r\n  Then running this stream of instructions should leave it at {9, 4} facing west.\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "RobotSimulator.php": "<?php\r\n\r\n/*\r\n * By adding type hints and enabling strict type checking, code can become\r\n * easier to read, self-documenting and reduce the number of potential bugs.\r\n * By default, type declarations are non-strict, which means they will attempt\r\n * to change the original type to match the type specified by the\r\n * type-declaration.\r\n *\r\n * In other words, if you pass a string to a function requiring a float,\r\n * it will attempt to convert the string value to a float.\r\n *\r\n * To enable strict mode, a single declare directive must be placed at the top\r\n * of the file.\r\n * This means that the strictness of typing is configured on a per-file basis.\r\n * This directive not only affects the type declarations of parameters, but also\r\n * a function's return type.\r\n *\r\n * For more info review the Concept on strict type checking in the PHP track\r\n * <link>.\r\n *\r\n * To disable strict typing, comment out the directive below.\r\n */\r\n\r\ndeclare(strict_types=1);\r\n\r\nclass RobotSimulator\r\n{\r\n    /** @param int[] $position */\r\n    public function __construct(array $position, string $direction)\r\n    {\r\n        throw new \\BadMethodCallException(sprintf('Implement the %s method', __FUNCTION__));\r\n    }\r\n\r\n    public function instructions(string $instructions): void\r\n    {\r\n        throw new \\BadMethodCallException(sprintf('Implement the %s method', __FUNCTION__));\r\n    }\r\n\r\n    /** @return int[] */\r\n    public function getPosition(): array\r\n    {\r\n        throw new \\BadMethodCallException(sprintf('Implement the %s method', __FUNCTION__));\r\n    }\r\n\r\n    public function getDirection(): string\r\n    {\r\n        throw new \\BadMethodCallException(sprintf('Implement the %s method', __FUNCTION__));\r\n    }\r\n}\r\n"
  },
  "tests": {
    "RobotSimulatorTest.php": "<?php\r\n\r\ndeclare(strict_types=1);\r\n\r\nuse PHPUnit\\Framework\\TestCase;\r\nuse PHPUnit\\Framework\\Attributes\\TestDox;\r\n\r\nclass RobotSimulatorTest extends TestCase\r\n{\r\n    public static function setUpBeforeClass(): void\r\n    {\r\n        require_once 'RobotSimulator.php';\r\n    }\r\n\r\n    /**\r\n     * uuid: c557c16d-26c1-4e06-827c-f6602cd0785c\r\n     */\r\n    #[TestDox('Create robot - at origin facing north')]\r\n    public function testCreateRobotAtOriginFacingNorth(): void\r\n    {\r\n        $robot = new RobotSimulator([0, 0], 'north');\r\n        $this->assertEquals([0, 0], $robot->getPosition());\r\n        $this->assertEquals('north', $robot->getDirection());\r\n    }\r\n\r\n    /**\r\n     * uuid: bf0dffce-f11c-4cdb-8a5e-2c89d8a5a67d\r\n     */\r\n    #[TestDox('Create robot - at negative position facing south')]\r\n    public function testCreateRobotAtNegativePositionFacingSouth(): void\r\n    {\r\n        $robot = new RobotSimulator([-1, -1], 'south');\r\n        $this->assertEquals([-1, -1], $robot->getPosition());\r\n        $this->assertEquals('south', $robot->getDirection());\r\n    }\r\n\r\n    /**\r\n     * uuid: 8cbd0086-6392-4680-b9b9-73cf491e67e5\r\n     */\r\n    #[TestDox('Rotating clockwise - changes north to east')]\r\n    public function testRotatingClockwiseChangesNorthToEast(): void\r\n    {\r\n        $robot = new RobotSimulator([0, 0], 'north');\r\n        $robot->instructions('R');\r\n        $this->assertEquals([0, 0], $robot->getPosition());\r\n        $this->assertEquals('east', $robot->getDirection());\r\n    }\r\n\r\n    /**\r\n     * uuid: 8abc87fc-eab2-4276-93b7-9c009e866ba1\r\n     */\r\n    #[TestDox('Rotating clockwise - changes east to south')]\r\n    public function testRotatingClockwiseChangesEastToSouth(): void\r\n    {\r\n        $robot = new RobotSimulator([0, 0], 'east');\r\n        $robot->instructions('R');\r\n        $this->assertEquals([0, 0], $robot->getPosition());\r\n        $this->assertEquals('south', $robot->getDirection());\r\n    }\r\n\r\n    /**\r\n     * uuid: 3cfe1b85-bbf2-4bae-b54d-d73e7e93617a\r\n     */\r\n    #[TestDox('Rotating clockwise - changes south to west')]\r\n    public function testRotatingClockwiseChangesSouthToWest(): void\r\n    {\r\n        $robot = new RobotSimulator([0, 0], 'south');\r\n        $robot->instructions('R');\r\n        $this->assertEquals([0, 0], $robot->getPosition());\r\n        $this->assertEquals('west', $robot->getDirection());\r\n    }\r\n\r\n    /**\r\n     * uuid: 5ea9fb99-3f2c-47bd-86f7-46b7d8c3c716\r\n     */\r\n    #[TestDox('Rotating clockwise - changes west to north')]\r\n    public function testRotatingClockwiseChangesWestToNorth(): void\r\n    {\r\n        $robot = new RobotSimulator([0, 0], 'west');\r\n        $robot->instructions('R');\r\n        $this->assertEquals([0, 0], $robot->getPosition());\r\n        $this->assertEquals('north', $robot->getDirection());\r\n    }\r\n\r\n    /**\r\n     * uuid: fa0c40f5-6ba3-443d-a4b3-58cbd6cb8d63\r\n     */\r\n    #[TestDox('Rotating counter-clockwise - changes north to west')]\r\n    public function testRotatingCounterClockwiseChangesNorthToWest(): void\r\n    {\r\n        $robot = new RobotSimulator([0, 0], 'north');\r\n        $robot->instructions('L');\r\n        $this->assertEquals([0, 0], $robot->getPosition());\r\n        $this->assertEquals('west', $robot->getDirection());\r\n    }\r\n\r\n    /**\r\n     * uuid: da33d734-831f-445c-9907-d66d7d2a92e2\r\n     */\r\n    #[TestDox('Rotating counter-clockwise - changes west to south')]\r\n    public function testRotatingCounterClockwiseChangesWestToSouth(): void\r\n    {\r\n        $robot = new RobotSimulator([0, 0], 'west');\r\n        $robot->instructions('L');\r\n        $this->assertEquals([0, 0], $robot->getPosition());\r\n        $this->assertEquals('south', $robot->getDirection());\r\n    }\r\n\r\n    /**\r\n     * uuid: bd1ca4b9-4548-45f4-b32e-900fc7c19389\r\n     */\r\n    #[TestDox('Rotating counter-clockwise - changes south to east')]\r\n    public function testRotatingCounterClockwiseChangesSouthToEast(): void\r\n    {\r\n        $robot = new RobotSimulator([0, 0], 'south');\r\n        $robot->instructions('L');\r\n        $this->assertEquals([0, 0], $robot->getPosition());\r\n        $this->assertEquals('east', $robot->getDirection());\r\n    }\r\n\r\n    /**\r\n     * uuid: 2de27b67-a25c-4b59-9883-bc03b1b55bba\r\n     */\r\n    #[TestDox('Rotating counter-clockwise - changes east to north')]\r\n    public function testRotatingCounterClockwiseChangesEastToNorth(): void\r\n    {\r\n        $robot = new RobotSimulator([0, 0], 'east');\r\n        $robot->instructions('L');\r\n        $this->assertEquals([0, 0], $robot->getPosition());\r\n        $this->assertEquals('north', $robot->getDirection());\r\n    }\r\n\r\n    /**\r\n     * uuid: f0dc2388-cddc-4f83-9bed-bcf46b8fc7b8\r\n     */\r\n    #[TestDox('Moving forward one - facing north increments Y')]\r\n    public function testMovingForwardOneFacingNorthIncrementsY(): void\r\n    {\r\n        $robot = new RobotSimulator([0, 0], 'north');\r\n        $robot->instructions('A');\r\n        $this->assertEquals([0, 1], $robot->getPosition());\r\n        $this->assertEquals('north', $robot->getDirection());\r\n    }\r\n\r\n    /**\r\n     * uuid: 2786cf80-5bbf-44b0-9503-a89a9c5789da\r\n     */\r\n    #[TestDox('Moving forward one - facing south decrements Y')]\r\n    public function testMovingForwardOneFacingSouthDecrementsY(): void\r\n    {\r\n        $robot = new RobotSimulator([0, 0], 'south');\r\n        $robot->instructions('A');\r\n        $this->assertEquals([0, -1], $robot->getPosition());\r\n        $this->assertEquals('south', $robot->getDirection());\r\n    }\r\n\r\n    /**\r\n     * uuid: 84bf3c8c-241f-434d-883d-69817dbd6a48\r\n     */\r\n    #[TestDox('Moving forward one - facing east increments X')]\r\n    public function testMovingForwardOneFacingEastIncrementsX(): void\r\n    {\r\n        $robot = new RobotSimulator([0, 0], 'east');\r\n        $robot->instructions('A');\r\n        $this->assertEquals([1, 0], $robot->getPosition());\r\n        $this->assertEquals('east', $robot->getDirection());\r\n    }\r\n\r\n    /**\r\n     * uuid: bb69c4a7-3bbf-4f64-b415-666fa72d7b04\r\n     */\r\n    #[TestDox('Moving forward one - facing west decrements X')]\r\n    public function testMovingForwardOneFacingWestDecrementsX(): void\r\n    {\r\n        $robot = new RobotSimulator([0, 0], 'west');\r\n        $robot->instructions('A');\r\n        $this->assertEquals([-1, 0], $robot->getPosition());\r\n        $this->assertEquals('west', $robot->getDirection());\r\n    }\r\n\r\n    /**\r\n     * uuid: e34ac672-4ed4-4be3-a0b8-d9af259cbaa1\r\n     */\r\n    #[TestDox('Follow series of instructions - moving east and north from instructions')]\r\n    public function testFollowSeriesOfInstructionsMovingEastAndNorthFromInstructions(): void\r\n    {\r\n        $robot = new RobotSimulator([7, 3], 'north');\r\n        $robot->instructions('RAALAL');\r\n        $this->assertEquals([9, 4], $robot->getPosition());\r\n        $this->assertEquals('west', $robot->getDirection());\r\n    }\r\n\r\n    /**\r\n     * uuid: f30e4955-4b47-4aa3-8b39-ae98cfbd515b\r\n     */\r\n    #[TestDox('Follow series of instructions - moving west and north')]\r\n    public function testFollowSeriesOfInstructionsMovingWestAndNorth(): void\r\n    {\r\n        $robot = new RobotSimulator([0, 0], 'north');\r\n        $robot->instructions('LAAARALA');\r\n        $this->assertEquals([-4, 1], $robot->getPosition());\r\n        $this->assertEquals('west', $robot->getDirection());\r\n    }\r\n\r\n    /**\r\n     * uuid: 3e466bf6-20ab-4d79-8b51-264165182fca\r\n     */\r\n    #[TestDox('Follow series of instructions - moving west and south')]\r\n    public function testFollowSeriesOfInstructionsMovingWestAndSouth(): void\r\n    {\r\n        // Instructions to move west and south\r\n        $robot = new RobotSimulator([2, -7], 'east');\r\n        $robot->instructions('RRAAAAALA');\r\n        $this->assertEquals([-3, -8], $robot->getPosition());\r\n        $this->assertEquals('south', $robot->getDirection());\r\n    }\r\n\r\n    /**\r\n     * uuid: 41f0bb96-c617-4e6b-acff-a4b279d44514\r\n     */\r\n    #[TestDox('Follow series of instructions - moving east and north')]\r\n    public function testFollowSeriesOfInstructionsMovingEastAndNorth(): void\r\n    {\r\n        // Instructions to move east and north\r\n        $robot = new RobotSimulator([8, 4], 'south');\r\n        $robot->instructions('LAAARRRALLLL');\r\n        $this->assertEquals([11, 5], $robot->getPosition());\r\n        $this->assertEquals('north', $robot->getDirection());\r\n    }\r\n}\r\n"
  }
}
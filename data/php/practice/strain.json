{
  "language": "php",
  "slug": "strain",
  "docs": {
    "instructions": "# Instructions\r\n\r\nImplement the `keep` and `discard` operation on collections.\r\nGiven a collection and a predicate on the collection's elements, `keep` returns a new collection containing those elements where the predicate is true, while `discard` returns a new collection containing those elements where the predicate is false.\r\n\r\nFor example, given the collection of numbers:\r\n\r\n- 1, 2, 3, 4, 5\r\n\r\nAnd the predicate:\r\n\r\n- is the number even?\r\n\r\nThen your keep operation should produce:\r\n\r\n- 2, 4\r\n\r\nWhile your discard operation should produce:\r\n\r\n- 1, 3, 5\r\n\r\nNote that the union of keep and discard is all the elements.\r\n\r\nThe functions may be called `keep` and `discard`, or they may need different names in order to not clash with existing functions or concepts in your language.\r\n\r\n## Restrictions\r\n\r\nKeep your hands off that filter/reject/whatchamacallit functionality provided by your standard library!\r\nSolve this one yourself using other basic tools instead.\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "Strain.php": "<?php\r\n\r\n/*\r\n * By adding type hints and enabling strict type checking, code can become\r\n * easier to read, self-documenting and reduce the number of potential bugs.\r\n * By default, type declarations are non-strict, which means they will attempt\r\n * to change the original type to match the type specified by the\r\n * type-declaration.\r\n *\r\n * In other words, if you pass a string to a function requiring a float,\r\n * it will attempt to convert the string value to a float.\r\n *\r\n * To enable strict mode, a single declare directive must be placed at the top\r\n * of the file.\r\n * This means that the strictness of typing is configured on a per-file basis.\r\n * This directive not only affects the type declarations of parameters, but also\r\n * a function's return type.\r\n *\r\n * For more info review the Concept on strict type checking in the PHP track\r\n * <link>.\r\n *\r\n * To disable strict typing, comment out the directive below.\r\n */\r\n\r\ndeclare(strict_types=1);\r\n\r\nclass Strain\r\n{\r\n    public function keep(array $list, callable $predicate): array\r\n    {\r\n        throw new \\BadMethodCallException(sprintf('Implement the %s method', __FUNCTION__));\r\n    }\r\n\r\n    public function discard(array $list, callable $predicate): array\r\n    {\r\n        throw new \\BadMethodCallException(sprintf('Implement the %s method', __FUNCTION__));\r\n    }\r\n}\r\n"
  },
  "tests": {
    "StrainTest.php": "<?php\r\n\r\ndeclare(strict_types=1);\r\n\r\nuse PHPUnit\\Framework\\TestCase;\r\n\r\nclass StrainTest extends TestCase\r\n{\r\n    private Strain $strain;\r\n\r\n    public static function setUpBeforeClass(): void\r\n    {\r\n        require_once 'Strain.php';\r\n    }\r\n\r\n    public function setUp(): void\r\n    {\r\n        $this->strain = new Strain();\r\n    }\r\n\r\n    /**\r\n     * uuid: 26af8c32-ba6a-4eb3-aa0a-ebd8f136e003\r\n     */\r\n    public function testKeepOnEmptyListReturnsEmptyList(): void\r\n    {\r\n        $list = [];\r\n        $predicate = function ($x) {\r\n            return true;\r\n        };\r\n\r\n        $this->assertEquals([], $this->strain->keep($list, $predicate));\r\n    }\r\n\r\n    /**\r\n     * uuid: f535cb4d-e99b-472a-bd52-9fa0ffccf454\r\n     */\r\n    public function testKeepsEverything(): void\r\n    {\r\n        $list = [1, 3, 5];\r\n        $predicate = function ($x) {\r\n            return true;\r\n        };\r\n\r\n        $this->assertEquals([1, 3, 5], $this->strain->keep($list, $predicate));\r\n    }\r\n\r\n    /**\r\n     * uuid: 950b8e8e-f628-42a8-85e2-9b30f09cde38\r\n     */\r\n    public function testKeepNothing(): void\r\n    {\r\n        $list = [1, 3, 5];\r\n        $predicate = function ($x) {\r\n            return false;\r\n        };\r\n\r\n        $this->assertEquals([], $this->strain->keep($list, $predicate));\r\n    }\r\n\r\n    /**\r\n     * uuid: 92694259-6e76-470c-af87-156bdf75018a\r\n     */\r\n    public function testKeepFirstAndLast(): void\r\n    {\r\n        $list = [1, 2, 3];\r\n        $predicate = function ($x) {\r\n            return $x % 2 === 1;\r\n        };\r\n\r\n        $this->assertEquals([1, 3], $this->strain->keep($list, $predicate));\r\n    }\r\n\r\n    /**\r\n     * uuid: 938f7867-bfc7-449e-a21b-7b00cbb56994\r\n     */\r\n    public function testKeepNeitherFirstNorLast(): void\r\n    {\r\n        $list = [1, 2, 3];\r\n        $predicate = function ($x) {\r\n            return $x % 2 === 0;\r\n        };\r\n\r\n        $this->assertEquals([2], $this->strain->keep($list, $predicate));\r\n    }\r\n\r\n    /**\r\n     * uuid: 8908e351-4437-4d2b-a0f7-770811e4881\r\n     */\r\n    public function testKeepStrings(): void\r\n    {\r\n        $list = [\"apple\", \"zebra\", \"banana\", \"zombies\", \"cherimoya\", \"zealot\"];\r\n        $predicate = function ($x) {\r\n            return str_starts_with($x, 'z');\r\n        };\r\n\r\n        $this->assertEquals([\"zebra\", \"zombies\", \"zealot\"], $this->strain->keep($list, $predicate));\r\n    }\r\n\r\n    /**\r\n     * uuid: 2728036b-102a-4f1e-a3ef-eac6160d876a\r\n     */\r\n    public function testKeepsLists(): void\r\n    {\r\n        $list = [\r\n            [1, 2, 3],\r\n            [5, 5, 5],\r\n            [5, 1, 2],\r\n            [2, 1, 2],\r\n            [1, 5, 2],\r\n            [2, 2, 1],\r\n            [1, 2, 5]\r\n        ];\r\n        $predicate = function ($x) {\r\n            return in_array(5, $x, true);\r\n        };\r\n\r\n        $expected = [\r\n            [5, 5, 5],\r\n            [5, 1, 2],\r\n            [1, 5, 2],\r\n            [1, 2, 5]\r\n        ];\r\n\r\n        $this->assertEquals($expected, $this->strain->keep($list, $predicate));\r\n    }\r\n\r\n    /**\r\n     * uuid: ef16beb9-8d84-451a-996a-14e80607fce6\r\n     */\r\n    public function testDiscardOnEmptyListReturnsEmptyList(): void\r\n    {\r\n        $list = [];\r\n        $predicate = function ($x) {\r\n            return true;\r\n        };\r\n\r\n        $this->assertEquals([], $this->strain->discard($list, $predicate));\r\n    }\r\n\r\n    /**\r\n     * uuid: 2f42f9bc-8e06-4afe-a222-051b5d8cd12a\r\n     */\r\n    public function testDiscardEverything(): void\r\n    {\r\n        $list = [1, 3, 5];\r\n        $predicate = function ($x) {\r\n            return true;\r\n        };\r\n\r\n        $this->assertEquals([], $this->strain->discard($list, $predicate));\r\n    }\r\n\r\n    /**\r\n     * uuid: ca990fdd-08c2-4f95-aa50-e0f5e1d6802b\r\n     */\r\n    public function testDiscardNothing(): void\r\n    {\r\n        $list = [1, 3, 5];\r\n        $predicate = function ($x) {\r\n            return false;\r\n        };\r\n\r\n        $this->assertEquals([1, 3, 5], $this->strain->discard($list, $predicate));\r\n    }\r\n\r\n    /**\r\n     * uuid: 71595dae-d283-48ca-a52b-45fa96819d2f\r\n     */\r\n    public function testDiscardFirstAndLast(): void\r\n    {\r\n        $list = [1, 2, 3];\r\n        $predicate = function ($x) {\r\n            return $x % 2 === 1;\r\n        };\r\n\r\n        $this->assertEquals([2], $this->strain->discard($list, $predicate));\r\n    }\r\n\r\n    /**\r\n     * uuid: ae141f79-f86d-4567-b407-919eaca0f3dd\r\n     */\r\n    public function testDiscardNeitherFirstNorLast(): void\r\n    {\r\n        $list = [1, 2, 3];\r\n        $predicate = function ($x) {\r\n            return $x % 2 === 0;\r\n        };\r\n\r\n        $this->assertEquals([1,3], $this->strain->discard($list, $predicate));\r\n    }\r\n\r\n    /**\r\n     * uuid: daf25b36-a59f-4f29-bcfe-302eb4e43609\r\n     */\r\n    public function testDiscardStrings(): void\r\n    {\r\n        $list = [\"apple\", \"zebra\", \"banana\", \"zombies\", \"cherimoya\", \"zealot\"];\r\n        $predicate = function ($x) {\r\n            return str_starts_with($x, 'z');\r\n        };\r\n\r\n        $this->assertEquals([\"apple\", \"banana\", \"cherimoya\"], $this->strain->discard($list, $predicate));\r\n    }\r\n\r\n    /**\r\n     * uuid: a38d03f9-95ad-4459-80d1-48e937e4acaf\r\n     */\r\n    public function testDiscardLists(): void\r\n    {\r\n        $list = [\r\n            [1, 2, 3],\r\n            [5, 5, 5],\r\n            [5, 1, 2],\r\n            [2, 1, 2],\r\n            [1, 5, 2],\r\n            [2, 2, 1],\r\n            [1, 2, 5]\r\n        ];\r\n        $predicate = function ($x) {\r\n            return in_array(5, $x, true);\r\n        };\r\n\r\n        $expected = [\r\n            [1, 2, 3],\r\n            [2, 1, 2],\r\n            [2, 2, 1]\r\n        ];\r\n\r\n        $this->assertEquals($expected, $this->strain->discard($list, $predicate));\r\n    }\r\n}\r\n"
  }
}
{
  "language": "php",
  "slug": "sieve",
  "docs": {
    "instructions": "# Instructions\r\n\r\nYour task is to create a program that implements the Sieve of Eratosthenes algorithm to find all prime numbers less than or equal to a given number.\r\n\r\nA prime number is a number larger than 1 that is only divisible by 1 and itself.\r\nFor example, 2, 3, 5, 7, 11, and 13 are prime numbers.\r\nBy contrast, 6 is _not_ a prime number as it not only divisible by 1 and itself, but also by 2 and 3.\r\n\r\nTo use the Sieve of Eratosthenes, first, write out all the numbers from 2 up to and including your given number.\r\nThen, follow these steps:\r\n\r\n1. Find the next unmarked number (skipping over marked numbers).\r\n   This is a prime number.\r\n2. Mark all the multiples of that prime number as **not** prime.\r\n\r\nRepeat the steps until you've gone through every number.\r\nAt the end, all the unmarked numbers are prime.\r\n\r\n~~~~exercism/note\r\nThe Sieve of Eratosthenes marks off multiples of each prime using addition (repeatedly adding the prime) or multiplication (directly computing its multiples), rather than checking each number for divisibility.\r\n\r\nThe tests don't check that you've implemented the algorithm, only that you've come up with the correct primes.\r\n~~~~\r\n\r\n## Example\r\n\r\nLet's say you're finding the primes less than or equal to 10.\r\n\r\n- Write out 2, 3, 4, 5, 6, 7, 8, 9, 10, leaving them all unmarked.\r\n\r\n  ```text\r\n  2 3 4 5 6 7 8 9 10\r\n  ```\r\n\r\n- 2 is unmarked and is therefore a prime.\r\n  Mark 4, 6, 8 and 10 as \"not prime\".\r\n\r\n  ```text\r\n  2 3 [4] 5 [6] 7 [8] 9 [10]\r\n  ↑\r\n  ```\r\n\r\n- 3 is unmarked and is therefore a prime.\r\n  Mark 6 and 9 as not prime _(marking 6 is optional - as it's already been marked)_.\r\n\r\n  ```text\r\n  2 3 [4] 5 [6] 7 [8] [9] [10]\r\n    ↑\r\n  ```\r\n\r\n- 4 is marked as \"not prime\", so we skip over it.\r\n\r\n  ```text\r\n  2 3 [4] 5 [6] 7 [8] [9] [10]\r\n       ↑\r\n  ```\r\n\r\n- 5 is unmarked and is therefore a prime.\r\n  Mark 10 as not prime _(optional - as it's already been marked)_.\r\n\r\n  ```text\r\n  2 3 [4] 5 [6] 7 [8] [9] [10]\r\n          ↑\r\n  ```\r\n\r\n- 6 is marked as \"not prime\", so we skip over it.\r\n\r\n  ```text\r\n  2 3 [4] 5 [6] 7 [8] [9] [10]\r\n             ↑\r\n  ```\r\n\r\n- 7 is unmarked and is therefore a prime.\r\n\r\n  ```text\r\n  2 3 [4] 5 [6] 7 [8] [9] [10]\r\n                ↑\r\n  ```\r\n\r\n- 8 is marked as \"not prime\", so we skip over it.\r\n\r\n  ```text\r\n  2 3 [4] 5 [6] 7 [8] [9] [10]\r\n                   ↑\r\n  ```\r\n\r\n- 9 is marked as \"not prime\", so we skip over it.\r\n\r\n  ```text\r\n  2 3 [4] 5 [6] 7 [8] [9] [10]\r\n                       ↑\r\n  ```\r\n\r\n- 10 is marked as \"not prime\", so we stop as there are no more numbers to check.\r\n\r\n  ```text\r\n  2 3 [4] 5 [6] 7 [8] [9] [10]\r\n                           ↑\r\n  ```\r\n\r\nYou've examined all the numbers and found that 2, 3, 5, and 7 are still unmarked, meaning they're the primes less than or equal to 10.\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "Sieve.php": "<?php\r\n\r\n/*\r\n * By adding type hints and enabling strict type checking, code can become\r\n * easier to read, self-documenting and reduce the number of potential bugs.\r\n * By default, type declarations are non-strict, which means they will attempt\r\n * to change the original type to match the type specified by the\r\n * type-declaration.\r\n *\r\n * In other words, if you pass a string to a function requiring a float,\r\n * it will attempt to convert the string value to a float.\r\n *\r\n * To enable strict mode, a single declare directive must be placed at the top\r\n * of the file.\r\n * This means that the strictness of typing is configured on a per-file basis.\r\n * This directive not only affects the type declarations of parameters, but also\r\n * a function's return type.\r\n *\r\n * For more info review the Concept on strict type checking in the PHP track\r\n * <link>.\r\n *\r\n * To disable strict typing, comment out the directive below.\r\n */\r\n\r\ndeclare(strict_types=1);\r\n\r\nfunction sieve(int $number): array\r\n{\r\n    throw new \\BadFunctionCallException(\"Implement the sieve function\");\r\n}\r\n"
  },
  "tests": {
    "SieveTest.php": "<?php\r\n\r\ndeclare(strict_types=1);\r\n\r\nuse PHPUnit\\Framework\\TestCase;\r\nuse PHPUnit\\Framework\\Attributes\\TestDox;\r\n\r\nclass SieveTest extends TestCase\r\n{\r\n    public static function setUpBeforeClass(): void\r\n    {\r\n        require_once 'Sieve.php';\r\n    }\r\n\r\n    /**\r\n     * uuid: 88529125-c4ce-43cc-bb36-1eb4ddd7b44f\r\n     */\r\n    #[TestDox('No primes under two')]\r\n    public function testNoPrimesUnderTwo(): void\r\n    {\r\n        $this->assertEquals([], sieve(1));\r\n    }\r\n\r\n    /**\r\n     * uuid: 4afe9474-c705-4477-9923-840e1024cc2b\r\n     */\r\n    #[TestDox('Find first prime')]\r\n    public function testFindFirstPrime(): void\r\n    {\r\n        $this->assertEquals([2], sieve(2));\r\n    }\r\n\r\n    /**\r\n     * uuid: 974945d8-8cd9-4f00-9463-7d813c7f17b7\r\n     */\r\n    #[TestDox('Find primes up to 10')]\r\n    public function testFindPrimesUpTo10(): void\r\n    {\r\n        $this->assertEquals([2, 3, 5, 7], sieve(10));\r\n    }\r\n\r\n    /**\r\n     * uuid: 2e2417b7-3f3a-452a-8594-b9af08af6d82\r\n     */\r\n    #[TestDox('Limit is prime')]\r\n    public function testLimitIsPrime(): void\r\n    {\r\n        $this->assertEquals([2, 3, 5, 7, 11, 13], sieve(13));\r\n    }\r\n\r\n    /**\r\n     * uuid: 92102a05-4c7c-47de-9ed0-b7d5fcd00f21\r\n     */\r\n    #[TestDox('Find primes up to 1000')]\r\n    public function testFindPrimesUpTo1000(): void\r\n    {\r\n        $this->assertEquals(\r\n            [\r\n                2,\r\n                3,\r\n                5,\r\n                7,\r\n                11,\r\n                13,\r\n                17,\r\n                19,\r\n                23,\r\n                29,\r\n                31,\r\n                37,\r\n                41,\r\n                43,\r\n                47,\r\n                53,\r\n                59,\r\n                61,\r\n                67,\r\n                71,\r\n                73,\r\n                79,\r\n                83,\r\n                89,\r\n                97,\r\n                101,\r\n                103,\r\n                107,\r\n                109,\r\n                113,\r\n                127,\r\n                131,\r\n                137,\r\n                139,\r\n                149,\r\n                151,\r\n                157,\r\n                163,\r\n                167,\r\n                173,\r\n                179,\r\n                181,\r\n                191,\r\n                193,\r\n                197,\r\n                199,\r\n                211,\r\n                223,\r\n                227,\r\n                229,\r\n                233,\r\n                239,\r\n                241,\r\n                251,\r\n                257,\r\n                263,\r\n                269,\r\n                271,\r\n                277,\r\n                281,\r\n                283,\r\n                293,\r\n                307,\r\n                311,\r\n                313,\r\n                317,\r\n                331,\r\n                337,\r\n                347,\r\n                349,\r\n                353,\r\n                359,\r\n                367,\r\n                373,\r\n                379,\r\n                383,\r\n                389,\r\n                397,\r\n                401,\r\n                409,\r\n                419,\r\n                421,\r\n                431,\r\n                433,\r\n                439,\r\n                443,\r\n                449,\r\n                457,\r\n                461,\r\n                463,\r\n                467,\r\n                479,\r\n                487,\r\n                491,\r\n                499,\r\n                503,\r\n                509,\r\n                521,\r\n                523,\r\n                541,\r\n                547,\r\n                557,\r\n                563,\r\n                569,\r\n                571,\r\n                577,\r\n                587,\r\n                593,\r\n                599,\r\n                601,\r\n                607,\r\n                613,\r\n                617,\r\n                619,\r\n                631,\r\n                641,\r\n                643,\r\n                647,\r\n                653,\r\n                659,\r\n                661,\r\n                673,\r\n                677,\r\n                683,\r\n                691,\r\n                701,\r\n                709,\r\n                719,\r\n                727,\r\n                733,\r\n                739,\r\n                743,\r\n                751,\r\n                757,\r\n                761,\r\n                769,\r\n                773,\r\n                787,\r\n                797,\r\n                809,\r\n                811,\r\n                821,\r\n                823,\r\n                827,\r\n                829,\r\n                839,\r\n                853,\r\n                857,\r\n                859,\r\n                863,\r\n                877,\r\n                881,\r\n                883,\r\n                887,\r\n                907,\r\n                911,\r\n                919,\r\n                929,\r\n                937,\r\n                941,\r\n                947,\r\n                953,\r\n                967,\r\n                971,\r\n                977,\r\n                983,\r\n                991,\r\n                997,\r\n            ],\r\n            sieve(1000)\r\n        );\r\n    }\r\n}\r\n"
  }
}
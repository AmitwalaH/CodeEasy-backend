{
  "language": "php",
  "slug": "clock",
  "docs": {
    "instructions": "# Instructions\r\n\r\nImplement a clock that handles times without dates.\r\n\r\nYou should be able to add and subtract minutes to it.\r\n\r\nTwo clocks that represent the same time should be equal to each other.\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "Clock.php": "<?php\r\n\r\n/*\r\n * By adding type hints and enabling strict type checking, code can become\r\n * easier to read, self-documenting and reduce the number of potential bugs.\r\n * By default, type declarations are non-strict, which means they will attempt\r\n * to change the original type to match the type specified by the\r\n * type-declaration.\r\n *\r\n * In other words, if you pass a string to a function requiring a float,\r\n * it will attempt to convert the string value to a float.\r\n *\r\n * To enable strict mode, a single declare directive must be placed at the top\r\n * of the file.\r\n * This means that the strictness of typing is configured on a per-file basis.\r\n * This directive not only affects the type declarations of parameters, but also\r\n * a function's return type.\r\n *\r\n * For more info review the Concept on strict type checking in the PHP track\r\n * <link>.\r\n *\r\n * To disable strict typing, comment out the directive below.\r\n */\r\n\r\ndeclare(strict_types=1);\r\n\r\nclass Clock\r\n{\r\n    /**\r\n     * This class implements PHP's magic method __toString().\r\n     *\r\n     * By implementing this method, the class adheres to the `Stringable` interface.\r\n     * When an object of this class is used in string context (e.g., echo or string cast),\r\n     * this method is automatically called.\r\n     *\r\n     * More on `Stringable`: https://www.php.net/manual/en/class.stringable.php\r\n     *\r\n     * @return string The string representation of the Clock object\r\n     */\r\n    public function __toString(): string\r\n    {\r\n        throw new \\BadMethodCallException(\"Implement the __toString function\");\r\n    }\r\n}\r\n"
  },
  "tests": {
    "ClockTest.php": "<?php\r\n\r\ndeclare(strict_types=1);\r\n\r\nuse PHPUnit\\Framework\\TestCase;\r\nuse PHPUnit\\Framework\\Attributes\\TestDox;\r\n\r\nclass ClockTest extends TestCase\r\n{\r\n    public static function setUpBeforeClass(): void\r\n    {\r\n        require_once 'Clock.php';\r\n    }\r\n\r\n    /**\r\n     * uuid a577bacc-106b-496e-9792-b3083ea8705e\r\n     */\r\n    #[TestDox('Create a new clock with an initial time - on the hour')]\r\n    public function testOnTheHour(): void\r\n    {\r\n        $clock = new Clock(8);\r\n\r\n        $this->assertEquals('08:00', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid b5d0c360-3b88-489b-8e84-68a1c7a4fa23\r\n     */\r\n    #[TestDox('past the hour')]\r\n    public function testPastTheHour(): void\r\n    {\r\n        $clock = new Clock(11, 9);\r\n\r\n        $this->assertEquals('11:09', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 473223f4-65f3-46ff-a9f7-7663c7e59440\r\n     */\r\n    #[TestDox('midnight is zero hours')]\r\n    public function testMidnightIsZeroHours(): void\r\n    {\r\n        $clock = new Clock(24, 0);\r\n        $this->assertEquals('00:00', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid ca95d24a-5924-447d-9a96-b91c8334725c\r\n     */\r\n    #[TestDox('hour rolls over')]\r\n    public function testHourRollsOver(): void\r\n    {\r\n        $clock = new Clock(25, 0);\r\n        $this->assertEquals('01:00', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid f3826de0-0925-4d69-8ac8-89aea7e52b78\r\n     */\r\n    #[TestDox('hour rolls over continuously')]\r\n    public function testHourRollsOverContinuously(): void\r\n    {\r\n        $clock = new Clock(100, 0);\r\n        $this->assertEquals('04:00', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid a02f7edf-dfd4-4b11-b21a-86de3cc6a95c\r\n     */\r\n    #[TestDox('sixty minutes is next hour')]\r\n    public function testSixtyMinutesIsNextHour(): void\r\n    {\r\n        $clock = new Clock(1, 60);\r\n        $this->assertEquals('02:00', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 8f520df6-b816-444d-b90f-8a477789beb5\r\n     */\r\n    #[TestDox('minutes roll over')]\r\n    public function testMinutesRollOver(): void\r\n    {\r\n        $clock = new Clock(0, 160);\r\n        $this->assertEquals('02:40', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid c75c091b-47ac-4655-8d40-643767fc4eed\r\n     */\r\n    #[TestDox('minutes roll over continuously')]\r\n    public function testMinutesRollOverContinuously(): void\r\n    {\r\n        $clock = new Clock(0, 1723);\r\n        $this->assertEquals('04:43', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 06343ecb-cf39-419d-a3f5-dcbae0cc4c57\r\n     */\r\n    #[TestDox('hour and minutes roll over')]\r\n    public function testHourAndMinutesRollOver(): void\r\n    {\r\n        $clock = new Clock(25, 160);\r\n        $this->assertEquals('03:40', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid be60810e-f5d9-4b58-9351-a9d1e90e660c\r\n     */\r\n    #[TestDox('hour and minutes roll over continuously')]\r\n    public function testHourAndMinutesRollOverContinuously(): void\r\n    {\r\n        $clock = new Clock(201, 3001);\r\n        $this->assertEquals('11:01', (string)$clock);\r\n    }\r\n\r\n\r\n    /**\r\n     * uuid 1689107b-0b5c-4bea-aad3-65ec9859368a\r\n     */\r\n    #[TestDox('hour and minutes roll over to exactly midnight')]\r\n    public function testHourAndMinutesRollOverToExactlyMidnight(): void\r\n    {\r\n        $clock = new Clock(72, 8640);\r\n        $this->assertEquals('00:00', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid d3088ee8-91b7-4446-9e9d-5e2ad6219d91\r\n     */\r\n    #[TestDox('negative hour')]\r\n    public function testNegativeHour(): void\r\n    {\r\n        $clock = new Clock(-1, 15);\r\n        $this->assertEquals('23:15', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 77ef6921-f120-4d29-bade-80d54aa43b54\r\n     */\r\n    #[TestDox('negative hour rolls over')]\r\n    public function testNegativeHourRollsOver(): void\r\n    {\r\n        $clock = new Clock(-25, 0);\r\n        $this->assertEquals('23:00', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 359294b5-972f-4546-bb9a-a85559065234\r\n     */\r\n    #[TestDox('negative hour rolls over continuously')]\r\n    public function testNegativeHourRollsOverContinuously(): void\r\n    {\r\n        $clock = new Clock(-91, 0);\r\n        $this->assertEquals('05:00', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 509db8b7-ac19-47cc-bd3a-a9d2f30b03c0\r\n     */\r\n    #[TestDox('negative minutes')]\r\n    public function testNegativeMinutes(): void\r\n    {\r\n        $clock = new Clock(1, -40);\r\n        $this->assertEquals('00:20', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 5d6bb225-130f-4084-84fd-9e0df8996f2a\r\n     */\r\n    #[TestDox('negative minutes roll over')]\r\n    public function testNegativeMinutesRollOver(): void\r\n    {\r\n        $clock = new Clock(1, -160);\r\n        $this->assertEquals('22:20', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid d483ceef-b520-4f0c-b94a-8d2d58cf0484\r\n     */\r\n    #[TestDox('negative minutes roll over continuously')]\r\n    public function testNegativeMinutesRollOverContinuously(): void\r\n    {\r\n        $clock = new Clock(1, -4820);\r\n        $this->assertEquals('16:40', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 1cd19447-19c6-44bf-9d04-9f8305ccb9ea\r\n     */\r\n    #[TestDox('negative sixty minutes is previous hour')]\r\n    public function testNegativeSixtyMinutesIsPreviousHour(): void\r\n    {\r\n        $clock = new Clock(2, -60);\r\n        $this->assertEquals('01:00', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 9d3053aa-4f47-4afc-bd45-d67a72cef4dc\r\n     */\r\n    #[TestDox('negative hour and minutes both roll over')]\r\n    public function testNegativeHourAndMinutesBothRollOver(): void\r\n    {\r\n        $clock = new Clock(-25, -160);\r\n        $this->assertEquals('20:20', (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 51d41fcf-491e-4ca0-9cae-2aa4f0163ad4\r\n     */\r\n    #[TestDox('negative hour and minutes both roll over continuously')]\r\n    public function testNegativeHourAndMinutesBothRollOverContinuously(): void\r\n    {\r\n        $clock = new Clock(-121, -5810);\r\n        $this->assertEquals('22:10', (string)$clock);\r\n    }\r\n\r\n\r\n    /**\r\n     * uuid d098e723-ad29-4ef9-997a-2693c4c9d89a\r\n     */\r\n    #[TestDox('Add minutes - add minutes')]\r\n    public function testAddMinutes()\r\n    {\r\n        $clock = new Clock(10, 0);\r\n        $clock = $clock->add(3);\r\n        $this->assertEquals(\"10:03\", (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid b6ec8f38-e53e-4b22-92a7-60dab1f485f4\r\n     */\r\n    #[TestDox('Add no minutes')]\r\n    public function testAddNoMinutes()\r\n    {\r\n        $clock = new Clock(6, 41);\r\n        $clock = $clock->add(0);\r\n        $this->assertEquals(\"06:41\", (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid efd349dd-0785-453e-9ff8-d7452a8e7269\r\n     */\r\n    #[TestDox('Add to next hour')]\r\n    public function testAddToNextHour()\r\n    {\r\n        $clock = new Clock(0, 45);\r\n        $clock = $clock->add(40);\r\n        $this->assertEquals(\"01:25\", (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 749890f7-aba9-4702-acce-87becf4ef9fe\r\n     */\r\n    #[TestDox('Add more than one hour')]\r\n    public function testAddMoreThanOneHour()\r\n    {\r\n        $clock = new Clock(10, 0);\r\n        $clock = $clock->add(61);\r\n        $this->assertEquals(\"11:01\", (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid da63e4c1-1584-46e3-8d18-c9dc802c1713\r\n     */\r\n    #[TestDox('Add more than two hours with carry')]\r\n    public function testAddMoreThanTwoHoursWithCarry()\r\n    {\r\n        $clock = new Clock(0, 45);\r\n        $clock = $clock->add(160);\r\n        $this->assertEquals(\"03:25\", (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid be167a32-3d33-4cec-a8bc-accd47ddbb71\r\n     */\r\n    #[TestDox('Add across midnight')]\r\n    public function testAddAcrossMidnight()\r\n    {\r\n        $clock = new Clock(23, 59);\r\n        $clock = $clock->add(2);\r\n        $this->assertEquals(\"00:01\", (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 6672541e-cdae-46e4-8be7-a820cc3be2a8\r\n     */\r\n    #[TestDox('Add more than one day (1500 min = 25 hrs)')]\r\n    public function testAddMoreThanOneDay()\r\n    {\r\n        $clock = new Clock(5, 32);\r\n        $clock = $clock->add(1500);\r\n        $this->assertEquals(\"06:32\", (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 1918050d-c79b-4cb7-b707-b607e2745c7e\r\n     */\r\n    #[TestDox('Add more than two days')]\r\n    public function testAddMoreThanTwoDays()\r\n    {\r\n        $clock = new Clock(1, 1);\r\n        $clock = $clock->add(3500);\r\n        $this->assertEquals(\"11:21\", (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 37336cac-5ede-43a5-9026-d426cbe40354\r\n     */\r\n    #[TestDox('Subtract minutes - subtract minutes')]\r\n    public function testSubtractMinutes(): void\r\n    {\r\n        $clock = new Clock(10, 3);\r\n        $clock = $clock->sub(3);\r\n        $this->assertEquals(\"10:00\", (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 0aafa4d0-3b5f-4b12-b3af-e3a9e09c047b\r\n     */\r\n    #[TestDox('subtract to previous hour')]\r\n    public function testSubtractToPreviousHour(): void\r\n    {\r\n        $clock = new Clock(10, 3);\r\n        $clock = $clock->sub(30);\r\n        $this->assertEquals(\"09:33\", (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 9b4e809c-612f-4b15-aae0-1df0acb801b9\r\n     */\r\n    #[TestDox('subtract more than an hour')]\r\n    public function testSubtractMoreThanAnHour(): void\r\n    {\r\n        $clock = new Clock(10, 3);\r\n        $clock = $clock->sub(70);\r\n        $this->assertEquals(\"08:53\", (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 8b04bb6a-3d33-4e6c-8de9-f5de6d2c70d6\r\n     */\r\n    #[TestDox('subtract across midnight')]\r\n    public function testSubtractAcrossMidnight(): void\r\n    {\r\n        $clock = new Clock(0, 3);\r\n        $clock = $clock->sub(4);\r\n        $this->assertEquals(\"23:59\", (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 07c3bbf7-ce4d-4658-86e8-4a77b7a5ccd9\r\n     */\r\n    #[TestDox('subtract more than two hours')]\r\n    public function testSubtractMoreThanTwoHours(): void\r\n    {\r\n        $clock = new Clock(0, 0);\r\n        $clock = $clock->sub(160);\r\n        $this->assertEquals(\"21:20\", (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 90ac8a1b-761c-4342-9c9c-cdc3ed5db097\r\n     */\r\n    #[TestDox('subtract more than two hours with borrow')]\r\n    public function testSubtractMoreThanTwoHoursWithBorrow(): void\r\n    {\r\n        $clock = new Clock(6, 15);\r\n        $clock = $clock->sub(160);\r\n        $this->assertEquals(\"03:35\", (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid 2149f985-7136-44ad-9b29-ec023a97a2b7\r\n     */\r\n    #[TestDox('subtract more than one day (1500 min = 25 hrs)')]\r\n    public function testSubtractMoreThanOneDay(): void\r\n    {\r\n        $clock = new Clock(5, 32);\r\n        $clock = $clock->sub(1500);\r\n        $this->assertEquals(\"04:32\", (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid ba11dbf0-ac27-4acb-ada9-3b853ec08c97\r\n     */\r\n    #[TestDox('subtract more than two days')]\r\n    public function testSubtractMoreThanTwoDays(): void\r\n    {\r\n        $clock = new Clock(2, 20);\r\n        $clock = $clock->sub(3000);\r\n        $this->assertEquals(\"00:20\", (string)$clock);\r\n    }\r\n\r\n    /**\r\n     * uuid f2fdad51-499f-4c9b-a791-b28c9282e311\r\n     */\r\n    #[TestDox('Compare two clocks for equality - clocks with same time')]\r\n    public function testClocksWithSameTime(): void\r\n    {\r\n        $this->assertEquals(new Clock(15, 37), new Clock(15, 37));\r\n    }\r\n\r\n    /**\r\n     * uuid 5d409d4b-f862-4960-901e-ec430160b768\r\n     */\r\n    #[TestDox('clocks a minute apart')]\r\n    public function testClocksAMinuteApart(): void\r\n    {\r\n        $this->assertNotEquals(new Clock(15, 36), new Clock(15, 37));\r\n    }\r\n\r\n    /**\r\n     * uuid a6045fcf-2b52-4a47-8bb2-ef10a064cba5\r\n     */\r\n    #[TestDox('clocks an hour apart')]\r\n    public function testClocksAnHourApart(): void\r\n    {\r\n        $this->assertNotEquals(new Clock(14, 37), new Clock(15, 37));\r\n    }\r\n\r\n    /**\r\n     * uuid 66b12758-0be5-448b-a13c-6a44bce83527\r\n     */\r\n    #[TestDox('clocks with hour overflow')]\r\n    public function testClocksWithHourOverflow(): void\r\n    {\r\n        $this->assertEquals(new Clock(10, 37), new Clock(34, 37));\r\n    }\r\n\r\n    /**\r\n     * uuid 2b19960c-212e-4a71-9aac-c581592f8111\r\n     */\r\n    #[TestDox('clocks with hour overflow by several days')]\r\n    public function testClocksWithHourOverflowBySeveralDays(): void\r\n    {\r\n        $this->assertEquals(new Clock(3, 11), new Clock(99, 11));\r\n    }\r\n\r\n    /**\r\n     * uuid 6f8c6541-afac-4a92-b0c2-b10d4e50269f\r\n     */\r\n    #[TestDox('clocks with negative hour')]\r\n    public function testClocksWithNegativeHour(): void\r\n    {\r\n        $this->assertEquals(new Clock(22, 40), new Clock(-2, 40));\r\n    }\r\n\r\n    /**\r\n     * uuid bb9d5a68-e324-4bf5-a75e-0e9b1f97a90d\r\n     */\r\n    #[TestDox('clocks with negative hour that wraps')]\r\n    public function testClocksWithNegativeHourThatWraps(): void\r\n    {\r\n        $this->assertEquals(new Clock(17, 3), new Clock(-31, 3));\r\n    }\r\n\r\n    /**\r\n     * uuid 56c0326d-565b-4d19-a26f-63b3205778b7\r\n     */\r\n    #[TestDox('clocks with negative hour that wraps multiple times')]\r\n    public function testClocksWithNegativeHourThatWrapsMultipleTimes(): void\r\n    {\r\n        $this->assertEquals(new Clock(13, 49), new Clock(-83, 49));\r\n    }\r\n\r\n    /**\r\n     * uuid c90b9de8-ddff-4ffe-9858-da44a40fdbc2\r\n     */\r\n    #[TestDox('clocks with minute overflow')]\r\n    public function testClocksWithMinuteOverflow(): void\r\n    {\r\n        $this->assertEquals(new Clock(0, 1), new Clock(0, 1441));\r\n    }\r\n\r\n    /**\r\n     * uuid 533a3dc5-59a7-491b-b728-a7a34fe325de\r\n     */\r\n    #[TestDox('clocks with minute overflow by several days')]\r\n    public function testClocksWithMinuteOverflowBySeveralDays(): void\r\n    {\r\n        $this->assertEquals(new Clock(2, 2), new Clock(2, 4322));\r\n    }\r\n\r\n    /**\r\n     * uuid fff49e15-f7b7-4692-a204-0f6052d62636\r\n     */\r\n    #[TestDox('clocks with negative minute')]\r\n    public function testClocksWithNegativeMinute(): void\r\n    {\r\n        $this->assertEquals(new Clock(2, 40), new Clock(3, -20));\r\n    }\r\n\r\n    /**\r\n     * uuid 605c65bb-21bd-43eb-8f04-878edf508366\r\n     */\r\n    #[TestDox('clocks with negative minute that wraps')]\r\n    public function testClocksWithNegativeMinuteThatWraps(): void\r\n    {\r\n        $this->assertEquals(new Clock(4, 10), new Clock(5, -1490));\r\n    }\r\n\r\n    /**\r\n     * uuid b87e64ed-212a-4335-91fd-56da8421d077\r\n     */\r\n    #[TestDox('clocks with negative minute that wraps multiple times')]\r\n    public function testClocksWithNegativeMinuteThatWrapsMultipleTimes(): void\r\n    {\r\n        $this->assertEquals(new Clock(6, 15), new Clock(6, -4305));\r\n    }\r\n\r\n    /**\r\n     * uuid 822fbf26-1f3b-4b13-b9bf-c914816b53dd\r\n     */\r\n    #[TestDox('clocks with negative hours and minutes')]\r\n    public function testClocksWithNegativeHoursAndMinutes(): void\r\n    {\r\n        $this->assertEquals(new Clock(7, 32), new Clock(-12, -268));\r\n    }\r\n\r\n    /**\r\n     * uuid e787bccd-cf58-4a1d-841c-ff80eaaccfaa\r\n     */\r\n    #[TestDox('clocks with negative hours and minutes that wrap')]\r\n    public function testClocksWithNegativeHoursAndMinutesThatWrap(): void\r\n    {\r\n        $this->assertEquals(new Clock(18, 7), new Clock(-54, -11513));\r\n    }\r\n\r\n    /**\r\n     * uuid 96969ca8-875a-48a1-86ae-257a528c44f5\r\n     */\r\n    #[TestDox('full clock and zeroed clock')]\r\n    public function testFullClockAndZeroedClock(): void\r\n    {\r\n        $this->assertEquals(new Clock(24, 0), new Clock(0, 0));\r\n    }\r\n}\r\n"
  }
}
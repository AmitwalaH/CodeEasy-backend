{
  "language": "php",
  "slug": "killer-sudoku-helper",
  "docs": {
    "instructions": "# Instructions\r\n\r\nA friend of yours is learning how to solve Killer Sudokus (rules below) but struggling to figure out which digits can go in a cage.\r\nThey ask you to help them out by writing a small program that lists all valid combinations for a given cage, and any constraints that affect the cage.\r\n\r\nTo make the output of your program easy to read, the combinations it returns must be sorted.\r\n\r\n## Killer Sudoku Rules\r\n\r\n- [Standard Sudoku rules][sudoku-rules] apply.\r\n- The digits in a cage, usually marked by a dotted line, add up to the small number given in the corner of the cage.\r\n- A digit may only occur once in a cage.\r\n\r\nFor a more detailed explanation, check out [this guide][killer-guide].\r\n\r\n## Example 1: Cage with only 1 possible combination\r\n\r\nIn a 3-digit cage with a sum of 7, there is only one valid combination: 124.\r\n\r\n- 1 + 2 + 4 = 7\r\n- Any other combination that adds up to 7, e.g. 232, would violate the rule of not repeating digits within a cage.\r\n\r\n![Sudoku grid, with three killer cages that are marked as grouped together.\r\nThe first killer cage is in the 3×3 box in the top left corner of the grid.\r\nThe middle column of that box forms the cage, with the followings cells from top to bottom: first cell contains a 1 and a pencil mark of 7, indicating a cage sum of 7, second cell contains a 2, third cell contains a 5.\r\nThe numbers are highlighted in red to indicate a mistake.\r\nThe second killer cage is in the central 3×3 box of the grid.\r\nThe middle column of that box forms the cage, with the followings cells from top to bottom: first cell contains a 1 and a pencil mark of 7, indicating a cage sum of 7, second cell contains a 2, third cell contains a 4.\r\nNone of the numbers in this cage are highlighted and therefore don't contain any mistakes.\r\nThe third killer cage follows the outside corner of the central 3×3 box of the grid.\r\nIt is made up of the following three cells: the top left cell of the cage contains a 2, highlighted in red, and a cage sum of 7.\r\nThe top right cell of the cage contains a 3.\r\nThe bottom right cell of the cage contains a 2, highlighted in red. All other cells are empty.][one-solution-img]\r\n\r\n## Example 2: Cage with several combinations\r\n\r\nIn a 2-digit cage with a sum 10, there are 4 possible combinations:\r\n\r\n- 19\r\n- 28\r\n- 37\r\n- 46\r\n\r\n![Sudoku grid, all squares empty except for the middle column, column 5, which has 8 rows filled.\r\nEach continguous two rows form a killer cage and are marked as grouped together.\r\nFrom top to bottom: first group is a cell with value 1 and a pencil mark indicating a cage sum of 10, cell with value 9.\r\nSecond group is a cell with value 2 and a pencil mark of 10, cell with value 8.\r\nThird group is a cell with value 3 and a pencil mark of 10, cell with value 7.\r\nFourth group is a cell with value 4 and a pencil mark of 10, cell with value 6.\r\nThe last cell in the column is empty.][four-solutions-img]\r\n\r\n## Example 3: Cage with several combinations that is restricted\r\n\r\nIn a 2-digit cage with a sum 10, where the column already contains a 1 and a 4, there are 2 possible combinations:\r\n\r\n- 28\r\n- 37\r\n\r\n19 and 46 are not possible due to the 1 and 4 in the column according to standard Sudoku rules.\r\n\r\n![Sudoku grid, all squares empty except for the middle column, column 5, which has 8 rows filled.\r\nThe first row contains a 4, the second is empty, and the third contains a 1.\r\nThe 1 is highlighted in red to indicate a mistake.\r\nThe last 6 rows in the column form killer cages of two cells each.\r\nFrom top to bottom: first group is a cell with value 2 and a pencil mark indicating a cage sum of 10, cell with value 8.\r\nSecond group is a cell with value 3 and a pencil mark of 10, cell with value 7.\r\nThird group is a cell with value 1, highlighted in red, and a pencil mark of 10, cell with value 9.][not-possible-img]\r\n\r\n## Trying it yourself\r\n\r\nIf you want to give an approachable Killer Sudoku a go, you can try out [this puzzle][clover-puzzle] by Clover, featured by [Mark Goodliffe on Cracking The Cryptic on the 21st of June 2021][goodliffe-video].\r\n\r\nYou can also find Killer Sudokus in varying difficulty in numerous newspapers, as well as Sudoku apps, books and websites.\r\n\r\n## Credit\r\n\r\nThe screenshots above have been generated using F-Puzzles.com, a Puzzle Setting Tool by Eric Fox.\r\n\r\n[sudoku-rules]: https://masteringsudoku.com/sudoku-rules-beginners/\r\n[killer-guide]: https://masteringsudoku.com/killer-sudoku/\r\n[one-solution-img]: https://assets.exercism.org/images/exercises/killer-sudoku-helper/example1.png\r\n[four-solutions-img]: https://assets.exercism.org/images/exercises/killer-sudoku-helper/example2.png\r\n[not-possible-img]: https://assets.exercism.org/images/exercises/killer-sudoku-helper/example3.png\r\n[clover-puzzle]: https://app.crackingthecryptic.com/sudoku/HqTBn3Pr6R\r\n[goodliffe-video]: https://youtu.be/c_NjEbFEeW0?t=1180\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "KillerSudokuHelper.php": "<?php\r\n\r\n/*\r\n * By adding type hints and enabling strict type checking, code can become\r\n * easier to read, self-documenting and reduce the number of potential bugs.\r\n * By default, type declarations are non-strict, which means they will attempt\r\n * to change the original type to match the type specified by the\r\n * type-declaration.\r\n *\r\n * In other words, if you pass a string to a function requiring a float,\r\n * it will attempt to convert the string value to a float.\r\n *\r\n * To enable strict mode, a single declare directive must be placed at the top\r\n * of the file.\r\n * This means that the strictness of typing is configured on a per-file basis.\r\n * This directive not only affects the type declarations of parameters, but also\r\n * a function's return type.\r\n *\r\n * For more info review the Concept on strict type checking in the PHP track\r\n * <link>.\r\n *\r\n * To disable strict typing, comment out the directive below.\r\n */\r\n\r\ndeclare(strict_types=1);\r\n\r\nclass KillerSudokuHelper\r\n{\r\n    public function combinations(int $sum, int $size, array $exclude): array\r\n    {\r\n        throw new \\BadMethodCallException(sprintf('Implement the %s method', __FUNCTION__));\r\n    }\r\n}\r\n"
  },
  "tests": {
    "KillerSudokuHelperTest.php": "<?php\r\n\r\ndeclare(strict_types=1);\r\n\r\nuse PHPUnit\\Framework\\TestCase;\r\n\r\nclass KillerSudokuHelperTest extends TestCase\r\n{\r\n    private KillerSudokuHelper $killerSudokuHelper;\r\n\r\n    public static function setUpBeforeClass(): void\r\n    {\r\n        require_once 'KillerSudokuHelper.php';\r\n    }\r\n\r\n    protected function setUp(): void\r\n    {\r\n        $this->killerSudokuHelper = new KillerSudokuHelper();\r\n    }\r\n\r\n    /**\r\n     * uuid: 2aaa8f13-11b5-4054-b95c-a906e4d79fb6\r\n     */\r\n    public function testTrivialOneDigitCages1(): void\r\n    {\r\n        $expected = [\r\n            [1]\r\n        ];\r\n        $this->assertEquals($expected, $this->killerSudokuHelper->combinations(1, 1, []));\r\n    }\r\n\r\n    /**\r\n     * uuid: 4645da19-9fdd-4087-a910-a6ed66823563\r\n     */\r\n    public function testTrivialOneDigitCages2(): void\r\n    {\r\n        $expected = [\r\n            [2]\r\n        ];\r\n        $this->assertEquals($expected, $this->killerSudokuHelper->combinations(2, 1, []));\r\n    }\r\n\r\n    /**\r\n     * uuid: 07cfc704-f8aa-41b2-8f9a-cbefb674cb48\r\n     */\r\n    public function testTrivialOneDigitCages3(): void\r\n    {\r\n        $expected = [\r\n            [3]\r\n        ];\r\n        $this->assertEquals($expected, $this->killerSudokuHelper->combinations(3, 1, []));\r\n    }\r\n\r\n    /**\r\n     * uuid: 22b8b2ba-c4fd-40b3-b1bf-40aa5e7b5f24\r\n     */\r\n    public function testTrivialOneDigitCages4(): void\r\n    {\r\n        $expected = [\r\n            [4]\r\n        ];\r\n        $this->assertEquals($expected, $this->killerSudokuHelper->combinations(4, 1, []));\r\n    }\r\n\r\n    /**\r\n     * uuid: b75d16e2-ff9b-464d-8578-71f73094cea7\r\n     */\r\n    public function testTrivialOneDigitCages5(): void\r\n    {\r\n        $expected = [\r\n            [5]\r\n        ];\r\n        $this->assertEquals($expected, $this->killerSudokuHelper->combinations(5, 1, []));\r\n    }\r\n\r\n    /**\r\n     * uuid: bcbf5afc-4c89-4ff6-9357-07ab4d42788f\r\n     */\r\n    public function testTrivialOneDigitCages6(): void\r\n    {\r\n        $expected = [\r\n            [6]\r\n        ];\r\n        $this->assertEquals($expected, $this->killerSudokuHelper->combinations(6, 1, []));\r\n    }\r\n\r\n    /**\r\n     * uuid: 511b3bf8-186f-4e35-844f-c804d86f4a7a\r\n     */\r\n    public function testTrivialOneDigitCages7(): void\r\n    {\r\n        $expected = [\r\n            [7]\r\n        ];\r\n        $this->assertEquals($expected, $this->killerSudokuHelper->combinations(7, 1, []));\r\n    }\r\n\r\n    /**\r\n     * uuid: bd09a60d-3aca-43bd-b6aa-6ccad01bedda\r\n     */\r\n    public function testTrivialOneDigitCages8(): void\r\n    {\r\n        $expected = [\r\n            [8]\r\n        ];\r\n        $this->assertEquals($expected, $this->killerSudokuHelper->combinations(8, 1, []));\r\n    }\r\n\r\n    /**\r\n     * uuid: 9b539f27-44ea-4ff8-bd3d-c7e136bee677\r\n     */\r\n    public function testTrivialOneDigitCages9(): void\r\n    {\r\n        $expected = [\r\n            [9]\r\n        ];\r\n        $this->assertEquals($expected, $this->killerSudokuHelper->combinations(9, 1, []));\r\n    }\r\n\r\n    /**\r\n     * uuid: 0a8b2078-b3a4-4dbd-be0d-b180f503d5c3\r\n     */\r\n    public function testCageWithSum45ContainsAllDigits1To9(): void\r\n    {\r\n        $expected = [\r\n            [1, 2, 3, 4, 5, 6, 7, 8, 9]\r\n        ];\r\n        $this->assertEquals($expected, $this->killerSudokuHelper->combinations(45, 9, []));\r\n    }\r\n\r\n    /**\r\n     * uuid: 2635d7c9-c716-4da1-84f1-c96e03900142\r\n     */\r\n    public function testCageWithOnlyOnePossibleCombination(): void\r\n    {\r\n        $expected = [\r\n            [1, 2, 4]\r\n        ];\r\n        $this->assertEquals($expected, $this->killerSudokuHelper->combinations(7, 3, []));\r\n    }\r\n\r\n    /**\r\n     * uuid: a5bde743-e3a2-4a0c-8aac-e64fceea4228\r\n     */\r\n    public function testCageWithSeveralCombinations(): void\r\n    {\r\n        $expected = [\r\n            [1, 9], [2, 8], [3, 7], [4, 6]\r\n        ];\r\n        $this->assertEquals($expected, $this->killerSudokuHelper->combinations(10, 2, []));\r\n    }\r\n\r\n    /**\r\n     * uuid: dfbf411c-737d-465a-a873-ca556360c274\r\n     */\r\n    public function testCageWithSeveralCombinationsThatIsRestricted(): void\r\n    {\r\n        $expected = [\r\n            [2, 8], [3, 7]\r\n        ];\r\n        $this->assertEquals($expected, $this->killerSudokuHelper->combinations(10, 2, [1, 4]));\r\n    }\r\n}\r\n"
  }
}
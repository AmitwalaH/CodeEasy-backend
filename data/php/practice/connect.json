{
  "language": "php",
  "slug": "connect",
  "docs": {
    "instructions": "# Instructions\r\n\r\nCompute the result for a game of Hex / Polygon.\r\n\r\nThe abstract boardgame known as [Hex][hex] / Polygon / CON-TAC-TIX is quite simple in rules, though complex in practice.\r\nTwo players place stones on a parallelogram with hexagonal fields.\r\nThe player to connect his/her stones to the opposite side first wins.\r\nThe four sides of the parallelogram are divided between the two players (i.e. one player gets assigned a side and the side directly opposite it and the other player gets assigned the two other sides).\r\n\r\nYour goal is to build a program that given a simple representation of a board computes the winner (or lack thereof).\r\nNote that all games need not be \"fair\".\r\n(For example, players may have mismatched piece counts or the game's board might have a different width and height.)\r\n\r\nThe boards look like this:\r\n\r\n```text\r\n. O . X .\r\n . X X O .\r\n  O O O X .\r\n   . X O X O\r\n    X O O O X\r\n```\r\n\r\n\"Player `O`\" plays from top to bottom, \"Player `X`\" plays from left to right.\r\nIn the above example `O` has made a connection from left to right but nobody has won since `O` didn't connect top and bottom.\r\n\r\n[hex]: https://en.wikipedia.org/wiki/Hex_%28board_game%29\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "Connect.php": "<?php\r\n\r\n/*\r\n * By adding type hints and enabling strict type checking, code can become\r\n * easier to read, self-documenting and reduce the number of potential bugs.\r\n * By default, type declarations are non-strict, which means they will attempt\r\n * to change the original type to match the type specified by the\r\n * type-declaration.\r\n *\r\n * In other words, if you pass a string to a function requiring a float,\r\n * it will attempt to convert the string value to a float.\r\n *\r\n * To enable strict mode, a single declare directive must be placed at the top\r\n * of the file.\r\n * This means that the strictness of typing is configured on a per-file basis.\r\n * This directive not only affects the type declarations of parameters, but also\r\n * a function's return type.\r\n *\r\n * For more info review the Concept on strict type checking in the PHP track\r\n * <link>.\r\n *\r\n * To disable strict typing, comment out the directive below.\r\n */\r\n\r\ndeclare(strict_types=1);\r\n\r\nfunction winner(array $lines): ?string\r\n{\r\n    throw new \\BadFunctionCallException(\"Implement the winner method\");\r\n}\r\n"
  },
  "tests": {
    "ConnectTest.php": "<?php\r\n\r\ndeclare(strict_types=1);\r\n\r\nuse PHPUnit\\Framework\\TestCase;\r\nuse PHPUnit\\Framework\\Attributes\\TestDox;\r\n\r\nclass ConnectTest extends TestCase\r\n{\r\n    public static function setUpBeforeClass(): void\r\n    {\r\n        require_once 'Connect.php';\r\n    }\r\n\r\n    /**\r\n     * uuid 6eff0df4-3e92-478d-9b54-d3e8b354db56\r\n     */\r\n    #[TestDox('an empty board has no winner')]\r\n    public function testEmptyBoardHasNoWinner(): void\r\n    {\r\n        $lines = [\r\n            \". . . . .\",\r\n            \" . . . . .\",\r\n            \"  . . . . .\",\r\n            \"   . . . . .\",\r\n            \"    . . . . .\",\r\n        ];\r\n        $this->assertEquals(null, winner($lines));\r\n    }\r\n\r\n    /**\r\n     * uuid 298b94c0-b46d-45d8-b34b-0fa2ea71f0a4\r\n     */\r\n    #[TestDox('X can win on a 1x1 board')]\r\n    public function testOneByOneBoardBlack(): void\r\n    {\r\n        $lines = [\"X\"];\r\n        $this->assertEquals(\"black\", winner($lines));\r\n    }\r\n\r\n    /**\r\n     * uuid 763bbae0-cb8f-4f28-bc21-5be16a5722dc\r\n     */\r\n    #[TestDox('O can win on a 1x1 board')]\r\n    public function testOneByOneBoardWhite(): void\r\n    {\r\n        $lines = [\"O\"];\r\n        $this->assertEquals(\"white\", winner($lines));\r\n    }\r\n\r\n    /**\r\n     * uuid 819fde60-9ae2-485e-a024-cbb8ea68751b\r\n     */\r\n    #[TestDox('only edges does not make a winner')]\r\n    public function testOnlyEgesDoesNotMakeAWinner(): void\r\n    {\r\n        $lines = [\r\n            \"O O O X\",\r\n            \" X . . X\",\r\n            \"  X . . X\",\r\n            \"   X O O O\",\r\n        ];\r\n        $this->assertEquals(\"\", winner($lines));\r\n    }\r\n\r\n    /**\r\n     * uuid 2c56a0d5-9528-41e5-b92b-499dfe08506c\r\n     */\r\n    #[TestDox('illegal diagonal does not make a winner')]\r\n    public function testIllegalDiagonalDoesNotMakeAWinner(): void\r\n    {\r\n        $lines = [\r\n            \"X O . .\",\r\n            \" O X X X\",\r\n            \"  O X O .\",\r\n            \"   . O X .\",\r\n            \"    X X O O\",\r\n        ];\r\n        $this->assertEquals(\"\", winner($lines));\r\n    }\r\n\r\n    /**\r\n     * uuid 41cce3ef-43ca-4963-970a-c05d39aa1cc1\r\n     */\r\n    #[TestDox('nobody wins crossing adjacent angles')]\r\n    public function testNobodyWinsCrossingAdjacentAngles(): void\r\n    {\r\n        $lines = [\r\n            \"X . . .\",\r\n            \" . X O .\",\r\n            \"  O . X O\",\r\n            \"   . O . X\",\r\n            \"    . . O .\",\r\n        ];\r\n        $this->assertEquals(\"\", winner($lines));\r\n    }\r\n\r\n    /**\r\n     * uuid cd61c143-92f6-4a8d-84d9-cb2b359e226b\r\n     */\r\n    #[TestDox('X wins crossing from left to right')]\r\n    public function testXWinsCrossingFromLeftToRight(): void\r\n    {\r\n        $lines = [\r\n            \". O . .\",\r\n            \" O X X X\",\r\n            \"  O X O .\",\r\n            \"   X X O X\",\r\n            \"    . O X .\",\r\n        ];\r\n        $this->assertEquals(\"black\", winner($lines));\r\n    }\r\n\r\n    /**\r\n     * uuid 73d1eda6-16ab-4460-9904-b5f5dd401d0b\r\n     */\r\n    #[TestDox('O wins crossing from top to bottom')]\r\n    public function testOWinsCrossingFromTopToBottom(): void\r\n    {\r\n        $lines = [\r\n            \". O . .\",\r\n            \" O X X X\",\r\n            \"  O O O .\",\r\n            \"   X X O X\",\r\n            \"    . O X .\",\r\n        ];\r\n        $this->assertEquals(\"white\", winner($lines));\r\n    }\r\n\r\n    /**\r\n     * uuid c3a2a550-944a-4637-8b3f-1e1bf1340a3d\r\n     */\r\n    #[TestDox('X wins using a convoluted path')]\r\n    public function testXWinsUsingAConvolutedPath(): void\r\n    {\r\n        $lines = [\r\n            \". X X . .\",\r\n            \" X . X . X\",\r\n            \"  . X . X .\",\r\n            \"   . X X . .\",\r\n            \"    O O O O O\",\r\n        ];\r\n        $this->assertEquals(\"black\", winner($lines));\r\n    }\r\n\r\n    /**\r\n     * uuid 17e76fa8-f731-4db7-92ad-ed2a285d31f3\r\n     */\r\n    #[TestDox('X wins using a spiral path')]\r\n    public function testXWinsUsingASpiralPath(): void\r\n    {\r\n        $lines = [\r\n            \"O X X X X X X X X\",\r\n            \" O X O O O O O O O\",\r\n            \"  O X O X X X X X O\",\r\n            \"   O X O X O O O X O\",\r\n            \"    O X O X X X O X O\",\r\n            \"     O X O O O X O X O\",\r\n            \"      O X X X X X O X O\",\r\n            \"       O O O O O O O X O\",\r\n            \"        X X X X X X X X O\",\r\n        ];\r\n        $this->assertEquals(\"black\", winner($lines));\r\n    }\r\n}\r\n"
  }
}
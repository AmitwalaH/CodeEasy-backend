{
  "language": "php",
  "slug": "tournament",
  "docs": {
    "instructions": "# Instructions\r\n\r\nTally the results of a small football competition.\r\n\r\nBased on an input file containing which team played against which and what the\r\noutcome was, create a file with a table like this:\r\n\r\n```text\r\nTeam                           | MP |  W |  D |  L |  P\r\nDevastating Donkeys            |  3 |  2 |  1 |  0 |  7\r\nAllegoric Alaskans             |  3 |  2 |  0 |  1 |  6\r\nBlithering Badgers             |  3 |  1 |  0 |  2 |  3\r\nCourageous Californians        |  3 |  0 |  1 |  2 |  1\r\n```\r\n\r\nWhat do those abbreviations mean?\r\n\r\n- MP: Matches Played\r\n- W: Matches Won\r\n- D: Matches Drawn (Tied)\r\n- L: Matches Lost\r\n- P: Points\r\n\r\nA win earns a team 3 points. A draw earns 1. A loss earns 0.\r\n\r\nThe outcome should be ordered by points, descending. In case of a tie, teams are ordered alphabetically.\r\n\r\n## Input\r\n\r\nYour tallying program will receive input that looks like:\r\n\r\n```text\r\nAllegoric Alaskans;Blithering Badgers;win\r\nDevastating Donkeys;Courageous Californians;draw\r\nDevastating Donkeys;Allegoric Alaskans;win\r\nCourageous Californians;Blithering Badgers;loss\r\nBlithering Badgers;Devastating Donkeys;loss\r\nAllegoric Alaskans;Courageous Californians;win\r\n```\r\n\r\nThe result of the match refers to the first team listed. So this line:\r\n\r\n```text\r\nAllegoric Alaskans;Blithering Badgers;win\r\n```\r\n\r\nmeans that the Allegoric Alaskans beat the Blithering Badgers.\r\n\r\nThis line:\r\n\r\n```text\r\nCourageous Californians;Blithering Badgers;loss\r\n```\r\n\r\nmeans that the Blithering Badgers beat the Courageous Californians.\r\n\r\nAnd this line:\r\n\r\n```text\r\nDevastating Donkeys;Courageous Californians;draw\r\n```\r\n\r\nmeans that the Devastating Donkeys and Courageous Californians tied.\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "Tournament.php": "<?php\r\n\r\n/*\r\n * By adding type hints and enabling strict type checking, code can become\r\n * easier to read, self-documenting and reduce the number of potential bugs.\r\n * By default, type declarations are non-strict, which means they will attempt\r\n * to change the original type to match the type specified by the\r\n * type-declaration.\r\n *\r\n * In other words, if you pass a string to a function requiring a float,\r\n * it will attempt to convert the string value to a float.\r\n *\r\n * To enable strict mode, a single declare directive must be placed at the top\r\n * of the file.\r\n * This means that the strictness of typing is configured on a per-file basis.\r\n * This directive not only affects the type declarations of parameters, but also\r\n * a function's return type.\r\n *\r\n * For more info review the Concept on strict type checking in the PHP track\r\n * <link>.\r\n *\r\n * To disable strict typing, comment out the directive below.\r\n */\r\n\r\ndeclare(strict_types=1);\r\n\r\nclass Tournament\r\n{\r\n    public function __construct()\r\n    {\r\n        throw new \\BadFunctionCallException(\"Please implement the Tournament class!\");\r\n    }\r\n}\r\n"
  },
  "tests": {
    "TournamentTest.php": "<?php\r\n\r\n/*\r\n * By adding type hints and enabling strict type checking, code can become\r\n * easier to read, self-documenting and reduce the number of potential bugs.\r\n * By default, type declarations are non-strict, which means they will attempt\r\n * to change the original type to match the type specified by the\r\n * type-declaration.\r\n *\r\n * In other words, if you pass a string to a function requiring a float,\r\n * it will attempt to convert the string value to a float.\r\n *\r\n * To enable strict mode, a single declare directive must be placed at the top\r\n * of the file.\r\n * This means that the strictness of typing is configured on a per-file basis.\r\n * This directive not only affects the type declarations of parameters, but also\r\n * a function's return type.\r\n *\r\n * For more info review the Concept on strict type checking in the PHP track\r\n * <link>.\r\n *\r\n * To disable strict typing, comment out the directive below.\r\n */\r\n\r\ndeclare(strict_types=1);\r\n\r\nuse PHPUnit\\Framework\\TestCase;\r\n\r\nclass TournamentTest extends TestCase\r\n{\r\n    private Tournament $tournament;\r\n\r\n    public static function setUpBeforeClass(): void\r\n    {\r\n        require_once 'Tournament.php';\r\n    }\r\n\r\n    protected function setUp(): void\r\n    {\r\n        $this->tournament = new Tournament();\r\n    }\r\n\r\n    public function testHeaderOnlyNoTeams(): void\r\n    {\r\n        $scores   = '';\r\n        $expected = 'Team                           | MP |  W |  D |  L |  P';\r\n        $this->assertEquals($expected, $this->tournament->tally($scores));\r\n    }\r\n\r\n    public function testWinIsThreePointsLossIsZeroPoints(): void\r\n    {\r\n        $scores = 'Allegoric Alaskans;Blithering Badgers;win';\r\n        $expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" .\r\n            \"Allegoric Alaskans             |  1 |  1 |  0 |  0 |  3\\n\" .\r\n            \"Blithering Badgers             |  1 |  0 |  0 |  1 |  0\";\r\n        $this->assertEquals($expected, $this->tournament->tally($scores));\r\n    }\r\n\r\n    public function testWinCanAlsoBeExpressedAsALoss(): void\r\n    {\r\n        $scores = 'Blithering Badgers;Allegoric Alaskans;loss';\r\n        $expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" .\r\n            \"Allegoric Alaskans             |  1 |  1 |  0 |  0 |  3\\n\" .\r\n            \"Blithering Badgers             |  1 |  0 |  0 |  1 |  0\";\r\n        $this->assertEquals($expected, $this->tournament->tally($scores));\r\n    }\r\n\r\n    public function testDifferentTeamsCanWin(): void\r\n    {\r\n        $scores = 'Blithering Badgers;Allegoric Alaskans;win';\r\n        $expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" .\r\n            \"Blithering Badgers             |  1 |  1 |  0 |  0 |  3\\n\" .\r\n            \"Allegoric Alaskans             |  1 |  0 |  0 |  1 |  0\";\r\n        $this->assertEquals($expected, $this->tournament->tally($scores));\r\n    }\r\n\r\n    public function testADrawIsOnePointEach(): void\r\n    {\r\n        $scores = 'Allegoric Alaskans;Blithering Badgers;draw';\r\n        $expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" .\r\n            \"Allegoric Alaskans             |  1 |  0 |  1 |  0 |  1\\n\" .\r\n            \"Blithering Badgers             |  1 |  0 |  1 |  0 |  1\";\r\n        $this->assertEquals($expected, $this->tournament->tally($scores));\r\n    }\r\n\r\n    public function testThereCanBeMultipleMatches(): void\r\n    {\r\n        $scores =\r\n            \"Allegoric Alaskans;Blithering Badgers;win\\n\" .\r\n            \"Allegoric Alaskans;Blithering Badgers;win\";\r\n        $expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" .\r\n            \"Allegoric Alaskans             |  2 |  2 |  0 |  0 |  6\\n\" .\r\n            \"Blithering Badgers             |  2 |  0 |  0 |  2 |  0\";\r\n        $this->assertEquals($expected, $this->tournament->tally($scores));\r\n    }\r\n\r\n    public function testThereCanBeMoreThanOneWinner(): void\r\n    {\r\n        $scores =\r\n            \"Allegoric Alaskans;Blithering Badgers;loss\\n\" .\r\n            \"Allegoric Alaskans;Blithering Badgers;win\";\r\n        $expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" .\r\n            \"Allegoric Alaskans             |  2 |  1 |  0 |  1 |  3\\n\" .\r\n            \"Blithering Badgers             |  2 |  1 |  0 |  1 |  3\";\r\n        $this->assertEquals($expected, $this->tournament->tally($scores));\r\n    }\r\n\r\n    public function testThereCanBeMoreThanTwoTeams(): void\r\n    {\r\n        $scores =\r\n            \"Allegoric Alaskans;Blithering Badgers;win\\n\" .\r\n            \"Blithering Badgers;Courageous Californians;win\\n\" .\r\n            \"Courageous Californians;Allegoric Alaskans;loss\";\r\n        $expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" .\r\n            \"Allegoric Alaskans             |  2 |  2 |  0 |  0 |  6\\n\" .\r\n            \"Blithering Badgers             |  2 |  1 |  0 |  1 |  3\\n\" .\r\n            \"Courageous Californians        |  2 |  0 |  0 |  2 |  0\";\r\n        $this->assertEquals($expected, $this->tournament->tally($scores));\r\n    }\r\n\r\n    public function testStandardInput(): void\r\n    {\r\n        $scores =\r\n            \"Allegoric Alaskans;Blithering Badgers;win\\n\" .\r\n            \"Devastating Donkeys;Courageous Californians;draw\\n\" .\r\n            \"Devastating Donkeys;Allegoric Alaskans;win\\n\" .\r\n            \"Courageous Californians;Blithering Badgers;loss\\n\" .\r\n            \"Blithering Badgers;Devastating Donkeys;loss\\n\" .\r\n            \"Allegoric Alaskans;Courageous Californians;win\";\r\n        $expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" .\r\n            \"Devastating Donkeys            |  3 |  2 |  1 |  0 |  7\\n\" .\r\n            \"Allegoric Alaskans             |  3 |  2 |  0 |  1 |  6\\n\" .\r\n            \"Blithering Badgers             |  3 |  1 |  0 |  2 |  3\\n\" .\r\n            \"Courageous Californians        |  3 |  0 |  1 |  2 |  1\";\r\n        $this->assertEquals($expected, $this->tournament->tally($scores));\r\n    }\r\n\r\n    public function testIncompleteCompetitionWhereNotAllGamesPlayed(): void\r\n    {\r\n        $scores =\r\n            \"Allegoric Alaskans;Blithering Badgers;loss\\n\" .\r\n            \"Devastating Donkeys;Allegoric Alaskans;loss\\n\" .\r\n            \"Courageous Californians;Blithering Badgers;draw\\n\" .\r\n            \"Allegoric Alaskans;Courageous Californians;win\";\r\n        $expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" .\r\n            \"Allegoric Alaskans             |  3 |  2 |  0 |  1 |  6\\n\" .\r\n            \"Blithering Badgers             |  2 |  1 |  1 |  0 |  4\\n\" .\r\n            \"Courageous Californians        |  2 |  0 |  1 |  1 |  1\\n\" .\r\n            \"Devastating Donkeys            |  1 |  0 |  0 |  1 |  0\";\r\n        $this->assertEquals($expected, $this->tournament->tally($scores));\r\n    }\r\n\r\n    public function testTiesSortedAlphabetically(): void\r\n    {\r\n        $scores =\r\n            \"Courageous Californians;Devastating Donkeys;win\\n\" .\r\n            \"Allegoric Alaskans;Blithering Badgers;win\\n\" .\r\n            \"Devastating Donkeys;Allegoric Alaskans;loss\\n\" .\r\n            \"Courageous Californians;Blithering Badgers;win\\n\" .\r\n            \"Blithering Badgers;Devastating Donkeys;draw\\n\" .\r\n            \"Allegoric Alaskans;Courageous Californians;draw\";\r\n        $expected =\r\n            \"Team                           | MP |  W |  D |  L |  P\\n\" .\r\n            \"Allegoric Alaskans             |  3 |  2 |  1 |  0 |  7\\n\" .\r\n            \"Courageous Californians        |  3 |  2 |  1 |  0 |  7\\n\" .\r\n            \"Blithering Badgers             |  3 |  0 |  1 |  2 |  1\\n\" .\r\n            \"Devastating Donkeys            |  3 |  0 |  1 |  2 |  1\";\r\n        $this->assertEquals($expected, $this->tournament->tally($scores));\r\n    }\r\n}\r\n"
  }
}
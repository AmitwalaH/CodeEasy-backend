{
  "language": "php",
  "slug": "binary-search-tree",
  "docs": {
    "instructions": "# Instructions\r\n\r\nInsert and search for numbers in a binary tree.\r\n\r\nWhen we need to represent sorted data, an array does not make a good data structure.\r\n\r\nSay we have the array `[1, 3, 4, 5]`, and we add 2 to it so it becomes `[1, 3, 4, 5, 2]`.\r\nNow we must sort the entire array again!\r\nWe can improve on this by realizing that we only need to make space for the new item `[1, nil, 3, 4, 5]`, and then adding the item in the space we added.\r\nBut this still requires us to shift many elements down by one.\r\n\r\nBinary Search Trees, however, can operate on sorted data much more efficiently.\r\n\r\nA binary search tree consists of a series of connected nodes.\r\nEach node contains a piece of data (e.g. the number 3), a variable named `left`, and a variable named `right`.\r\nThe `left` and `right` variables point at `nil`, or other nodes.\r\nSince these other nodes in turn have other nodes beneath them, we say that the left and right variables are pointing at subtrees.\r\nAll data in the left subtree is less than or equal to the current node's data, and all data in the right subtree is greater than the current node's data.\r\n\r\nFor example, if we had a node containing the data 4, and we added the data 2, our tree would look like this:\r\n\r\n![A graph with root node 4 and a single child node 2.](https://assets.exercism.org/images/exercises/binary-search-tree/tree-4-2.svg)\r\n\r\n```text\r\n      4\r\n     /\r\n    2\r\n```\r\n\r\nIf we then added 6, it would look like this:\r\n\r\n![A graph with root node 4 and two child nodes 2 and 6.](https://assets.exercism.org/images/exercises/binary-search-tree/tree-4-2-6.svg)\r\n\r\n```text\r\n      4\r\n     / \\\r\n    2   6\r\n```\r\n\r\nIf we then added 3, it would look like this\r\n\r\n![A graph with root node 4, two child nodes 2 and 6, and a grandchild node 3.](https://assets.exercism.org/images/exercises/binary-search-tree/tree-4-2-6-3.svg)\r\n\r\n```text\r\n       4\r\n     /   \\\r\n    2     6\r\n     \\\r\n      3\r\n```\r\n\r\nAnd if we then added 1, 5, and 7, it would look like this\r\n\r\n![A graph with root node 4, two child nodes 2 and 6, and four grandchild nodes 1, 3, 5 and 7.](https://assets.exercism.org/images/exercises/binary-search-tree/tree-4-2-6-1-3-5-7.svg)\r\n\r\n```text\r\n          4\r\n        /   \\\r\n       /     \\\r\n      2       6\r\n     / \\     / \\\r\n    1   3   5   7\r\n```\r\n\r\n## Credit\r\n\r\nThe images were created by [habere-et-dispertire][habere-et-dispertire] using [PGF/TikZ][pgf-tikz] by Till Tantau.\r\n\r\n[habere-et-dispertire]: https://exercism.org/profiles/habere-et-dispertire\r\n[pgf-tikz]: https://en.wikipedia.org/wiki/PGF/TikZ\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "BinarySearchTree.php": "<?php\r\n\r\n/*\r\n * By adding type hints and enabling strict type checking, code can become\r\n * easier to read, self-documenting and reduce the number of potential bugs.\r\n * By default, type declarations are non-strict, which means they will attempt\r\n * to change the original type to match the type specified by the\r\n * type-declaration.\r\n *\r\n * In other words, if you pass a string to a function requiring a float,\r\n * it will attempt to convert the string value to a float.\r\n *\r\n * To enable strict mode, a single declare directive must be placed at the top\r\n * of the file.\r\n * This means that the strictness of typing is configured on a per-file basis.\r\n * This directive not only affects the type declarations of parameters, but also\r\n * a function's return type.\r\n *\r\n * For more info review the Concept on strict type checking in the PHP track\r\n * <link>.\r\n *\r\n * To disable strict typing, comment out the directive below.\r\n */\r\n\r\ndeclare(strict_types=1);\r\n\r\nclass BinarySearchTree\r\n{\r\n    public ?BinarySearchTree $left;\r\n    public ?BinarySearchTree $right;\r\n    public int $data;\r\n\r\n    public function insert(int $data)\r\n    {\r\n        throw new \\BadMethodCallException(sprintf('Implement the %s method', __FUNCTION__));\r\n    }\r\n\r\n    public function getSortedData(): array\r\n    {\r\n        throw new \\BadMethodCallException(sprintf('Implement the %s method', __FUNCTION__));\r\n    }\r\n}\r\n"
  },
  "tests": {
    "BinarySearchTreeTest.php": "<?php\r\n\r\ndeclare(strict_types=1);\r\n\r\nuse PHPUnit\\Framework\\TestCase;\r\nuse PHPUnit\\Framework\\Attributes\\TestDox;\r\n\r\nclass BinarySearchTreeTest extends TestCase\r\n{\r\n    public static function setUpBeforeClass(): void\r\n    {\r\n        require_once 'BinarySearchTree.php';\r\n    }\r\n\r\n    /**\r\n     * uuid e9c93a78-c536-4750-a336-94583d23fafa\r\n     */\r\n    #[TestDox('data is retained')]\r\n    public function testDataIsRetained(): void\r\n    {\r\n        $tree = new BinarySearchTree(4);\r\n        $this->assertEquals(4, $tree->data);\r\n    }\r\n\r\n    /**\r\n     * uuid 7a95c9e8-69f6-476a-b0c4-4170cb3f7c91\r\n     */\r\n    #[TestDox('smaller number at left node')]\r\n    public function testSmallNumberAtLeftNode(): void\r\n    {\r\n        $tree = new BinarySearchTree(4);\r\n        $tree->insert(2);\r\n\r\n        $this->assertEquals(4, $tree->data);\r\n        $this->assertEquals(2, $tree->left->data);\r\n    }\r\n\r\n    /**\r\n     * uuid 22b89499-9805-4703-a159-1a6e434c1585\r\n     */\r\n    #[TestDox('same number at left node')]\r\n    public function testSameNumberLeftNodes(): void\r\n    {\r\n        $tree = new BinarySearchTree(4);\r\n        $tree->insert(4);\r\n\r\n        $this->assertEquals(4, $tree->data);\r\n        $this->assertEquals(4, $tree->left->data);\r\n    }\r\n\r\n    /**\r\n     * uuid 2e85fdde-77b1-41ed-b6ac-26ce6b663e34\r\n     */\r\n    #[TestDox('greater number at right node')]\r\n    public function testGreaterNumberRightNode(): void\r\n    {\r\n        $tree = new BinarySearchTree(4);\r\n        $tree->insert(5);\r\n\r\n        $this->assertEquals(4, $tree->data);\r\n        $this->assertEquals(5, $tree->right->data);\r\n    }\r\n\r\n    /**\r\n     * uuid dd898658-40ab-41d0-965e-7f145bf66e0b\r\n     */\r\n    #[TestDox('can create complex tree')]\r\n    public function testCreateComplexTree(): void\r\n    {\r\n        $tree = new BinarySearchTree(4);\r\n        $tree->insert(2);\r\n        $tree->insert(6);\r\n        $tree->insert(1);\r\n        $tree->insert(3);\r\n        $tree->insert(5);\r\n        $tree->insert(7);\r\n\r\n        $this->assertEquals(4, $tree->data);\r\n        $this->assertEquals(2, $tree->left->data);\r\n        $this->assertEquals(1, $tree->left->left->data);\r\n        $this->assertEquals(3, $tree->left->right->data);\r\n        $this->assertEquals(6, $tree->right->data);\r\n        $this->assertEquals(5, $tree->right->left->data);\r\n        $this->assertEquals(7, $tree->right->right->data);\r\n    }\r\n\r\n    /**\r\n     * uuid 9e0c06ef-aeca-4202-b8e4-97f1ed057d56\r\n     */\r\n    #[TestDox('can sort single number')]\r\n    public function testCanSortSingleNode(): void\r\n    {\r\n        $tree = new BinarySearchTree(2);\r\n\r\n        $this->assertEquals([2], $tree->getSortedData());\r\n    }\r\n\r\n    /**\r\n     * uuid 425e6d07-fceb-4681-a4f4-e46920e380bb\r\n     */\r\n    #[TestDox('can sort if second number is smaller than first')]\r\n    public function testCanSortSmallerSecondNumber(): void\r\n    {\r\n        $tree = new BinarySearchTree(2);\r\n        $tree->insert(1);\r\n\r\n        $this->assertEquals([1, 2], $tree->getSortedData());\r\n    }\r\n\r\n    /**\r\n     * uuid bd7532cc-6988-4259-bac8-1d50140079ab\r\n     */\r\n    #[TestDox('can sort if second number is same as first')]\r\n    public function testCanSortSameNumbers(): void\r\n    {\r\n        $tree = new BinarySearchTree(2);\r\n        $tree->insert(2);\r\n\r\n        $this->assertEquals([2, 2], $tree->getSortedData());\r\n    }\r\n\r\n    /**\r\n     * uuid b6d1b3a5-9d79-44fd-9013-c83ca92ddd36\r\n     */\r\n    #[TestDox('can sort if second number is greater than first')]\r\n    public function testCanSortGreaterSecondNumber(): void\r\n    {\r\n        $tree = new BinarySearchTree(2);\r\n        $tree->insert(3);\r\n\r\n        $this->assertEquals([2, 3], $tree->getSortedData());\r\n    }\r\n\r\n    /**\r\n     * uuid d00ec9bd-1288-4171-b968-d44d0808c1c8\r\n     */\r\n    #[TestDox('can sort complex tree')]\r\n    public function testCanSortComplexTree(): void\r\n    {\r\n        $tree = new BinarySearchTree(2);\r\n        $tree->insert(1);\r\n        $tree->insert(3);\r\n        $tree->insert(6);\r\n        $tree->insert(7);\r\n        $tree->insert(5);\r\n\r\n        $this->assertEquals([1, 2, 3, 5, 6, 7], $tree->getSortedData());\r\n    }\r\n}\r\n"
  }
}
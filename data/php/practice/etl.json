{
  "language": "php",
  "slug": "etl",
  "docs": {
    "instructions": "# Instructions\r\n\r\nYour task is to change the data format of letters and their point values in the game.\r\n\r\nCurrently, letters are stored in groups based on their score, in a one-to-many mapping.\r\n\r\n- 1 point: \"A\", \"E\", \"I\", \"O\", \"U\", \"L\", \"N\", \"R\", \"S\", \"T\",\r\n- 2 points: \"D\", \"G\",\r\n- 3 points: \"B\", \"C\", \"M\", \"P\",\r\n- 4 points: \"F\", \"H\", \"V\", \"W\", \"Y\",\r\n- 5 points: \"K\",\r\n- 8 points: \"J\", \"X\",\r\n- 10 points: \"Q\", \"Z\",\r\n\r\nThis needs to be changed to store each individual letter with its score in a one-to-one mapping.\r\n\r\n- \"a\" is worth 1 point.\r\n- \"b\" is worth 3 points.\r\n- \"c\" is worth 3 points.\r\n- \"d\" is worth 2 points.\r\n- etc.\r\n\r\nAs part of this change, the team has also decided to change the letters to be lower-case rather than upper-case.\r\n\r\n~~~~exercism/note\r\nIf you want to look at how the data was previously structured and how it needs to change, take a look at the examples in the test suite.\r\n~~~~\r\n",
    "instructions_append": "",
    "hints": ""
  },
  "starter_code": {
    "Etl.php": "<?php\r\n\r\n/*\r\n * By adding type hints and enabling strict type checking, code can become\r\n * easier to read, self-documenting and reduce the number of potential bugs.\r\n * By default, type declarations are non-strict, which means they will attempt\r\n * to change the original type to match the type specified by the\r\n * type-declaration.\r\n *\r\n * In other words, if you pass a string to a function requiring a float,\r\n * it will attempt to convert the string value to a float.\r\n *\r\n * To enable strict mode, a single declare directive must be placed at the top\r\n * of the file.\r\n * This means that the strictness of typing is configured on a per-file basis.\r\n * This directive not only affects the type declarations of parameters, but also\r\n * a function's return type.\r\n *\r\n * For more info review the Concept on strict type checking in the PHP track\r\n * <link>.\r\n *\r\n * To disable strict typing, comment out the directive below.\r\n */\r\n\r\ndeclare(strict_types=1);\r\n\r\nfunction transform(array $input): array\r\n{\r\n    throw new \\BadFunctionCallException(\"Implement the transform function\");\r\n}\r\n"
  },
  "tests": {
    "EtlTest.php": "<?php\r\n\r\ndeclare(strict_types=1);\r\n\r\nuse PHPUnit\\Framework\\TestCase;\r\nuse PHPUnit\\Framework\\Attributes\\TestDox;\r\n\r\nclass EtlTest extends TestCase\r\n{\r\n    public static function setUpBeforeClass(): void\r\n    {\r\n        require_once 'Etl.php';\r\n    }\r\n\r\n    /**\r\n     * uuid 78a7a9f9-4490-4a47-8ee9-5a38bb47d28f\r\n     */\r\n    #[TestDox('single letter')]\r\n    public function testTransformOneValue(): void\r\n    {\r\n        $old = ['1' => ['A']];\r\n        $expected = ['a' => 1];\r\n        $this->assertEquals($expected, transform($old));\r\n    }\r\n\r\n    /**\r\n     * uuid 60dbd000-451d-44c7-bdbb-97c73ac1f497\r\n     */\r\n    #[TestDox('single score with multiple letters')]\r\n    public function testTransformMoreValues(): void\r\n    {\r\n        $old = [1 => ['A', 'E', 'I', 'O', 'U']];\r\n        $expected = ['a' => 1, 'e' => 1, 'i' => 1, 'o' => 1, 'u' => 1];\r\n        $this->assertEquals($expected, transform($old));\r\n    }\r\n\r\n    /**\r\n     * uuid f5c5de0c-301f-4fdd-a0e5-df97d4214f54\r\n     */\r\n    #[TestDox('multiple scores with multiple letters')]\r\n    public function testTransformMoreKeys(): void\r\n    {\r\n        $old = [1 => ['A', 'E'], 2 => ['D', 'G']];\r\n        $expected = ['a' => 1, 'e' => 1, 'd' => 2, 'g' => 2];\r\n        $this->assertEquals($expected, transform($old));\r\n    }\r\n\r\n    /**\r\n     * uuid 5db8ea89-ecb4-4dcd-902f-2b418cc87b9d\r\n     */\r\n    #[TestDox('multiple scores with differing numbers of letters')]\r\n    public function testTransformFullDataset(): void\r\n    {\r\n        $old = [\r\n            1 => ['A', 'E', 'I', 'O', 'U', 'L', 'N', 'R', 'S', 'T'],\r\n            2 => ['D', 'G'],\r\n            3 => ['B', 'C', 'M', 'P'],\r\n            4 => ['F', 'H', 'V', 'W', 'Y'],\r\n            5 => ['K'],\r\n            8 => ['J', 'X'],\r\n            10 => ['Q', 'Z'],\r\n        ];\r\n        $expected = [\r\n            'a' => 1, 'b' => 3, 'c' => 3, 'd' => 2, 'e' => 1,\r\n            'f' => 4, 'g' => 2, 'h' => 4, 'i' => 1, 'j' => 8,\r\n            'k' => 5, 'l' => 1, 'm' => 3, 'n' => 1, 'o' => 1,\r\n            'p' => 3, 'q' => 10, 'r' => 1, 's' => 1, 't' => 1,\r\n            'u' => 1, 'v' => 4, 'w' => 4, 'x' => 8, 'y' => 4,\r\n            'z' => 10,\r\n        ];\r\n        $this->assertEquals($expected, transform($old));\r\n    }\r\n}\r\n"
  }
}
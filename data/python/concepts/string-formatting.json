{
  "concept": "string-formatting",
  "about": "# About\r\n\r\n## String Formatting in Python\r\n\r\nString formatting is the process of converting values to strings and inserting them into a string template.\r\nThe [Zen of Python][zen-of-python] asserts there should be \"one _obvious_ way to do something in Python\".\r\nBut when it comes to string formatting, things are a little ... _less zen_.\r\nIt can be surprising to find out that there are **four** main ways to perform string formatting in Python - each for a different scenario.\r\nSome of this is due to Python's long history and some of it is due to considerations like internationalization or input sanitation.\r\nWe will start with the most recent additions to the string formatting toolbox and work our way backward to \"old style\" or \"printf() style\" string formatting.\r\n\r\n## literal string interpolation: The `f-string`\r\n\r\nIntroduced in [Python 3.6][pep-0498], [`f-strings`][f-string] (_short for \"formatted-strings\"_) or [literal string interpolation][string interpolation] are a way of quickly and efficiently evaluating and formatting expressions and strings to a `str` type using the `f` (or `F`) prefix before the brackets (_like so `f'{object}'`_).\r\nThey can be used with all enclosing string types as: single-line `'` or `\"` and with multi-lines `'''` or `\"\"\"`.\r\nAny variables, expressions, or other types placed inside the `{}` are first evaluated, then converted to a `str`, then concatenated with any `str` outside the curly braces.\r\n\r\nIn this example, we insert two variable values in the sentence: one `str` and one `float`:\r\n\r\n```python\r\n>>> name = 'eighth'\r\n>>> value = 1/8\r\n...\r\n# The f-string, using the two values.\r\n# The .2f format code truncates so the value displays as 0.12.\r\n>>> f'An {name} is approximately {value:.2f}.'\r\n'An eighth is approximately 0.12.'\r\n```\r\n\r\nThe expressions evaluated can be almost anything.\r\nSome of the (wide range) of possibilities that can be evaluated: `str`, `numbers`, variables, arithmetic expressions, conditional expressions, built-in types, slices, functions, lambdas, comprehensions or **any** objects with either `__str__` or `__repr__` methods defined.\r\n\r\nSome examples:\r\n\r\n```python\r\n# A dictionary of key:value pairs.\r\n>>> waves = {'water': 1, 'light': 3, 'sound': 5}\r\n\r\n# Using the name waves in an f-string.\r\n>>> f'\"A dict can be represented with f-string: {waves}.\"'\r\n'\"A dict can be represented with f-string: {\\'water\\': 1, \\'light\\': 3, \\'sound\\': 5}.\"'\r\n\r\n# Here, we pull a value from the dictionary by using the key\r\n>>> f'Tenfold the value of \"light\" is {waves[\"light\"] * 10}.'\r\n'Tenfold the value of \"light\" is 30.'\r\n```\r\n\r\nReplacement fields (_the `{}` in the f-string_) support output control mechanisms such as width, alignment, precision.\r\nThis specification is started in the [format specification mini-language][format-mini-language].\r\n\r\nA more complex example of an `f-string` that includes output control:\r\n\r\n```python\r\n# Assigning variables\r\n>>> precision = 3\r\n>>> verb = \"see\"\r\n>>> the_end = ['end', 'of', 'transmission']\r\n\r\n# Reassigning verb to 'meet'.\r\n>>> verb = 'meet'\r\n\r\n# This example includes a function, str, a nested f-string, an arithmetic expression, \r\n# precision formatting, bracket escaping and object formatting.\r\n>>> f'\"Have a {\"NICE\".lower()} day, I will {verb} you after {f\"{30e8 * 111_000:6.{precision}e}\"} light-years.\"{{{the_end}}}'\r\n'\"Have a nice day, I will meet you after 3.330e+14 light-years.\"{[\\'end\\', \\'of\\', \\'transmission\\']}'\r\n```\r\n\r\nThere are a few limitations to be aware of.\r\n`f-string` expressions cannot be empty, they cannot contain comments.\r\n\r\n```python\r\n>>> f\"An empty expression will error: {}\"\r\nSyntaxError: f-string: empty expression not allowed\r\n\r\n>>> word = 'word'\r\n>>> f\"\"\"A comment in a triple quoted f-string will error: {\r\n    word # I chose a nice variable\r\n}\"\"\"\r\nSyntaxError: f-string expression part cannot include '#'\r\n```\r\n\r\n~~~~exercism/caution\r\nString interpolation cannot be used together with the [GNU gettext API][gnu-gettext-api] for internationalization (I18N) and localization (L10N), so it is recommended that the `string.Template(template)` class or the `str.format()` method outlined below be used instead of an `f-string` in any \"string wrapping\" translation scenarios.\r\n\r\nAlso keep in mind that using expressions inside the `f-string` brackets `{}` is similar to using `eval()` or `exec()`, so it isn't very safe and should be used sparingly.\r\n~~~~\r\n\r\n\r\n## The `str.format()` Method\r\n\r\nThe [`str.format()`][str-format] method replaces placeholders within the string with values fed as arguments to the function.\r\nThe placeholders are identified with named (`{price}`), numbered (`{0}` or indexed) or even empty (_positional_) placeholders `{}`.\r\nFor example:\r\n\r\n```python\r\n# A named placeholder and a positional placeholder.\r\n>>> 'My text: {placeholder_1} and {}.'.format(12, placeholder_1='named placeholder')\r\n'My text: named placeholder and 12.'\r\n```\r\n\r\nAs with `f-strings`, Pythons `str.format()` supports a whole range of [mini language format specifier][format-mini-language] that can be used to align text, convert, etc.\r\n\r\nThe complete formatting specifier pattern is `{[<name>][!<conversion>][:<format_specifier>]}`:\r\n\r\n- `<name>` can be a named placeholder or a number or empty.\r\n- `!<conversion>` is optional and should be one of this three conversions: `!s` for [`str()`][str-conversion], `!r` for [`repr()`][repr-conversion] or `!a` for [`ascii()`][ascii-conversion].\r\nBy default, `str()` is used.\r\n- `:<format_specifier>` is optional and has a lot of options, which we are [listed here][format-specifiers].\r\n\r\nExample of conversions for a diacritical letter:\r\n\r\n```python\r\n# Fills in the object at index zero, converted to a string.\r\n>>> 'An e with an umlaut: {0!s}'.format('ë')\r\n'An e with an umlaut: ë'\r\n\r\n\r\n# Fills in the object at index zero, converted to a repr.\r\n>>> 'An e with an umlaut object representation: {0!r}'.format('ë')\r\n\"An e with an umlaut object representation: 'ë'\"\r\n\r\n...\r\n\r\n# Fills in the object at index zero, converted to ascii\r\n>>> 'An e with an umlaut converted into ascii: {0!a}'.format('ë')\r\n\"An e with an umlaut converted into ascii: '\\xeb'\"\r\n\r\n\r\n# Fills in the object in the first position.\r\n# Then fills in the object in the second position formatted as a repr\r\n>>> 'She said her name is not {} but {!r}.'.format('Chloe', 'Zoë')\r\n\"She said her name is not Chloe but 'Zoë'.\"\r\n```\r\n\r\nExample of using format specifiers:\r\n\r\n```python\r\n# Formats the object at index 0 as a decimal with zero places, \r\n# then as a right-aligned binary number in an 8 character wide field.\r\n>>> \"The number {0:d} has a representation in binary: '{0: >8b}'.\".format(42)\r\n\"The number 42 has a representation in binary: '  101010'.\"\r\n```\r\n\r\nMore examples are shown at the end of [this documentation][summary-string-format].\r\n\r\n## `%` Formatting, or `printf()` Style Formatting\r\n\r\nUse of the `%` operator for formatting is the oldest method of string formatting in Python.\r\nIt comes from the C language and allows the use of positional arguments to build a `str`.\r\n\r\nThis method has been superseded by both `f-strings` and `str.format()`, which is why the nickname for `%` formatting is _'Old Style'_.\r\nIt can be still found in Python 2 and/or legacy code.\r\nWhile using this method will work in Python 3.x, `%` formatting is usually avoided because it can be error-prone, is less efficient, has fewer options available, and any placeholder-argument mismatch can raise an exception.\r\nUsing the `%` operator is similar to [`printf()`][printf-style-docs], so it is also sometimes called _printf formatting_.\r\n\r\n```python\r\n# Assigning a variable.\r\n>>> name = \"Anna-conda\"\r\n\r\n# Building a string using %\r\n>>> \"The snake's name is %s.\" % name\r\n\"The snake's name is Anna-conda.\"\r\n```\r\n\r\nIn the example above, the `%` operator substitutes the placeholder `%s` with the variable `name` at runtime.\r\nIf you want to add multiple variables to a string, you need to supply a [tuple][tuples] containing one object per placeholder after the `%`:\r\n\r\n```python\r\n# Assigning variables\r\n>>> name = \"Billy the Kid\"\r\n>>> fruit = \"grapes\"\r\n\r\n# Building a string using %\r\n>>> \"Surprisingly, %ss favorite snack was %s.\" %(name, fruit)\r\n\"Surprisingly, Billy the Kids favorite snack was grapes.\"\r\n```\r\n\r\n## Template Strings\r\n\r\n[`string.Template()`][string.Template()] is a class from the `string` module (_as opposed to the built-in `str` type_), which is part of the Python standard library, but has to be imported for use.\r\nTemplate strings support `$`-based substitution and are much simpler and less capable than the other options mentioned here, but can be very useful for when complicated internationalization is needed, or outside inputs need to be sanitized.\r\n\r\n```python\r\n>>> from string import Template\r\n\r\n>>> name = \"Anna-Conda\"\r\n\r\n# Creating a Template() with placeholder text\r\n>>> template_string = Template(\"The snake called `$snake_name` has escaped!\")\r\n\r\n# Calling .substitute() to replace the placeholder with a value.\r\n>>> template_string.substitute(snake_name=name)\r\n'The snake called `Anna-Conda` has escaped!'\r\n```\r\n\r\nMore information about `Template` string can be found in the Python [documentation][template-string].\r\n\r\n## How Do You Choose which Formatting Method to Use?\r\n\r\nWith all these options and mini-languages, how do you decide what to reach for when formatting Python strings?\r\nA few quick guidelines:\r\n\r\n1. `f-strings` are the newest and easiest to read.\r\nIf you don't need to internationalize, they should be the Python 3.6+ preferred method.\r\n2. `str.format()` is versatile, very powerful and compatible with both `gnu gettext` and most versions of Python.\r\n3. If simplicity, safety, and/or heavy internationalization is what you need, `string.Template()` can be used to mitigate risks when inputs from users need to be handled, and for wrapping translation strings.\r\n4. The `%` operator is not supported in some newer distributions of Python and should mostly be used for compatibility with old code.\r\n`%` formatting` can lead to issues displaying non-ascii and unicode characters and has more errors and less functionality than other methods.\r\n\r\nIf you want to go further: [all about formatting][all-about-formatting] and [Python String Formatting Best Practices][formatting best practices] are good places to start.\r\n\r\n[all-about-formatting]: https://realpython.com/python-formatted-output\r\n[ascii-conversion]: https://www.w3resource.com/python/built-in-function/ascii.php\r\n[f-string]: https://docs.python.org/3/reference/lexical_analysis.html#f-strings\r\n[format-mini-language]: https://docs.python.org/3/library/string.html#format-specification-mini-language\r\n[format-specifiers]: https://www.python.org/dev/peps/pep-3101/#standard-format-specifiers\r\n[formatting best practices]: https://realpython.com/python-string-formatting/\r\n[pep-0498]: https://peps.python.org/pep-0498\r\n[printf-style-docs]: https://docs.python.org/3/library/stdtypes.html#printf-style-string-formatting\r\n[repr-conversion]: https://www.w3resource.com/python/built-in-function/repr.php\r\n[str-conversion]: https://www.w3resource.com/python/built-in-function/str.php\r\n[str-format]: https://realpython.com/python-string-formatting/#2-new-style-string-formatting-strformat\r\n[string interpolation]: https://en.wikipedia.org/wiki/String_interpolation\r\n[string.Template()]: https://docs.python.org/3/library/string.html#template-strings\r\n[summary-string-format]: https://www.w3schools.com/python/ref_string_format.asp\r\n[template-string]: https://docs.python.org/3/library/string.html#template-strings\r\n[tuples]: https://www.w3schools.com/python/python_tuples.asp\r\n[zen-of-python]: https://www.python.org/dev/peps/pep-0020/\r\n",
  "introduction": "# Introduction\r\n\r\n## String Formatting in Python\r\n\r\nThe [Zen of Python][zen-of-python] asserts there should be \"one _obvious_ way to do something in Python\".\r\nBut when it comes to string formatting, things are a little .... _less zen_.\r\nIt can be surprising to find out that there are **four** main ways to perform string formatting in Python - each for a different scenario.\r\nSome of this is due to Python's long history and some of it is due to considerations like internationalization or input sanitation.\r\n\r\nWith 4 different paths to take, how do you decide what to use?\r\n\r\n1. `f-strings` are the newest and easiest to read.\r\nIf you don't need to internationalize, they should be the Python 3.6+ preferred method.\r\n2. `str.format()` is versatile, very powerful and compatible with both `gnu gettext` and most versions of Python.\r\n3. If simplicity, safety, and/or heavy internationalization is what you need, `string.Template()` can be used to mitigate risks when inputs need to be handled and for wrapping translation strings.\r\n4. The `%` operator should mostly be used for compatibility with old code.\r\n`%` formatting` can lead to issues displaying non-ascii and unicode characters and has more errors and less functionality than other methods.\r\n\r\nIf you want to go further: [all about formatting][all-about-formatting] and [Python String Formatting Best Practices][formatting best practices] are good places to start.\r\n\r\n[zen-of-python]: https://www.python.org/dev/peps/pep-0020/\r\n[all-about-formatting]: https://realpython.com/python-formatted-output\r\n[formatting best practices]: https://realpython.com/python-string-formatting/\r\n",
  "links": [
    {
      "url": "https://docs.python.org/3/reference/lexical_analysis.html#f-strings",
      "description": "Docs: f-strings"
    },
    {
      "url": "https://docs.python.org/3/library/stdtypes.html#str.format",
      "description": "Docs: str.format()"
    },
    {
      "url": "https://realpython.com/python-formatted-output/",
      "description": "Complete formatting guide"
    },
    {
      "url": "https://www.python.org/dev/peps/pep-3101/#standard-format-specifiers",
      "description": "PEP: format specifier"
    }
  ],
  "config": {}
}
{
  "concept": "pretty-leaflet",
  "docs": {
    "introduction": "# string-formatting\r\n\r\nThe Python `str` built-in can be initialized using two robust string formatting methods : `f-strings` and `str.format()`. String interpolation with `f'{variable}'` is preferred because it is an easily read, complete, and very fast module. When an internationalization-friendly or more flexible approach is needed, `str.format()` allows creating almost all the other `str` variations you might need.\r\n\r\n# literal string interpolation. f-string\r\n\r\nLiteral string interpolation is a way of quickly and efficiently formatting and evaluating expressions to `str` using the `f` prefix and the curly brace `{object}`. It can be used with all enclosing string types as: single quote `'`, double quote `\"` and for multi-lines and escaping triple quotes `'''` or `\"\"\"`.\r\n\r\nIn this basic example of **f-string**, the variable `name` is rendered at the beginning of the string, and the variable `age` of type `int` is converted to `str` and rendered after `' is '`.\r\n\r\n```python\r\n>>> name, age = 'Artemis', 21\r\n>>> f'{name} is {age} years old.'\r\n'Artemis is 21 years old.'\r\n```\r\n\r\nThe expressions evaluated by an `f-string` can be almost anything -- so the usual cautions about sanitizing input apply. Some of the many values that can be evaluated: `str`, numbers, variables, arithmetic expressions, conditional expressions, built-in types, slices, functions or any objects with either `__str__` or `__repr__` methods defined. Some examples:\r\n\r\n```python\r\n>>> waves = {'water': 1, 'light': 3, 'sound': 5}\r\n\r\n>>> f'\"A dict can be represented with f-string: {waves}.\"'\r\n'\"A dict can be represented with f-string: {\\'water\\': 1, \\'light\\': 3, \\'sound\\': 5}.\"'\r\n\r\n>>> f'Tenfold the value of \"light\" is {waves[\"light\"]*10}.'\r\n'Tenfold the value of \"light\" is 30.'\r\n```\r\n\r\nf-string output supports the same control mechanisms such as _width_, _alignment_, and _precision_ that are described for `.format()`. String interpolation cannot be used together with the GNU gettext API for internationalization (I18N) and localization (L10N), `str.format()` needs to be used instead.\r\n\r\n# str.format() method\r\n\r\n`str.format()` allows for the replacement of in-text placeholders. Placeholders are identified with named indexes `{price}` or numbered indexes `{0}` or empty placeholders `{}`. Their values are specified as parameters in the `str.format()` method. Example:\r\n\r\n```python\r\n>>> 'My text: {placeholder1} and {}.'.format(12, placeholder1='value1')\r\n'My text: value1 and 12.'\r\n```\r\n\r\nPython `.format()` supports a whole range of [mini language specifier][format-mini-language] that can be used to align text, convert, etc.\r\n\r\nThe complex formatting specifier is `{[<name>][!<conversion>][:<format_specifier>]}`:\r\n\r\n- `<name>` can be a named placeholder or a number or empty.\r\n- `!<conversion>` is optional and should be one of the three: `!s` for [`str()`][str-conversion], `!r` for [`repr()`][repr-conversion] or `!a` for [`ascii()`][ascii-conversion]. By default, `str()` is used.\r\n- `:<format_specifier>` is optional and has a lot of options, which we are [listed here][format-specifiers].\r\n\r\nExample of conversions for a diacritical ascii letter:\r\n\r\n```python\r\n>>> '{0!s}'.format('Ã«')\r\n'Ã«'\r\n>>> '{0!r}'.format('Ã«')\r\n\"'Ã«'\"\r\n>>> '{0!a}'.format('Ã«')\r\n\"'\\\\xeb'\"\r\n\r\n>>> 'She said her name is not {} but {!r}.'.format('Anna', 'ZoÃ«')\r\n\"She said her name is not Anna but 'ZoÃ«'.\"\r\n```\r\n\r\nExample of format specifiers, [more examples at the end of this page][summary-string-format]:\r\n\r\n```python\r\n>>> \"The number {0:d} has a representation in binary: '{0: >8b}'.\".format(42)\r\n\"The number 42 has a representation in binary: '  101010'.\"\r\n```\r\n\r\n`str.format()` should be used together with the [GNU gettext API][gnu-gettext-api] for internationalization (I18N) and localization (L10N).\r\n\r\n[all-about-formatting]: https://realpython.com/python-formatted-output\r\n[difference-formatting]: https://realpython.com/python-string-formatting/#2-new-style-string-formatting-strformat\r\n[printf-style-docs]: https://docs.python.org/3/library/stdtypes.html#printf-style-string-formatting\r\n[tuples]: https://www.w3schools.com/python/python_tuples.asp\r\n[format-mini-language]: https://docs.python.org/3/library/string.html#format-specification-mini-language\r\n[str-conversion]: https://www.w3resource.com/python/built-in-function/str.php\r\n[repr-conversion]: https://www.w3resource.com/python/built-in-function/repr.php\r\n[ascii-conversion]: https://www.w3resource.com/python/built-in-function/ascii.php\r\n[format-specifiers]: https://www.python.org/dev/peps/pep-3101/#standard-format-specifiers\r\n[summary-string-format]: https://www.w3schools.com/python/ref_string_format.asp\r\n[template-string]: https://docs.python.org/3/library/string.html#template-strings\r\n[gnu-gettext-api]: https://docs.python.org/3/library/gettext.html\r\n",
    "hints": "# Hints\r\n\r\n## General\r\n\r\nUse only f-strings or the `format()` method to build a leaflet containing basic information about an event.\r\n\r\n- [Introduction to string formatting in Python][str-f-strings-docs]\r\n- [Article on realpython.com][realpython-article]\r\n\r\n## 1. Capitalize the header\r\n\r\n- Capitalize the title using the str method `capitalize`.\r\n\r\n## 2. Format the date\r\n\r\n- The `date` should be formatted manually using `f''` or `''.format()`.\r\n- The `date` should use this format: 'Month day, year'.\r\n\r\n## 3. Render the unicode characters as icons\r\n\r\n- One way of rendering with `format` would be to use the unicode prefix `u'{}'`.\r\n\r\n## 4. Display the finished leaflet\r\n\r\n- Find the right [format_spec field][formatspec-docs] to align the asterisks and characters.\r\n- Section 1 is the `header` as a capitalized string.\r\n- Section 2 is the `date`.\r\n- Section 3 is the list of artists, each artist is associated with the unicode character having the same index.\r\n- Each line should contain 20 characters.\r\n- Write concise code to add the necessary empty lines between each section.\r\n- If the date is not given, replace it with a blank line.\r\n\r\n```python\r\n******************** # 20 asterisks\r\n*                  *\r\n*     'Header'     * # capitalized header\r\n*                  *\r\n* Month day, year  * # Optional date\r\n*                  *\r\n* Artist1       â‘´ * # Artist list from 1 to 4\r\n* Artist2       â‘µ *\r\n* Artist3       â‘¶ *\r\n* Artist4       â‘· *\r\n*                  *\r\n********************\r\n```\r\n\r\n[str-f-strings-docs]: https://docs.python.org/3/reference/lexical_analysis.html#f-strings\r\n[realpython-article]: https://realpython.com/python-formatted-output/\r\n[formatspec-docs]: https://docs.python.org/3/library/string.html#formatspec\r\n",
    "instructions": "# Instructions\r\n\r\nYour acquaintance Erin needs to print thousands of handbills for multiple events and they need your help! They've asked you to create the layout for a leaflet containing a header, an optional date, and a list of artists -- each associated with a _unicode icon_. The goal is to `print` and distribute your cool new leaflet design - and you'll need all your Python string formatting skills to succeed.\r\n\r\n## 1. Create the class with a capitalized header\r\n\r\nThe `capitalize_header` function should take in an event name and return the capitalized version of the event name.\r\n\r\n```python\r\n>>> capitalize_header(\"fan meetup\")\r\n\"Fan meetup\"\r\n```\r\n\r\n## 2. Format the date\r\n\r\nCreate a new method `format_date` which takes in a list which contains a date, month, and a year. It displays the formatted date with the format `<month_name> <date>, <year>`\r\n\r\n```python\r\n>>> convert_date([9, 4, 2020])\r\n>>> leaflet.date\r\n\"April 9, 2020\"\r\n>>> leaflet.set_date([13, 5, 2030])\r\n>>> leaflet.date\r\n\"May 13, 2030\"\r\n```\r\n\r\n## 3. Render the unicode code points as icons\r\n\r\nWhen the method `display_icons` is called, the list of unicode code points passed should be rendered and returned as a `list` of _icons_.\r\n\r\n```python\r\n>>> leaflet.display_icons(['\\U00000040', '\\U0001D70B'])\r\n['@', 'ğœ‹']\r\n```\r\n\r\n## 4. Display the finished leaflet\r\n\r\nNow you will use all the functions above, and combine them in the `print_leaflet` function.\r\nIt should take an `event_name`, a list of `icons`, a list of `authors`, and an `event_date` list.\r\n\r\nThe poster should abide by the layout below.\r\n\r\nThe leaflet follows a specific layout in the shape of a rectangle:\r\n\r\n- The first and last rows contain 20 asterisks. `\"*\"`\r\n- Each section is separated by an empty row above and below it.\r\n- An empty row contains only one asterisk at the beginning and one at the end.\r\n- The first section is the header of the leaflet, this title is capitalized.\r\n- The second section is the option date, if the date is not passed, this section should be an empty row.\r\n- The third and last section is the list of the artists, each artist associated with the corresponding icon.\r\n\r\n```python\r\n********************\r\n*                  *\r\n*    'Concert'     *\r\n*                  *\r\n*  June 22, 2020   *\r\n*                  *\r\n* John         ğŸ¸  *\r\n* Benjamin     ğŸ¤  *\r\n* Max          ğŸ¹  *\r\n*                  *\r\n********************\r\n```\r\n",
    "design": "# Design\r\n\r\n## Goal\r\n\r\nThis concept exercise should convey a basic understanding of the various `string formatting` methods in python.\r\n\r\n## Learning objectives\r\n\r\n- Different types of string formatting, [when each type should be used][formatting-types] and [deferring i18n use cases for f-strings][pep501-i18n].\r\n- \"New Style\" formatting with [`str.format()`][str.format]\r\n- String interpolation, or [\"f-strings\"][f-strings]\r\n- Format specification [\"mini-language\"][mini-language] e.g. formatting an int variable as a hexadecimal string, truncating long strings, etc.\r\n\r\n## Out of scope\r\n\r\n- Translation -- internationalization and localization of strings and string formats\r\n- `str.maketrans` and [`str.translate`][str.translate]\r\n- `gettext`\r\n\r\n## Concepts\r\n\r\n- new style string formatting with `str.format()`\r\n- string interpolation via f-strings\r\n\r\n## Prerequisites\r\n\r\n- `basics`\r\n- `strings`\r\n- `loops`\r\n- `lists`\r\n\r\n## Representer\r\n\r\nNo changes are required.\r\n\r\n## Analyzer\r\n\r\nCheck if the student is only using `f-strings` or `.format()` because we do not want the student to use the `%` operand and the `Template` strings.\r\n\r\n[formatting-types]: https://realpython.com/python-string-formatting/#which-string-formatting-method-should-you-use\r\n[pep501-i18n]: https://www.python.org/dev/peps/pep-0501/#deferring-consideration-of-possible-use-in-i18n-use-cases\r\n[str.format]: https://docs.python.org/3/library/string.html#format-string-syntax\r\n[f-strings]: https://docs.python.org/3/reference/lexical_analysis.html#formatted-string-literals\r\n[mini-language]: https://docs.python.org/3/library/string.html#format-specification-mini-language\r\n[str.translate]: https://docs.python.org/3/library/stdtypes.html#str.translate\r\n"
  },
  "config": {
    "authors": [
      "valentin-p"
    ],
    "contributors": [
      "j08k",
      "BethanyG"
    ],
    "files": {
      "solution": [
        "string_formatting.py"
      ],
      "test": [
        "string_formatting_test.py"
      ],
      "exemplar": [
        ".meta/exemplar.py"
      ]
    },
    "icon": "scale-generator",
    "blurb": "Learn about string formatting by \"prettifying\" promotional leaflets."
  },
  "starter_code": "def capitalize_header(event_name):\r\n    pass\r\n\r\ndef format_date(event_date):\r\n    pass\r\n\r\ndef display_icons(icons):\r\n    pass\r\n\r\ndef print_leaflet(event_name, icons, authors, event_date=None):\r\n    pass\r\n",
  "exemplar_code": "import calendar\r\nfrom typing import List, Optional\r\n\r\n\r\ndef capitalize_header(event_name: str) -> str:\r\n    return event_name.capitalize()\r\n\r\ndef format_date(event_date: List[int]) -> str:\r\n    date, month, year = event_date\r\n    month_name = calendar.month_name[month]\r\n\r\n    # pylint: disable=consider-using-f-string\r\n    return '{} {}, {}'.format(month_name, date, year)\r\n\r\ndef display_icons(icons: List[str]) -> List[str]:\r\n    displayed = []\r\n    for icon in icons:\r\n        # pylint: disable=consider-using-f-string\r\n        displayed.append('{}'.format(icon))\r\n    return displayed\r\n\r\ndef print_leaflet(event_name: str, icons: List[str], authors: List[str], event_date: Optional[List[int]]=None):\r\n    row_full = ''.join(['*'] * 20)\r\n    empty_row = f'*{\"\":^18}*'\r\n    event_name = capitalize_header(event_name)\r\n    icons = display_icons(icons)\r\n    date_string = format_date(event_date) if event_date is not None else ''\r\n\r\n    poster = []\r\n    poster.append(row_full)\r\n    poster.append(empty_row)\r\n    poster.append(f'*{event_name!r:^18}*')\r\n    poster.append(empty_row)\r\n    poster.append(f'*{date_string!s:^18}*')\r\n    poster.append(empty_row)\r\n\r\n    for position, _ in enumerate(authors):\r\n        icon = icons[position] if position < len(icons) else '    '\r\n        poster.append(f'*{\"\":>1}{authors[position]:<11}{icon:>3}{\"\":>2}*')\r\n    poster.append(empty_row)\r\n    poster.append(row_full)\r\n\r\n    return '\\n'.join(poster)\r\n",
  "tests": "import unittest\r\nimport pytest\r\nfrom string_formatting import (capitalize_header,\r\n                               format_date,\r\n                               display_icons,\r\n                               print_leaflet)\r\n\r\n\r\nclass PrettyLeafletTest(unittest.TestCase):\r\n\r\n    @pytest.mark.task(taskno=1)\r\n    def test_header(self):\r\n        failure_msg = 'Expected an empty header, but the header was not empty.'\r\n        self.assertEqual(capitalize_header(''), '', msg=failure_msg)\r\n\r\n    @pytest.mark.task(taskno=1)\r\n    def test_header_event(self):\r\n        self.assertEqual(capitalize_header('Event'), 'Event', msg='Expected: \"Event\" for header.')\r\n\r\n    @pytest.mark.task(taskno=1)\r\n    def test_header_event_capitalized(self):\r\n        self.assertEqual(capitalize_header('evENt'), 'Event', msg='Expected: \"Event\" for a capitalized header.')\r\n\r\n    @pytest.mark.task(taskno=2)\r\n    def test_leaflet_date_day_month_year(self):\r\n        self.assertEqual(format_date([21, 2, 2021]), 'February 21, 2021', msg='Expected \"February 21, 2021\" for date.')\r\n\r\n    @pytest.mark.task(taskno=3)\r\n    def test_leaflet_method_get_icons_fox_clover_fish(self):\r\n        failure_msg = 'Expected an array of three unicode icons: [Fox, Clover, Fish] for the method display_icons().'\r\n        self.assertEqual(display_icons(['\\U0001F98A', '\\U0001F340', '\\U0001F420']), ['ğŸ¦Š', 'ğŸ€', 'ğŸ '], msg=failure_msg)\r\n\r\n\r\n    @pytest.mark.task(taskno=4)\r\n    def test_print_leaflet_concert(self):\r\n        handbill = ('''********************\r\n*                  *\r\n*    'Concert'     *\r\n*                  *\r\n*  April 30, 2021  *\r\n*                  *\r\n* John         ğŸ¸  *\r\n* Benjamin     ğŸ¤  *\r\n* Max          ğŸ¹  *\r\n*                  *\r\n********************''')\r\n\r\n        event_info =  ('Concert', ['\\U0001F3B8', '\\U0001F3A4', '\\U0001F3B9'], ['John', 'Benjamin', 'Max'],[30, 4, 2021])\r\n        failure_msg = 'Expected a leaflet for Concert with a partial date, three artists and three icons.'\r\n        self.assertEqual(print_leaflet(*event_info), handbill, msg=failure_msg)\r\n\r\n    @pytest.mark.task(taskno=4)\r\n    def test_print_leaflet_teather_empty_date_and_missing_icon(self):\r\n        handbill = ('''********************\r\n*                  *\r\n*    'Macbeth'     *\r\n*                  *\r\n*                  *\r\n*                  *\r\n* Fleance      ğŸŒ˜  *\r\n* Seyton           *\r\n*                  *\r\n********************''')\r\n\r\n        event_info = ('macbeth',['\\U0001F318'],['Fleance', 'Seyton'])\r\n        failure_msg = 'Expected a leaflet for Macbeth with two artists and one icon but without date.'\r\n        self.assertEqual(print_leaflet(*event_info), handbill,msg=failure_msg)\r\n\r\n    @pytest.mark.task(taskno=4)\r\n    def test_print_leaflet_webinar(self):\r\n        handbill = ('''********************\r\n*                  *\r\n*    'Webinar'     *\r\n*                  *\r\n* January 29, 2020 *\r\n*                  *\r\n* Vince        ğŸ“š  *\r\n* Chris        ğŸ’»  *\r\n* Leo          ğŸ¯  *\r\n*                  *\r\n********************''')\r\n\r\n        event_info = ('webinar',['\\U0001F4DA', '\\U0001F4BB', '\\U0001F3AF'],['Vince', 'Chris', 'Leo'],[29, 1, 2020])\r\n        failure_msg = 'Expected a leaflet for Webinar with a complete date, with three artists and icons.'\r\n        self.assertEqual(print_leaflet(*event_info), handbill, msg=failure_msg)\r\n"
}
{
  "language": "python",
  "type": "practice",
  "slug": "queen-attack",
  "title": "Queen Attack",
  "docs": {
    "instructions": "# Instructions\r\n\r\nGiven the position of two queens on a chess board, indicate whether or not they are positioned so that they can attack each other.\r\n\r\nIn the game of chess, a queen can attack pieces which are on the same row, column, or diagonal.\r\n\r\nA chessboard can be represented by an 8 by 8 array.\r\n\r\nSo if you are told the white queen is at `c5` (zero-indexed at column 2, row 3) and the black queen at `f2` (zero-indexed at column 5, row 6), then you know that the set-up is like so:\r\n\r\n![A chess board with two queens. Arrows emanating from the queen at c5 indicate possible directions of capture along file, rank and diagonal.](https://assets.exercism.org/images/exercises/queen-attack/queen-capture.svg)\r\n\r\nYou are also able to answer whether the queens can attack each other.\r\nIn this case, that answer would be yes, they can, because both pieces share a diagonal.\r\n\r\n## Credit\r\n\r\nThe chessboard image was made by [habere-et-dispertire][habere-et-dispertire] using LaTeX and the [chessboard package][chessboard-package] by Ulrike Fischer.\r\n\r\n[habere-et-dispertire]: https://exercism.org/profiles/habere-et-dispertire\r\n[chessboard-package]: https://github.com/u-fischer/chessboard\r\n",
    "hints": ""
  },
  "starter_code": "class Queen:\r\n    def __init__(self, row, column):\r\n        pass\r\n\r\n    def can_attack(self, another_queen):\r\n        pass\r\n",
  "tests": "# These tests are auto-generated with test data from:\r\n# https://github.com/exercism/problem-specifications/tree/main/exercises/queen-attack/canonical-data.json\r\n# File last updated on 2023-07-19\r\n\r\nimport unittest\r\n\r\nfrom queen_attack import (\r\n    Queen,\r\n)\r\n\r\n\r\nclass QueenAttackTest(unittest.TestCase):\r\n    # Test creation of Queens with valid and invalid positions\r\n    def test_queen_with_a_valid_position(self):\r\n        Queen(2, 2)\r\n\r\n    def test_queen_must_have_positive_row(self):\r\n        with self.assertRaises(ValueError) as err:\r\n            Queen(-2, 2)\r\n        self.assertEqual(type(err.exception), ValueError)\r\n        self.assertEqual(err.exception.args[0], \"row not positive\")\r\n\r\n    def test_queen_must_have_row_on_board(self):\r\n        with self.assertRaises(ValueError) as err:\r\n            Queen(8, 4)\r\n        self.assertEqual(type(err.exception), ValueError)\r\n        self.assertEqual(err.exception.args[0], \"row not on board\")\r\n\r\n    def test_queen_must_have_positive_column(self):\r\n        with self.assertRaises(ValueError) as err:\r\n            Queen(2, -2)\r\n        self.assertEqual(type(err.exception), ValueError)\r\n        self.assertEqual(err.exception.args[0], \"column not positive\")\r\n\r\n    def test_queen_must_have_column_on_board(self):\r\n        with self.assertRaises(ValueError) as err:\r\n            Queen(4, 8)\r\n        self.assertEqual(type(err.exception), ValueError)\r\n        self.assertEqual(err.exception.args[0], \"column not on board\")\r\n\r\n    # Test the ability of one queen to attack another\r\n    def test_cannot_attack(self):\r\n        self.assertIs(Queen(2, 4).can_attack(Queen(6, 6)), False)\r\n\r\n    def test_can_attack_on_same_row(self):\r\n        self.assertIs(Queen(2, 4).can_attack(Queen(2, 6)), True)\r\n\r\n    def test_can_attack_on_same_column(self):\r\n        self.assertIs(Queen(4, 5).can_attack(Queen(2, 5)), True)\r\n\r\n    def test_can_attack_on_first_diagonal(self):\r\n        self.assertIs(Queen(2, 2).can_attack(Queen(0, 4)), True)\r\n\r\n    def test_can_attack_on_second_diagonal(self):\r\n        self.assertIs(Queen(2, 2).can_attack(Queen(3, 1)), True)\r\n\r\n    def test_can_attack_on_third_diagonal(self):\r\n        self.assertIs(Queen(2, 2).can_attack(Queen(1, 1)), True)\r\n\r\n    def test_can_attack_on_fourth_diagonal(self):\r\n        self.assertIs(Queen(1, 7).can_attack(Queen(0, 6)), True)\r\n\r\n    def test_cannot_attack_if_falling_diagonals_are_only_the_same_when_reflected_across_the_longest_falling_diagonal(\r\n        self,\r\n    ):\r\n        self.assertIs(Queen(4, 1).can_attack(Queen(2, 5)), False)\r\n\r\n    # Track-specific tests\r\n    def test_queens_same_position_can_attack(self):\r\n        with self.assertRaises(ValueError) as err:\r\n            Queen(2, 2).can_attack(Queen(2, 2))\r\n        self.assertEqual(type(err.exception), ValueError)\r\n        self.assertEqual(\r\n            err.exception.args[0],\r\n            \"Invalid queen position: both queens in the same square\",\r\n        )\r\n"
}
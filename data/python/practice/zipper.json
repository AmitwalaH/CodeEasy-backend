{
  "language": "python",
  "type": "practice",
  "slug": "zipper",
  "title": "Zipper",
  "docs": {
    "instructions": "# Instructions\r\n\r\nCreating a zipper for a binary tree.\r\n\r\n[Zippers][zipper] are a purely functional way of navigating within a data structure and manipulating it.\r\nThey essentially contain a data structure and a pointer into that data structure (called the focus).\r\n\r\nFor example given a rose tree (where each node contains a value and a list of child nodes) a zipper might support these operations:\r\n\r\n- `from_tree` (get a zipper out of a rose tree, the focus is on the root node)\r\n- `to_tree` (get the rose tree out of the zipper)\r\n- `value` (get the value of the focus node)\r\n- `prev` (move the focus to the previous child of the same parent,\r\n  returns a new zipper)\r\n- `next` (move the focus to the next child of the same parent, returns a\r\n  new zipper)\r\n- `up` (move the focus to the parent, returns a new zipper)\r\n- `set_value` (set the value of the focus node, returns a new zipper)\r\n- `insert_before` (insert a new subtree before the focus node, it\r\n  becomes the `prev` of the focus node, returns a new zipper)\r\n- `insert_after` (insert a new subtree after the focus node, it becomes\r\n  the `next` of the focus node, returns a new zipper)\r\n- `delete` (removes the focus node and all subtrees, focus moves to the\r\n  `next` node if possible otherwise to the `prev` node if possible,\r\n  otherwise to the parent node, returns a new zipper)\r\n\r\n[zipper]: https://en.wikipedia.org/wiki/Zipper_%28data_structure%29\r\n",
    "hints": ""
  },
  "starter_code": "class Zipper:\r\n    @staticmethod\r\n    def from_tree(tree):\r\n        pass\r\n\r\n    def value(self):\r\n        pass\r\n\r\n    def set_value(self):\r\n        pass\r\n\r\n    def left(self):\r\n        pass\r\n\r\n    def set_left(self):\r\n        pass\r\n\r\n    def right(self):\r\n        pass\r\n\r\n    def set_right(self):\r\n        pass\r\n\r\n    def up(self):\r\n        pass\r\n\r\n    def to_tree(self):\r\n        pass\r\n",
  "tests": "# These tests are auto-generated with test data from:\r\n# https://github.com/exercism/problem-specifications/tree/main/exercises/zipper/canonical-data.json\r\n# File last updated on 2023-07-19\r\n\r\nimport unittest\r\n\r\nfrom zipper import (\r\n    Zipper,\r\n)\r\n\r\n\r\nclass ZipperTest(unittest.TestCase):\r\n    def test_data_is_retained(self):\r\n        initial = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        expected = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        zipper = Zipper.from_tree(initial)\r\n        result = zipper.to_tree()\r\n        self.assertEqual(result, expected)\r\n\r\n    def test_left_right_and_value(self):\r\n        initial = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        zipper = Zipper.from_tree(initial)\r\n        result = zipper.left().right().value()\r\n        self.assertEqual(result, 3)\r\n\r\n    def test_dead_end(self):\r\n        initial = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        zipper = Zipper.from_tree(initial)\r\n        result = zipper.left().left()\r\n        self.assertIsNone(result)\r\n\r\n    def test_tree_from_deep_focus(self):\r\n        initial = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        expected = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        zipper = Zipper.from_tree(initial)\r\n        result = zipper.left().right().to_tree()\r\n        self.assertEqual(result, expected)\r\n\r\n    def test_traversing_up_from_top(self):\r\n        initial = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        zipper = Zipper.from_tree(initial)\r\n        result = zipper.up()\r\n        self.assertIsNone(result)\r\n\r\n    def test_left_right_and_up(self):\r\n        initial = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        zipper = Zipper.from_tree(initial)\r\n        result = zipper.left().up().right().up().left().right().value()\r\n        self.assertEqual(result, 3)\r\n\r\n    def test_test_ability_to_descend_multiple_levels_and_return(self):\r\n        initial = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        zipper = Zipper.from_tree(initial)\r\n        result = zipper.left().right().up().up().value()\r\n        self.assertEqual(result, 1)\r\n\r\n    def test_set_value(self):\r\n        initial = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        expected = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 5,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        zipper = Zipper.from_tree(initial)\r\n        result = zipper.left().set_value(5).to_tree()\r\n        self.assertEqual(result, expected)\r\n\r\n    def test_set_value_after_traversing_up(self):\r\n        initial = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        expected = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 5,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        zipper = Zipper.from_tree(initial)\r\n        result = zipper.left().right().up().set_value(5).to_tree()\r\n        self.assertEqual(result, expected)\r\n\r\n    def test_set_left_with_leaf(self):\r\n        initial = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        expected = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": {\"value\": 5, \"left\": None, \"right\": None},\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        zipper = Zipper.from_tree(initial)\r\n        result = (\r\n            zipper.left().set_left({\"value\": 5, \"left\": None, \"right\": None}).to_tree()\r\n        )\r\n        self.assertEqual(result, expected)\r\n\r\n    def test_set_right_with_null(self):\r\n        initial = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        expected = {\r\n            \"value\": 1,\r\n            \"left\": {\"value\": 2, \"left\": None, \"right\": None},\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        zipper = Zipper.from_tree(initial)\r\n        result = zipper.left().set_right(None).to_tree()\r\n        self.assertEqual(result, expected)\r\n\r\n    def test_set_right_with_subtree(self):\r\n        initial = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        expected = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\r\n                \"value\": 6,\r\n                \"left\": {\"value\": 7, \"left\": None, \"right\": None},\r\n                \"right\": {\"value\": 8, \"left\": None, \"right\": None},\r\n            },\r\n        }\r\n\r\n        zipper = Zipper.from_tree(initial)\r\n        result = zipper.set_right(\r\n            {\r\n                \"value\": 6,\r\n                \"left\": {\"value\": 7, \"left\": None, \"right\": None},\r\n                \"right\": {\"value\": 8, \"left\": None, \"right\": None},\r\n            }\r\n        ).to_tree()\r\n        self.assertEqual(result, expected)\r\n\r\n    def test_set_value_on_deep_focus(self):\r\n        initial = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        expected = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 5, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n\r\n        zipper = Zipper.from_tree(initial)\r\n        result = zipper.left().right().set_value(5).to_tree()\r\n        self.assertEqual(result, expected)\r\n\r\n    def test_different_paths_to_same_zipper(self):\r\n        initial = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n        result = Zipper.from_tree(initial).left().up().right().to_tree()\r\n\r\n        final = {\r\n            \"value\": 1,\r\n            \"left\": {\r\n                \"value\": 2,\r\n                \"left\": None,\r\n                \"right\": {\"value\": 3, \"left\": None, \"right\": None},\r\n            },\r\n            \"right\": {\"value\": 4, \"left\": None, \"right\": None},\r\n        }\r\n        expected = Zipper.from_tree(final).right().to_tree()\r\n\r\n        self.assertEqual(result, expected)\r\n"
}
{
  "language": "python",
  "type": "practice",
  "slug": "minesweeper",
  "title": "Minesweeper",
  "docs": {
    "instructions": "# Instructions\r\n\r\nYour task is to add the mine counts to empty squares in a completed Minesweeper board.\r\nThe board itself is a rectangle composed of squares that are either empty (`' '`) or a mine (`'*'`).\r\n\r\nFor each empty square, count the number of mines adjacent to it (horizontally, vertically, diagonally).\r\nIf the empty square has no adjacent mines, leave it empty.\r\nOtherwise replace it with the adjacent mines count.\r\n\r\nFor example, you may receive a 5 x 4 board like this (empty spaces are represented here with the '·' character for display on screen):\r\n\r\n```text\r\n·*·*·\r\n··*··\r\n··*··\r\n·····\r\n```\r\n\r\nWhich your code should transform into this:\r\n\r\n```text\r\n1*3*1\r\n13*31\r\n·2*2·\r\n·111·\r\n```\r\n",
    "hints": ""
  },
  "starter_code": "def annotate(minefield):\r\n    # Function body starts here\r\n    pass\r\n",
  "tests": "# These tests are auto-generated with test data from:\r\n# https://github.com/exercism/problem-specifications/tree/main/exercises/minesweeper/canonical-data.json\r\n# File last updated on 2023-07-19\r\n\r\nimport unittest\r\n\r\nfrom minesweeper import (\r\n    annotate,\r\n)\r\n\r\n\r\nclass MinesweeperTest(unittest.TestCase):\r\n    def test_no_rows(self):\r\n        self.assertEqual(annotate([]), [])\r\n\r\n    def test_no_columns(self):\r\n        self.assertEqual(annotate([\"\"]), [\"\"])\r\n\r\n    def test_no_mines(self):\r\n        self.assertEqual(annotate([\"   \", \"   \", \"   \"]), [\"   \", \"   \", \"   \"])\r\n\r\n    def test_minefield_with_only_mines(self):\r\n        self.assertEqual(annotate([\"***\", \"***\", \"***\"]), [\"***\", \"***\", \"***\"])\r\n\r\n    def test_mine_surrounded_by_spaces(self):\r\n        self.assertEqual(annotate([\"   \", \" * \", \"   \"]), [\"111\", \"1*1\", \"111\"])\r\n\r\n    def test_space_surrounded_by_mines(self):\r\n        self.assertEqual(annotate([\"***\", \"* *\", \"***\"]), [\"***\", \"*8*\", \"***\"])\r\n\r\n    def test_horizontal_line(self):\r\n        self.assertEqual(annotate([\" * * \"]), [\"1*2*1\"])\r\n\r\n    def test_horizontal_line_mines_at_edges(self):\r\n        self.assertEqual(annotate([\"*   *\"]), [\"*1 1*\"])\r\n\r\n    def test_vertical_line(self):\r\n        self.assertEqual(annotate([\" \", \"*\", \" \", \"*\", \" \"]), [\"1\", \"*\", \"2\", \"*\", \"1\"])\r\n\r\n    def test_vertical_line_mines_at_edges(self):\r\n        self.assertEqual(annotate([\"*\", \" \", \" \", \" \", \"*\"]), [\"*\", \"1\", \" \", \"1\", \"*\"])\r\n\r\n    def test_cross(self):\r\n        self.assertEqual(\r\n            annotate([\"  *  \", \"  *  \", \"*****\", \"  *  \", \"  *  \"]),\r\n            [\" 2*2 \", \"25*52\", \"*****\", \"25*52\", \" 2*2 \"],\r\n        )\r\n\r\n    def test_large_minefield(self):\r\n        self.assertEqual(\r\n            annotate([\" *  * \", \"  *   \", \"    * \", \"   * *\", \" *  * \", \"      \"]),\r\n            [\"1*22*1\", \"12*322\", \" 123*2\", \"112*4*\", \"1*22*2\", \"111111\"],\r\n        )\r\n\r\n    # Additional tests for this track\r\n    def test_annotate_9(self):\r\n        self.assertEqual(\r\n            annotate([\"     \", \"   * \", \"     \", \"     \", \" *   \"]),\r\n            [\"  111\", \"  1*1\", \"  111\", \"111  \", \"1*1  \"],\r\n        )\r\n\r\n    def test_different_len(self):\r\n        with self.assertRaises(ValueError) as err:\r\n            annotate([\" \", \"*  \", \"  \"])\r\n        self.assertEqual(type(err.exception), ValueError)\r\n        self.assertEqual(\r\n            err.exception.args[0], \"The board is invalid with current input.\"\r\n        )\r\n\r\n    def test_invalid_char(self):\r\n        with self.assertRaises(ValueError) as err:\r\n            annotate([\"X  * \"])\r\n        self.assertEqual(type(err.exception), ValueError)\r\n        self.assertEqual(\r\n            err.exception.args[0], \"The board is invalid with current input.\"\r\n        )\r\n"
}
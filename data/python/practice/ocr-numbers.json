{
  "language": "python",
  "type": "practice",
  "slug": "ocr-numbers",
  "title": "Ocr Numbers",
  "docs": {
    "instructions": "# Instructions\r\n\r\nGiven a 3 x 4 grid of pipes, underscores, and spaces, determine which number is represented, or whether it is garbled.\r\n\r\n## Step One\r\n\r\nTo begin with, convert a simple binary font to a string containing 0 or 1.\r\n\r\nThe binary font uses pipes and underscores, four rows high and three columns wide.\r\n\r\n```text\r\n     _   #\r\n    | |  # zero.\r\n    |_|  #\r\n         # the fourth row is always blank\r\n```\r\n\r\nIs converted to \"0\"\r\n\r\n```text\r\n         #\r\n      |  # one.\r\n      |  #\r\n         # (blank fourth row)\r\n```\r\n\r\nIs converted to \"1\"\r\n\r\nIf the input is the correct size, but not recognizable, your program should return '?'\r\n\r\nIf the input is the incorrect size, your program should return an error.\r\n\r\n## Step Two\r\n\r\nUpdate your program to recognize multi-character binary strings, replacing garbled numbers with ?\r\n\r\n## Step Three\r\n\r\nUpdate your program to recognize all numbers 0 through 9, both individually and as part of a larger string.\r\n\r\n```text\r\n _\r\n _|\r\n|_\r\n\r\n```\r\n\r\nIs converted to \"2\"\r\n\r\n```text\r\n      _  _     _  _  _  _  _  _  #\r\n    | _| _||_||_ |_   ||_||_|| | # decimal numbers.\r\n    ||_  _|  | _||_|  ||_| _||_| #\r\n                                 # fourth line is always blank\r\n```\r\n\r\nIs converted to \"1234567890\"\r\n\r\n## Step Four\r\n\r\nUpdate your program to handle multiple numbers, one per line.\r\nWhen converting several lines, join the lines with commas.\r\n\r\n```text\r\n    _  _\r\n  | _| _|\r\n  ||_  _|\r\n\r\n    _  _\r\n|_||_ |_\r\n  | _||_|\r\n\r\n _  _  _\r\n  ||_||_|\r\n  ||_| _|\r\n\r\n```\r\n\r\nIs converted to \"123,456,789\".\r\n",
    "hints": ""
  },
  "starter_code": "def convert(input_grid):\r\n    pass\r\n\r\n",
  "tests": "# These tests are auto-generated with test data from:\r\n# https://github.com/exercism/problem-specifications/tree/main/exercises/ocr-numbers/canonical-data.json\r\n# File last updated on 2023-07-19\r\n\r\nimport unittest\r\n\r\nfrom ocr_numbers import (\r\n    convert,\r\n)\r\n\r\n\r\nclass OcrNumbersTest(unittest.TestCase):\r\n    def test_recognizes_0(self):\r\n        self.assertEqual(convert([\" _ \", \"| |\", \"|_|\", \"   \"]), \"0\")\r\n\r\n    def test_recognizes_1(self):\r\n        self.assertEqual(convert([\"   \", \"  |\", \"  |\", \"   \"]), \"1\")\r\n\r\n    def test_unreadable_but_correctly_sized_inputs_return(self):\r\n        self.assertEqual(convert([\"   \", \"  _\", \"  |\", \"   \"]), \"?\")\r\n\r\n    def test_input_with_a_number_of_lines_that_is_not_a_multiple_of_four_raises_an_error(\r\n        self,\r\n    ):\r\n        with self.assertRaises(ValueError) as err:\r\n            convert([\" _ \", \"| |\", \"   \"])\r\n        self.assertEqual(type(err.exception), ValueError)\r\n        self.assertEqual(\r\n            err.exception.args[0], \"Number of input lines is not a multiple of four\"\r\n        )\r\n\r\n    def test_input_with_a_number_of_columns_that_is_not_a_multiple_of_three_raises_an_error(\r\n        self,\r\n    ):\r\n        with self.assertRaises(ValueError) as err:\r\n            convert([\"    \", \"   |\", \"   |\", \"    \"])\r\n        self.assertEqual(type(err.exception), ValueError)\r\n        self.assertEqual(\r\n            err.exception.args[0], \"Number of input columns is not a multiple of three\"\r\n        )\r\n\r\n    def test_recognizes_110101100(self):\r\n        self.assertEqual(\r\n            convert(\r\n                [\r\n                    \"       _     _        _  _ \",\r\n                    \"  |  || |  || |  |  || || |\",\r\n                    \"  |  ||_|  ||_|  |  ||_||_|\",\r\n                    \"                           \",\r\n                ]\r\n            ),\r\n            \"110101100\",\r\n        )\r\n\r\n    def test_garbled_numbers_in_a_string_are_replaced_with(self):\r\n        self.assertEqual(\r\n            convert(\r\n                [\r\n                    \"       _     _           _ \",\r\n                    \"  |  || |  || |     || || |\",\r\n                    \"  |  | _|  ||_|  |  ||_||_|\",\r\n                    \"                           \",\r\n                ]\r\n            ),\r\n            \"11?10?1?0\",\r\n        )\r\n\r\n    def test_recognizes_2(self):\r\n        self.assertEqual(convert([\" _ \", \" _|\", \"|_ \", \"   \"]), \"2\")\r\n\r\n    def test_recognizes_3(self):\r\n        self.assertEqual(convert([\" _ \", \" _|\", \" _|\", \"   \"]), \"3\")\r\n\r\n    def test_recognizes_4(self):\r\n        self.assertEqual(convert([\"   \", \"|_|\", \"  |\", \"   \"]), \"4\")\r\n\r\n    def test_recognizes_5(self):\r\n        self.assertEqual(convert([\" _ \", \"|_ \", \" _|\", \"   \"]), \"5\")\r\n\r\n    def test_recognizes_6(self):\r\n        self.assertEqual(convert([\" _ \", \"|_ \", \"|_|\", \"   \"]), \"6\")\r\n\r\n    def test_recognizes_7(self):\r\n        self.assertEqual(convert([\" _ \", \"  |\", \"  |\", \"   \"]), \"7\")\r\n\r\n    def test_recognizes_8(self):\r\n        self.assertEqual(convert([\" _ \", \"|_|\", \"|_|\", \"   \"]), \"8\")\r\n\r\n    def test_recognizes_9(self):\r\n        self.assertEqual(convert([\" _ \", \"|_|\", \" _|\", \"   \"]), \"9\")\r\n\r\n    def test_recognizes_string_of_decimal_numbers(self):\r\n        self.assertEqual(\r\n            convert(\r\n                [\r\n                    \"    _  _     _  _  _  _  _  _ \",\r\n                    \"  | _| _||_||_ |_   ||_||_|| |\",\r\n                    \"  ||_  _|  | _||_|  ||_| _||_|\",\r\n                    \"                              \",\r\n                ]\r\n            ),\r\n            \"1234567890\",\r\n        )\r\n\r\n    def test_numbers_separated_by_empty_lines_are_recognized_lines_are_joined_by_commas(\r\n        self,\r\n    ):\r\n        self.assertEqual(\r\n            convert(\r\n                [\r\n                    \"    _  _ \",\r\n                    \"  | _| _|\",\r\n                    \"  ||_  _|\",\r\n                    \"         \",\r\n                    \"    _  _ \",\r\n                    \"|_||_ |_ \",\r\n                    \"  | _||_|\",\r\n                    \"         \",\r\n                    \" _  _  _ \",\r\n                    \"  ||_||_|\",\r\n                    \"  ||_| _|\",\r\n                    \"         \",\r\n                ]\r\n            ),\r\n            \"123,456,789\",\r\n        )\r\n"
}
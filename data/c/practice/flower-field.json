{
  "language": "c",
  "slug": "flower-field",
  "docs": {
    "introduction": "# Introduction\r\n\r\n[Flower Field][history] is a compassionate reimagining of the popular game Minesweeper.\r\nThe object of the game is to find all the flowers in the garden using numeric hints that indicate how many flowers are directly adjacent (horizontally, vertically, diagonally) to a square.\r\n\"Flower Field\" shipped in regional versions of Microsoft Windows in Italy, Germany, South Korea, Japan and Taiwan.\r\n\r\n[history]: https://web.archive.org/web/20020409051321fw_/http://rcm.usr.dsi.unimi.it/rcmweb/fnm/\r\n",
    "instructions": "# Instructions\r\n\r\nYour task is to add flower counts to empty squares in a completed Flower Field garden.\r\nThe garden itself is a rectangle board composed of squares that are either empty (`' '`) or a flower (`'*'`).\r\n\r\nFor each empty square, count the number of flowers adjacent to it (horizontally, vertically, diagonally).\r\nIf the empty square has no adjacent flowers, leave it empty.\r\nOtherwise replace it with the count of adjacent flowers.\r\n\r\nFor example, you may receive a 5 x 4 board like this (empty spaces are represented here with the '·' character for display on screen):\r\n\r\n```text\r\n·*·*·\r\n··*··\r\n··*··\r\n·····\r\n```\r\n\r\nWhich your code should transform into this:\r\n\r\n```text\r\n1*3*1\r\n13*31\r\n·2*2·\r\n·111·\r\n```\r\n",
    "hints": ""
  },
  "starter_code": {
    "flower_field.c": "#include \"flower_field.h\"\r\n",
    "flower_field.h": "#ifndef FLOWER_FIELD_H\r\n#define FLOWER_FIELD_H\r\n#include <stddef.h>\r\n\r\nchar **annotate(const char **garden, const size_t rows);\r\nvoid free_annotation(char **annotation);\r\n\r\n#endif\r\n"
  },
  "tests": {
    "test_flower_field.c": "#include \"test-framework/unity.h\"\r\n#include \"flower_field.h\"\r\n#include <stdlib.h>\r\n\r\n#define ARRAY_SIZE(arr) (sizeof(arr) / sizeof(arr[0]))\r\n\r\nvoid setUp(void)\r\n{\r\n}\r\n\r\nvoid tearDown(void)\r\n{\r\n}\r\n\r\nstatic void test_annotate_no_rows(void)\r\n{\r\n   const char **garden = NULL;\r\n   const size_t rows = 0;\r\n   char **actual = annotate(garden, rows);\r\n   TEST_ASSERT_NULL(actual);\r\n}\r\n\r\nstatic void test_annotate_no_columns(void)\r\n{\r\n   TEST_IGNORE();   // delete this line to run test\r\n   const char *garden[] = { \"\" };\r\n   const char *expected[] = { \"\" };\r\n   const size_t rows = ARRAY_SIZE(expected);\r\n   char **actual = annotate(garden, rows);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, rows);\r\n   free_annotation(actual);\r\n}\r\n\r\nstatic void test_annotate_no_flowers(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *garden[] = {\r\n      // clang-format off\r\n      \"   \",\r\n      \"   \",\r\n      \"   \"\r\n      // clang-format on\r\n   };\r\n   const char *expected[] = {\r\n      // clang-format off\r\n      \"   \",\r\n      \"   \",\r\n      \"   \"\r\n      // clang-format on\r\n   };\r\n   const size_t rows = ARRAY_SIZE(expected);\r\n   char **actual = annotate(garden, rows);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, rows);\r\n   free_annotation(actual);\r\n}\r\n\r\nstatic void test_annotate_garden_full_of_flowers(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *garden[] = {\r\n      // clang-format off\r\n      \"***\",\r\n      \"***\",\r\n      \"***\"\r\n      // clang-format on\r\n   };\r\n   const char *expected[] = {\r\n      // clang-format off\r\n      \"***\",\r\n      \"***\",\r\n      \"***\"\r\n      // clang-format on\r\n   };\r\n   const size_t rows = ARRAY_SIZE(expected);\r\n   char **actual = annotate(garden, rows);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, rows);\r\n   free_annotation(actual);\r\n}\r\n\r\nstatic void test_annotate_flower_surrounded_by_spaces(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *garden[] = {\r\n      // clang-format off\r\n      \"   \",\r\n      \" * \",\r\n      \"   \"\r\n      // clang-format on\r\n   };\r\n   const char *expected[] = {\r\n      // clang-format off\r\n      \"111\",\r\n      \"1*1\",\r\n      \"111\"\r\n      // clang-format on\r\n   };\r\n   const size_t rows = ARRAY_SIZE(expected);\r\n   char **actual = annotate(garden, rows);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, rows);\r\n   free_annotation(actual);\r\n}\r\n\r\nstatic void test_annotate_space_surrounded_by_flowers(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *garden[] = {\r\n      // clang-format off\r\n      \"***\",\r\n      \"* *\",\r\n      \"***\"\r\n      // clang-format on\r\n   };\r\n   const char *expected[] = {\r\n      // clang-format off\r\n      \"***\",\r\n      \"*8*\",\r\n      \"***\"\r\n      // clang-format on\r\n   };\r\n   const size_t rows = ARRAY_SIZE(expected);\r\n   char **actual = annotate(garden, rows);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, rows);\r\n   free_annotation(actual);\r\n}\r\n\r\nstatic void test_annotate_horizontal_line(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *garden[] = {\r\n      // clang-format off\r\n      \" * * \"\r\n      // clang-format on\r\n   };\r\n   const char *expected[] = {\r\n      // clang-format off\r\n      \"1*2*1\"\r\n      // clang-format on\r\n   };\r\n   const size_t rows = ARRAY_SIZE(expected);\r\n   char **actual = annotate(garden, rows);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, rows);\r\n   free_annotation(actual);\r\n}\r\n\r\nstatic void test_annotate_horizontal_line_flowers_at_edges(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *garden[] = {\r\n      // clang-format off\r\n      \"*   *\"\r\n      // clang-format on\r\n   };\r\n   const char *expected[] = {\r\n      // clang-format off\r\n      \"*1 1*\"\r\n      // clang-format on\r\n   };\r\n   const size_t rows = ARRAY_SIZE(expected);\r\n   char **actual = annotate(garden, rows);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, rows);\r\n   free_annotation(actual);\r\n}\r\n\r\nstatic void test_annotate_vertical_line(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *garden[] = {\r\n      // clang-format off\r\n      \" \",\r\n      \"*\",\r\n      \" \",\r\n      \"*\",\r\n      \" \"\r\n      // clang-format on\r\n   };\r\n   const char *expected[] = {\r\n      // clang-format off\r\n      \"1\",\r\n      \"*\",\r\n      \"2\",\r\n      \"*\",\r\n      \"1\"\r\n      // clang-format on\r\n   };\r\n   const size_t rows = ARRAY_SIZE(expected);\r\n   char **actual = annotate(garden, rows);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, rows);\r\n   free_annotation(actual);\r\n}\r\n\r\nstatic void test_annotate_vertical_line_flowers_at_edges(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *garden[] = {\r\n      // clang-format off\r\n      \"*\",\r\n      \" \",\r\n      \" \",\r\n      \" \",\r\n      \"*\"\r\n      // clang-format on\r\n   };\r\n   const char *expected[] = {\r\n      // clang-format off\r\n      \"*\",\r\n      \"1\",\r\n      \" \",\r\n      \"1\",\r\n      \"*\"\r\n      // clang-format on\r\n   };\r\n   const size_t rows = ARRAY_SIZE(expected);\r\n   char **actual = annotate(garden, rows);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, rows);\r\n   free_annotation(actual);\r\n}\r\n\r\nstatic void test_annotate_cross(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *garden[] = {\r\n      // clang-format off\r\n      \"  *  \",\r\n      \"  *  \",\r\n      \"*****\",\r\n      \"  *  \",\r\n      \"  *  \"\r\n      // clang-format on\r\n   };\r\n   const char *expected[] = {\r\n      // clang-format off\r\n      \" 2*2 \",\r\n      \"25*52\",\r\n      \"*****\",\r\n      \"25*52\",\r\n      \" 2*2 \"\r\n      // clang-format on\r\n   };\r\n   const size_t rows = ARRAY_SIZE(expected);\r\n   char **actual = annotate(garden, rows);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, rows);\r\n   free_annotation(actual);\r\n}\r\n\r\nstatic void test_annotate_large_garden(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *garden[] = {\r\n      // clang-format off\r\n      \" *  * \",\r\n      \"  *   \",\r\n      \"    * \",\r\n      \"   * *\",\r\n      \" *  * \",\r\n      \"      \"\r\n      // clang-format on\r\n   };\r\n   const char *expected[] = {\r\n      // clang-format off\r\n      \"1*22*1\",\r\n      \"12*322\",\r\n      \" 123*2\",\r\n      \"112*4*\",\r\n      \"1*22*2\",\r\n      \"111111\"\r\n      // clang-format on\r\n   };\r\n   const size_t rows = ARRAY_SIZE(expected);\r\n   char **actual = annotate(garden, rows);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, rows);\r\n   free_annotation(actual);\r\n}\r\n\r\nint main(void)\r\n{\r\n   UNITY_BEGIN();\r\n\r\n   RUN_TEST(test_annotate_no_rows);\r\n   RUN_TEST(test_annotate_no_columns);\r\n   RUN_TEST(test_annotate_no_flowers);\r\n   RUN_TEST(test_annotate_garden_full_of_flowers);\r\n   RUN_TEST(test_annotate_flower_surrounded_by_spaces);\r\n   RUN_TEST(test_annotate_space_surrounded_by_flowers);\r\n   RUN_TEST(test_annotate_horizontal_line);\r\n   RUN_TEST(test_annotate_horizontal_line_flowers_at_edges);\r\n   RUN_TEST(test_annotate_vertical_line);\r\n   RUN_TEST(test_annotate_vertical_line_flowers_at_edges);\r\n   RUN_TEST(test_annotate_cross);\r\n   RUN_TEST(test_annotate_large_garden);\r\n\r\n   return UNITY_END();\r\n}\r\n"
  }
}
{
  "language": "c",
  "slug": "prime-factors",
  "docs": {
    "introduction": "",
    "instructions": "# Instructions\r\n\r\nCompute the prime factors of a given natural number.\r\n\r\nA prime number is only evenly divisible by itself and 1.\r\n\r\nNote that 1 is not a prime number.\r\n\r\n## Example\r\n\r\nWhat are the prime factors of 60?\r\n\r\n- Our first divisor is 2.\r\n  2 goes into 60, leaving 30.\r\n- 2 goes into 30, leaving 15.\r\n  - 2 doesn't go cleanly into 15.\r\n    So let's move on to our next divisor, 3.\r\n- 3 goes cleanly into 15, leaving 5.\r\n  - 3 does not go cleanly into 5.\r\n    The next possible factor is 4.\r\n  - 4 does not go cleanly into 5.\r\n    The next possible factor is 5.\r\n- 5 does go cleanly into 5.\r\n- We're left only with 1, so now, we're done.\r\n\r\nOur successful divisors in that computation represent the list of prime factors of 60: 2, 2, 3, and 5.\r\n\r\nYou can check this yourself:\r\n\r\n```text\r\n2 * 2 * 3 * 5\r\n= 4 * 15\r\n= 60\r\n```\r\n\r\nSuccess!\r\n",
    "hints": ""
  },
  "starter_code": {
    "prime_factors.c": "#include \"prime_factors.h\"\r\n",
    "prime_factors.h": "#ifndef PRIME_FACTORS_H\r\n#define PRIME_FACTORS_H\r\n\r\n#include <stdint.h>\r\n#include <stddef.h>\r\n\r\n#define MAXFACTORS 10\r\n\r\nsize_t find_factors(uint64_t n, uint64_t factors[static MAXFACTORS]);\r\n\r\n#endif\r\n"
  },
  "tests": {
    "test_prime_factors.c": "#include \"test-framework/unity.h\"\r\n#include \"prime_factors.h\"\r\n#include <stdint.h>\r\n\r\nstatic uint64_t buf[MAXFACTORS] = { 0 };\r\n\r\nvoid setUp(void)\r\n{\r\n}\r\n\r\nvoid tearDown(void)\r\n{\r\n}\r\n\r\nstatic void test_no_factors(void)\r\n{\r\n   size_t expected_len = 0;\r\n   size_t actual_len = find_factors(1, buf);\r\n   TEST_ASSERT_EQUAL_INT(expected_len, actual_len);\r\n}\r\n\r\nstatic void test_prime_number(void)\r\n{\r\n   TEST_IGNORE();   // delete this line to run test\r\n   uint64_t expected_factors[] = { 2 };\r\n   size_t expected_len = 1;\r\n   size_t actual_len = find_factors(2, buf);\r\n   TEST_ASSERT_EQUAL_INT(expected_len, actual_len);\r\n   TEST_ASSERT_EQUAL_INT64_ARRAY(expected_factors, buf, expected_len);\r\n}\r\n\r\nstatic void test_another_prime_number(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint64_t expected_factors[] = { 3 };\r\n   size_t expected_len = 1;\r\n   size_t actual_len = find_factors(3, buf);\r\n   TEST_ASSERT_EQUAL_INT(expected_len, actual_len);\r\n   TEST_ASSERT_EQUAL_INT64_ARRAY(expected_factors, buf, expected_len);\r\n}\r\n\r\nstatic void test_square_of_a_prime(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint64_t expected_factors[] = { 3, 3 };\r\n   size_t expected_len = 2;\r\n   size_t actual_len = find_factors(9, buf);\r\n   TEST_ASSERT_EQUAL_INT(expected_len, actual_len);\r\n   TEST_ASSERT_EQUAL_INT64_ARRAY(expected_factors, buf, expected_len);\r\n}\r\n\r\nstatic void test_product_of_first_prime(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint64_t expected_factors[] = { 2, 2 };\r\n   size_t expected_len = 2;\r\n   size_t actual_len = find_factors(4, buf);\r\n   TEST_ASSERT_EQUAL_INT(expected_len, actual_len);\r\n   TEST_ASSERT_EQUAL_INT64_ARRAY(expected_factors, buf, expected_len);\r\n}\r\n\r\nstatic void test_cube_of_a_prime(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint64_t expected_factors[] = { 2, 2, 2 };\r\n   size_t expected_len = 3;\r\n   size_t actual_len = find_factors(8, buf);\r\n   TEST_ASSERT_EQUAL_INT(expected_len, actual_len);\r\n   TEST_ASSERT_EQUAL_INT64_ARRAY(expected_factors, buf, expected_len);\r\n}\r\n\r\nstatic void test_product_of_second_prime(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint64_t expected_factors[] = { 3, 3, 3 };\r\n   size_t expected_len = 3;\r\n   size_t actual_len = find_factors(27, buf);\r\n   TEST_ASSERT_EQUAL_INT(expected_len, actual_len);\r\n   TEST_ASSERT_EQUAL_INT64_ARRAY(expected_factors, buf, expected_len);\r\n}\r\n\r\nstatic void test_product_of_third_prime(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint64_t expected_factors[] = { 5, 5, 5, 5 };\r\n   size_t expected_len = 4;\r\n   size_t actual_len = find_factors(625, buf);\r\n   TEST_ASSERT_EQUAL_INT(expected_len, actual_len);\r\n   TEST_ASSERT_EQUAL_INT64_ARRAY(expected_factors, buf, expected_len);\r\n}\r\n\r\nstatic void test_product_of_first_and_second_prime(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint64_t expected_factors[] = { 2, 3 };\r\n   size_t expected_len = 2;\r\n   size_t actual_len = find_factors(6, buf);\r\n   TEST_ASSERT_EQUAL_INT(expected_len, actual_len);\r\n   TEST_ASSERT_EQUAL_INT64_ARRAY(expected_factors, buf, expected_len);\r\n}\r\n\r\nstatic void test_product_of_primes_and_non_primes(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint64_t expected_factors[] = { 2, 2, 3 };\r\n   size_t expected_len = 3;\r\n   size_t actual_len = find_factors(12, buf);\r\n   TEST_ASSERT_EQUAL_INT(expected_len, actual_len);\r\n   TEST_ASSERT_EQUAL_INT64_ARRAY(expected_factors, buf, expected_len);\r\n}\r\n\r\nstatic void test_product_of_primes(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint64_t expected_factors[] = { 5, 17, 23, 461 };\r\n   size_t expected_len = 4;\r\n   size_t actual_len = find_factors(901255, buf);\r\n   TEST_ASSERT_EQUAL_INT(expected_len, actual_len);\r\n   TEST_ASSERT_EQUAL_INT64_ARRAY(expected_factors, buf, expected_len);\r\n}\r\n\r\nstatic void test_factors_include_a_large_prime(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint64_t expected_factors[] = { 11, 9539, 894119 };\r\n   size_t expected_len = 3;\r\n   size_t actual_len = find_factors(93819012551, buf);\r\n   TEST_ASSERT_EQUAL_INT(expected_len, actual_len);\r\n   TEST_ASSERT_EQUAL_INT64_ARRAY(expected_factors, buf, expected_len);\r\n}\r\n\r\nint main(void)\r\n{\r\n   UNITY_BEGIN();\r\n\r\n   RUN_TEST(test_no_factors);\r\n   RUN_TEST(test_prime_number);\r\n   RUN_TEST(test_another_prime_number);\r\n   RUN_TEST(test_square_of_a_prime);\r\n   RUN_TEST(test_product_of_first_prime);\r\n   RUN_TEST(test_cube_of_a_prime);\r\n   RUN_TEST(test_product_of_second_prime);\r\n   RUN_TEST(test_product_of_third_prime);\r\n   RUN_TEST(test_product_of_first_and_second_prime);\r\n   RUN_TEST(test_product_of_primes_and_non_primes);\r\n   RUN_TEST(test_product_of_primes);\r\n   RUN_TEST(test_factors_include_a_large_prime);\r\n\r\n   return UNITY_END();\r\n}\r\n"
  }
}
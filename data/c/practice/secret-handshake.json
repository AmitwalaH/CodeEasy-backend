{
  "language": "c",
  "slug": "secret-handshake",
  "docs": {
    "introduction": "# Introduction\r\n\r\nYou are starting a secret coding club with some friends and friends-of-friends.\r\nNot everyone knows each other, so you and your friends have decided to create a secret handshake that you can use to recognize that someone is a member.\r\nYou don't want anyone who isn't in the know to be able to crack the code.\r\n\r\nYou've designed the code so that one person says a number between 1 and 31, and the other person turns it into a series of actions.\r\n",
    "instructions": "# Instructions\r\n\r\nYour task is to convert a number between 1 and 31 to a sequence of actions in the secret handshake.\r\n\r\nThe sequence of actions is chosen by looking at the rightmost five digits of the number once it's been converted to binary.\r\nStart at the right-most digit and move left.\r\n\r\nThe actions for each number place are:\r\n\r\n```plaintext\r\n00001 = wink\r\n00010 = double blink\r\n00100 = close your eyes\r\n01000 = jump\r\n10000 = Reverse the order of the operations in the secret handshake.\r\n```\r\n\r\nLet's use the number `9` as an example:\r\n\r\n- 9 in binary is `1001`.\r\n- The digit that is farthest to the right is 1, so the first action is `wink`.\r\n- Going left, the next digit is 0, so there is no double-blink.\r\n- Going left again, the next digit is 0, so you leave your eyes open.\r\n- Going left again, the next digit is 1, so you jump.\r\n\r\nThat was the last digit, so the final code is:\r\n\r\n```plaintext\r\nwink, jump\r\n```\r\n\r\nGiven the number 26, which is `11010` in binary, we get the following actions:\r\n\r\n- double blink\r\n- jump\r\n- reverse actions\r\n\r\nThe secret handshake for 26 is therefore:\r\n\r\n```plaintext\r\njump, double blink\r\n```\r\n\r\n~~~~exercism/note\r\nIf you aren't sure what binary is or how it works, check out [this binary tutorial][intro-to-binary].\r\n\r\n[intro-to-binary]: https://medium.com/basecs/bits-bytes-building-with-binary-13cb4289aafa\r\n~~~~\r\n",
    "hints": ""
  },
  "starter_code": {
    "secret_handshake.c": "#include \"secret_handshake.h\"\r\n",
    "secret_handshake.h": "#ifndef SECRET_HANDSHAKE_H\r\n#define SECRET_HANDSHAKE_H\r\n\r\n#include <stddef.h>\r\n\r\nconst char **commands(size_t number);\r\n\r\n#endif\r\n"
  },
  "tests": {
    "test_secret_handshake.c": "#include \"secret_handshake.h\"\r\n#include \"test-framework/unity.h\"\r\n#include <stdlib.h>\r\n\r\n#define ARRAY_SIZE 4\r\n\r\nvoid setUp(void)\r\n{\r\n}\r\n\r\nvoid tearDown(void)\r\n{\r\n}\r\n\r\nstatic void test_commands_wink_for_1(void)\r\n{\r\n   const char *expected[] = { \"wink\", NULL, NULL, NULL };\r\n   const char **actual = commands(1);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, ARRAY_SIZE);\r\n   free(actual);\r\n}\r\n\r\nstatic void test_commands_double_blink_for_10(void)\r\n{\r\n   TEST_IGNORE();   // delete this line to run test\r\n   const char *expected[] = { \"double blink\", NULL, NULL, NULL };\r\n   const char **actual = commands(2);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, ARRAY_SIZE);\r\n   free(actual);\r\n}\r\n\r\nstatic void test_commands_close_your_eyes_for_100(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *expected[] = { \"close your eyes\", NULL, NULL, NULL };\r\n   const char **actual = commands(4);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, ARRAY_SIZE);\r\n   free(actual);\r\n}\r\n\r\nstatic void test_commands_jump_for_1000(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *expected[] = { \"jump\", NULL, NULL, NULL };\r\n   const char **actual = commands(8);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, ARRAY_SIZE);\r\n   free(actual);\r\n}\r\n\r\nstatic void test_commands_combine_two_actions(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *expected[] = { \"wink\", \"double blink\", NULL, NULL };\r\n   const char **actual = commands(3);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, ARRAY_SIZE);\r\n   free(actual);\r\n}\r\n\r\nstatic void test_commands_reverse_two_actions(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *expected[] = { \"double blink\", \"wink\", NULL, NULL };\r\n   const char **actual = commands(19);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, ARRAY_SIZE);\r\n   free(actual);\r\n}\r\n\r\nstatic void test_commands_reversing_one_action_gives_the_same_action(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *expected[] = { \"jump\", NULL, NULL, NULL };\r\n   const char **actual = commands(24);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, ARRAY_SIZE);\r\n   free(actual);\r\n}\r\n\r\nstatic void test_commands_reversing_no_actions_still_gives_no_actions(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *expected[] = { NULL, NULL, NULL, NULL };\r\n   const char **actual = commands(16);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, ARRAY_SIZE);\r\n   free(actual);\r\n}\r\n\r\nstatic void test_commands_all_possible_actions(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *expected[] = { \"wink\", \"double blink\", \"close your eyes\",\r\n                              \"jump\" };\r\n   const char **actual = commands(15);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, ARRAY_SIZE);\r\n   free(actual);\r\n}\r\n\r\nstatic void test_commands_reverse_all_possible_actions(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *expected[] = { \"jump\", \"close your eyes\", \"double blink\",\r\n                              \"wink\" };\r\n   const char **actual = commands(31);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, ARRAY_SIZE);\r\n   free(actual);\r\n}\r\n\r\nstatic void test_commands_do_nothing_for_zero(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char *expected[] = { NULL, NULL, NULL, NULL };\r\n   const char **actual = commands(0);\r\n   TEST_ASSERT_EQUAL_STRING_ARRAY(expected, actual, ARRAY_SIZE);\r\n   free(actual);\r\n}\r\n\r\nint main(void)\r\n{\r\n   UNITY_BEGIN();\r\n\r\n   RUN_TEST(test_commands_wink_for_1);\r\n   RUN_TEST(test_commands_double_blink_for_10);\r\n   RUN_TEST(test_commands_close_your_eyes_for_100);\r\n   RUN_TEST(test_commands_jump_for_1000);\r\n   RUN_TEST(test_commands_combine_two_actions);\r\n   RUN_TEST(test_commands_reverse_two_actions);\r\n   RUN_TEST(test_commands_reversing_one_action_gives_the_same_action);\r\n   RUN_TEST(test_commands_reversing_no_actions_still_gives_no_actions);\r\n   RUN_TEST(test_commands_all_possible_actions);\r\n   RUN_TEST(test_commands_reverse_all_possible_actions);\r\n   RUN_TEST(test_commands_do_nothing_for_zero);\r\n\r\n   return UNITY_END();\r\n}\r\n"
  }
}
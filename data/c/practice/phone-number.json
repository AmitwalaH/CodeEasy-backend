{
  "language": "c",
  "slug": "phone-number",
  "docs": {
    "introduction": "# Introduction\r\n\r\nYou've joined LinkLine, a leading communications company working to ensure reliable connections for everyone.\r\nThe team faces a big challenge: users submit phone numbers in all sorts of formats â€” dashes, spaces, dots, parentheses, and even prefixes.\r\nSome numbers are valid, while others are impossible to use.\r\n\r\nYour mission is to turn this chaos into order.\r\nYou'll clean up valid numbers, formatting them appropriately for use in the system.\r\nAt the same time, you'll identify and filter out any invalid entries.\r\n\r\nThe success of LinkLine's operations depends on your ability to separate the useful from the unusable.\r\nAre you ready to take on the challenge and keep the connections running smoothly?\r\n",
    "instructions": "# Instructions\r\n\r\nClean up phone numbers so that they can be sent SMS messages.\r\n\r\nThe **North American Numbering Plan (NANP)** is a telephone numbering system used by many countries in North America like the United States, Canada or Bermuda.\r\nAll NANP-countries share the same international country code: `1`.\r\n\r\nNANP numbers are ten-digit numbers consisting of a three-digit Numbering Plan Area code, commonly known as _area code_, followed by a seven-digit local number.\r\nThe first three digits of the local number represent the _exchange code_, followed by the unique four-digit number which is the _subscriber number_.\r\n\r\nThe format is usually represented as\r\n\r\n```text\r\nNXX NXX-XXXX\r\n```\r\n\r\nwhere `N` is any digit from 2 through 9 and `X` is any digit from 0 through 9.\r\n\r\nSometimes they also have the country code (represented as `1` or `+1`) prefixed.\r\n\r\nYour task is to clean up differently formatted telephone numbers by removing punctuation and the country code if present.\r\n\r\nFor example, the inputs\r\n\r\n- `+1 (613)-995-0253`\r\n- `613-995-0253`\r\n- `1 613 995 0253`\r\n- `613.995.0253`\r\n\r\nshould all produce the output\r\n\r\n`6139950253`\r\n\r\n**Note:** As this exercise only deals with telephone numbers used in NANP-countries, only 1 is considered a valid country code.\r\n",
    "hints": ""
  },
  "starter_code": {
    "phone_number.c": "#include \"phone_number.h\"\r\n",
    "phone_number.h": "#ifndef PHONE_NUMBER_H\r\n#define PHONE_NUMBER_H\r\n\r\nchar *phone_number_clean(const char *input);\r\n\r\n#endif\r\n"
  },
  "tests": {
    "test_phone_number.c": "#include \"test-framework/unity.h\"\r\n#include \"phone_number.h\"\r\n#include <stdlib.h>\r\n\r\nstatic char *result = NULL;\r\n\r\nvoid setUp(void)\r\n{\r\n}\r\n\r\nvoid tearDown(void)\r\n{\r\n   free(result);\r\n   result = NULL;\r\n}\r\n\r\nstatic void test_cleans_the_number(void)\r\n{\r\n   const char input[] = \"(223) 456-7890\";\r\n   const char expected[] = \"2234567890\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nstatic void test_cleans_numbers_with_dots(void)\r\n{\r\n   TEST_IGNORE();   // delete this line to run test\r\n   const char input[] = \"223.456.7890\";\r\n   const char expected[] = \"2234567890\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nstatic void test_cleans_numbers_with_multiple_spaces(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char input[] = \"223 456   7890   \";\r\n   const char expected[] = \"2234567890\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nstatic void test_invalid_when_9_digits(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char input[] = \"123456789\";\r\n   const char expected[] = \"0000000000\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nstatic void test_invalid_when_11_digits_does_not_start_with_a_1(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char input[] = \"22234567890\";\r\n   const char expected[] = \"0000000000\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nstatic void test_valid_when_11_digits_and_starting_with_1(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char input[] = \"12234567890\";\r\n   const char expected[] = \"2234567890\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nstatic void\r\ntest_valid_when_11_digits_and_starting_with_1_even_with_punctuation(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char input[] = \"+1 (223) 456-7890\";\r\n   const char expected[] = \"2234567890\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nstatic void test_invalid_when_more_than_11_digits(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char input[] = \"321234567890\";\r\n   const char expected[] = \"0000000000\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nstatic void test_invalid_with_letters(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char input[] = \"523-abc-7890\";\r\n   const char expected[] = \"0000000000\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nstatic void test_invalid_with_punctuations(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char input[] = \"523-@:!-7890\";\r\n   const char expected[] = \"0000000000\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nstatic void test_invalid_if_area_code_starts_with_0(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char input[] = \"(023) 456-7890\";\r\n   const char expected[] = \"0000000000\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nstatic void test_invalid_if_area_code_starts_with_1(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char input[] = \"(123) 456-7890\";\r\n   const char expected[] = \"0000000000\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nstatic void test_invalid_if_exchange_code_starts_with_0(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char input[] = \"(223) 056-7890\";\r\n   const char expected[] = \"0000000000\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nstatic void test_invalid_if_exchange_code_starts_with_1(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char input[] = \"(223) 156-7890\";\r\n   const char expected[] = \"0000000000\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nstatic void\r\ntest_invalid_if_area_code_starts_with_0_on_valid_11_digit_number(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char input[] = \"1 (023) 456-7890\";\r\n   const char expected[] = \"0000000000\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nstatic void\r\ntest_invalid_if_area_code_starts_with_1_on_valid_11_digit_number(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char input[] = \"1 (123) 456-7890\";\r\n   const char expected[] = \"0000000000\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nstatic void\r\ntest_invalid_if_exchange_code_starts_with_0_on_valid_11_digit_number(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char input[] = \"1 (223) 056-7890\";\r\n   const char expected[] = \"0000000000\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nstatic void\r\ntest_invalid_if_exchange_code_starts_with_1_on_valid_11_digit_number(void)\r\n{\r\n   TEST_IGNORE();\r\n   const char input[] = \"1 (123) 156-7890\";\r\n   const char expected[] = \"0000000000\";\r\n\r\n   result = phone_number_clean(input);\r\n\r\n   TEST_ASSERT_EQUAL_STRING(expected, result);\r\n}\r\n\r\nint main(void)\r\n{\r\n   UNITY_BEGIN();\r\n\r\n   RUN_TEST(test_cleans_the_number);\r\n   RUN_TEST(test_cleans_numbers_with_dots);\r\n   RUN_TEST(test_cleans_numbers_with_multiple_spaces);\r\n   RUN_TEST(test_invalid_when_9_digits);\r\n   RUN_TEST(test_invalid_when_11_digits_does_not_start_with_a_1);\r\n   RUN_TEST(test_valid_when_11_digits_and_starting_with_1);\r\n   RUN_TEST(\r\n       test_valid_when_11_digits_and_starting_with_1_even_with_punctuation);\r\n   RUN_TEST(test_invalid_when_more_than_11_digits);\r\n   RUN_TEST(test_invalid_with_letters);\r\n   RUN_TEST(test_invalid_with_punctuations);\r\n   RUN_TEST(test_invalid_if_area_code_starts_with_0);\r\n   RUN_TEST(test_invalid_if_area_code_starts_with_1);\r\n   RUN_TEST(test_invalid_if_exchange_code_starts_with_0);\r\n   RUN_TEST(test_invalid_if_exchange_code_starts_with_1);\r\n   RUN_TEST(test_invalid_if_area_code_starts_with_0_on_valid_11_digit_number);\r\n   RUN_TEST(test_invalid_if_area_code_starts_with_1_on_valid_11_digit_number);\r\n   RUN_TEST(\r\n       test_invalid_if_exchange_code_starts_with_0_on_valid_11_digit_number);\r\n   RUN_TEST(\r\n       test_invalid_if_exchange_code_starts_with_1_on_valid_11_digit_number);\r\n\r\n   return UNITY_END();\r\n}\r\n"
  }
}
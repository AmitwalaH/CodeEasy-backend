{
  "language": "c",
  "slug": "knapsack",
  "docs": {
    "introduction": "# Introduction\r\n\r\nLhakpa is a [Sherpa][sherpa] mountain guide and porter.\r\nAfter months of careful planning, the expedition Lhakpa works for is about to leave.\r\nShe will be paid the value she carried to the base camp.\r\n\r\nIn front of her are many items, each with a value and weight.\r\nLhakpa would gladly take all of the items, but her knapsack can only hold so much weight.\r\n\r\n[sherpa]: https://en.wikipedia.org/wiki/Sherpa_people#Mountaineering\r\n",
    "instructions": "# Instructions\r\n\r\nYour task is to determine which items to take so that the total value of her selection is maximized, taking into account the knapsack's carrying capacity.\r\n\r\nItems will be represented as a list of items.\r\nEach item will have a weight and value.\r\nAll values given will be strictly positive.\r\nLhakpa can take only one of each item.\r\n\r\nFor example:\r\n\r\n```text\r\nItems: [\r\n  { \"weight\": 5, \"value\": 10 },\r\n  { \"weight\": 4, \"value\": 40 },\r\n  { \"weight\": 6, \"value\": 30 },\r\n  { \"weight\": 4, \"value\": 50 }\r\n]\r\n\r\nKnapsack Maximum Weight: 10\r\n```\r\n\r\nFor the above, the first item has weight 5 and value 10, the second item has weight 4 and value 40, and so on.\r\nIn this example, Lhakpa should take the second and fourth item to maximize her value, which, in this case, is 90.\r\nShe cannot get more than 90 as her knapsack has a weight limit of 10.\r\n",
    "hints": ""
  },
  "starter_code": {
    "knapsack.c": "#include \"knapsack.h\"\r\n",
    "knapsack.h": "#ifndef KNAPSACK_H\r\n#define KNAPSACK_H\r\n\r\ntypedef struct {\r\n   unsigned int weight;\r\n   unsigned int value;\r\n} item_t;\r\n\r\n#endif\r\n"
  },
  "tests": {
    "test_knapsack.c": "#include <stddef.h>\r\n#include \"test-framework/unity.h\"\r\n#include \"knapsack.h\"\r\n\r\nvoid setUp(void)\r\n{\r\n}\r\n\r\nvoid tearDown(void)\r\n{\r\n}\r\n\r\nstatic void test_no_items(void)\r\n{\r\n   item_t *items = NULL;\r\n   size_t item_count = 0;\r\n   unsigned int maximum_weight = 100;\r\n\r\n   TEST_ASSERT_EQUAL_UINT(0, maximum_value(maximum_weight, items, item_count));\r\n}\r\n\r\nstatic void test_one_item_too_heavy(void)\r\n{\r\n   TEST_IGNORE();   // delete this line to run test\r\n\r\n   item_t items[] = {\r\n      { .weight = 100, .value = 1 },\r\n   };\r\n   size_t item_count = sizeof(items) / sizeof(items[0]);\r\n   unsigned int maximum_weight = 10;\r\n\r\n   TEST_ASSERT_EQUAL_UINT(0, maximum_value(maximum_weight, items, item_count));\r\n}\r\n\r\nstatic void test_five_items_cannot_be_greedy_by_weight(void)\r\n{\r\n   TEST_IGNORE();\r\n\r\n   item_t items[] = {\r\n      { .weight = 2, .value = 5 },   { .weight = 2, .value = 5 },\r\n      { .weight = 2, .value = 5 },   { .weight = 2, .value = 5 },\r\n      { .weight = 10, .value = 21 },\r\n   };\r\n   size_t item_count = sizeof(items) / sizeof(items[0]);\r\n   unsigned int maximum_weight = 10;\r\n\r\n   TEST_ASSERT_EQUAL_UINT(21, maximum_value(maximum_weight, items, item_count));\r\n}\r\n\r\nstatic void test_five_items_cannot_be_greedy_by_value(void)\r\n{\r\n   TEST_IGNORE();\r\n\r\n   item_t items[] = {\r\n      { .weight = 2, .value = 20 },  { .weight = 2, .value = 20 },\r\n      { .weight = 2, .value = 20 },  { .weight = 2, .value = 20 },\r\n      { .weight = 10, .value = 50 },\r\n   };\r\n   size_t item_count = sizeof(items) / sizeof(items[0]);\r\n   unsigned int maximum_weight = 10;\r\n\r\n   TEST_ASSERT_EQUAL_UINT(80, maximum_value(maximum_weight, items, item_count));\r\n}\r\n\r\nstatic void test_example_knapsack(void)\r\n{\r\n   TEST_IGNORE();\r\n\r\n   item_t items[] = {\r\n      { .weight = 5, .value = 10 },\r\n      { .weight = 4, .value = 40 },\r\n      { .weight = 6, .value = 30 },\r\n      { .weight = 4, .value = 50 },\r\n   };\r\n   size_t item_count = sizeof(items) / sizeof(items[0]);\r\n   unsigned int maximum_weight = 10;\r\n\r\n   TEST_ASSERT_EQUAL_UINT(90, maximum_value(maximum_weight, items, item_count));\r\n}\r\n\r\nstatic void test_eight_items(void)\r\n{\r\n   TEST_IGNORE();\r\n\r\n   item_t items[] = {\r\n      { .weight = 5, .value = 10 },   { .weight = 25, .value = 350 },\r\n      { .weight = 35, .value = 400 }, { .weight = 45, .value = 450 },\r\n      { .weight = 5, .value = 20 },   { .weight = 25, .value = 70 },\r\n      { .weight = 3, .value = 8 },    { .weight = 2, .value = 5 },\r\n      { .weight = 2, .value = 5 },\r\n   };\r\n   size_t item_count = sizeof(items) / sizeof(items[0]);\r\n   unsigned int maximum_weight = 104;\r\n\r\n   TEST_ASSERT_EQUAL_UINT(900,\r\n                          maximum_value(maximum_weight, items, item_count));\r\n}\r\n\r\nstatic void test_fifteen_items(void)\r\n{\r\n   TEST_IGNORE();\r\n\r\n   item_t items[] = {\r\n      { .weight = 70, .value = 135 },  { .weight = 73, .value = 139 },\r\n      { .weight = 77, .value = 149 },  { .weight = 80, .value = 150 },\r\n      { .weight = 82, .value = 156 },  { .weight = 87, .value = 163 },\r\n      { .weight = 90, .value = 173 },  { .weight = 94, .value = 184 },\r\n      { .weight = 98, .value = 192 },  { .weight = 106, .value = 201 },\r\n      { .weight = 110, .value = 210 }, { .weight = 113, .value = 214 },\r\n      { .weight = 115, .value = 221 }, { .weight = 118, .value = 229 },\r\n      { .weight = 120, .value = 240 },\r\n   };\r\n   size_t item_count = sizeof(items) / sizeof(items[0]);\r\n   unsigned int maximum_weight = 750;\r\n\r\n   TEST_ASSERT_EQUAL_UINT(1458,\r\n                          maximum_value(maximum_weight, items, item_count));\r\n}\r\n\r\nint main(void)\r\n{\r\n   UNITY_BEGIN();\r\n\r\n   RUN_TEST(test_no_items);\r\n   RUN_TEST(test_one_item_too_heavy);\r\n   RUN_TEST(test_five_items_cannot_be_greedy_by_weight);\r\n   RUN_TEST(test_five_items_cannot_be_greedy_by_value);\r\n   RUN_TEST(test_example_knapsack);\r\n   RUN_TEST(test_eight_items);\r\n   RUN_TEST(test_fifteen_items);\r\n\r\n   return UNITY_END();\r\n}\r\n"
  }
}
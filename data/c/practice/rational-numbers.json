{
  "language": "c",
  "slug": "rational-numbers",
  "docs": {
    "introduction": "",
    "instructions": "# Instructions\r\n\r\nA rational number is defined as the quotient of two integers `a` and `b`, called the numerator and denominator, respectively, where `b != 0`.\r\n\r\n~~~~exercism/note\r\nNote that mathematically, the denominator can't be zero.\r\nHowever in many implementations of rational numbers, you will find that the denominator is allowed to be zero with behaviour similar to positive or negative infinity in floating point numbers.\r\nIn those cases, the denominator and numerator generally still can't both be zero at once.\r\n~~~~\r\n\r\nThe absolute value `|r|` of the rational number `r = a/b` is equal to `|a|/|b|`.\r\n\r\nThe sum of two rational numbers `r₁ = a₁/b₁` and `r₂ = a₂/b₂` is `r₁ + r₂ = a₁/b₁ + a₂/b₂ = (a₁ * b₂ + a₂ * b₁) / (b₁ * b₂)`.\r\n\r\nThe difference of two rational numbers `r₁ = a₁/b₁` and `r₂ = a₂/b₂` is `r₁ - r₂ = a₁/b₁ - a₂/b₂ = (a₁ * b₂ - a₂ * b₁) / (b₁ * b₂)`.\r\n\r\nThe product (multiplication) of two rational numbers `r₁ = a₁/b₁` and `r₂ = a₂/b₂` is `r₁ * r₂ = (a₁ * a₂) / (b₁ * b₂)`.\r\n\r\nDividing a rational number `r₁ = a₁/b₁` by another `r₂ = a₂/b₂` is `r₁ / r₂ = (a₁ * b₂) / (a₂ * b₁)` if `a₂` is not zero.\r\n\r\nExponentiation of a rational number `r = a/b` to a non-negative integer power `n` is `r^n = (a^n)/(b^n)`.\r\n\r\nExponentiation of a rational number `r = a/b` to a negative integer power `n` is `r^n = (b^m)/(a^m)`, where `m = |n|`.\r\n\r\nExponentiation of a rational number `r = a/b` to a real (floating-point) number `x` is the quotient `(a^x)/(b^x)`, which is a real number.\r\n\r\nExponentiation of a real number `x` to a rational number `r = a/b` is `x^(a/b) = root(x^a, b)`, where `root(p, q)` is the `q`th root of `p`.\r\n\r\nImplement the following operations:\r\n\r\n- addition, subtraction, multiplication and division of two rational numbers,\r\n- absolute value, exponentiation of a given rational number to an integer power, exponentiation of a given rational number to a real (floating-point) power, exponentiation of a real number to a rational number.\r\n\r\nYour implementation of rational numbers should always be reduced to lowest terms.\r\nFor example, `4/4` should reduce to `1/1`, `30/60` should reduce to `1/2`, `12/8` should reduce to `3/2`, etc.\r\nTo reduce a rational number `r = a/b`, divide `a` and `b` by the greatest common divisor (gcd) of `a` and `b`.\r\nSo, for example, `gcd(12, 8) = 4`, so `r = 12/8` can be reduced to `(12/4)/(8/4) = 3/2`.\r\nThe reduced form of a rational number should be in \"standard form\" (the denominator should always be a positive integer).\r\nIf a denominator with a negative integer is present, multiply both numerator and denominator by `-1` to ensure standard form is reached.\r\nFor example, `3/-4` should be reduced to `-3/4`\r\n\r\nAssume that the programming language you are using does not have an implementation of rational numbers.\r\n",
    "hints": ""
  },
  "starter_code": {
    "rational_numbers.c": "#include \"rational_numbers.h\"\r\n",
    "rational_numbers.h": "#ifndef RATIONAL_NUMBERS_H\r\n#define RATIONAL_NUMBERS_H\r\n\r\n#endif\r\n"
  },
  "tests": {
    "test_rational_numbers.c": "#include \"test-framework/unity.h\"\r\n#include \"rational_numbers.h\"\r\n\r\nvoid setUp(void)\r\n{\r\n}\r\n\r\nvoid tearDown(void)\r\n{\r\n}\r\n\r\nstatic void check_rational_numbers_equal(rational_t expected, rational_t actual)\r\n{\r\n   TEST_ASSERT_EQUAL_INT16_MESSAGE(expected.numerator, actual.numerator,\r\n                                   \"Incorrect numerator.\");\r\n   TEST_ASSERT_EQUAL_INT16_MESSAGE(expected.denominator, actual.denominator,\r\n                                   \"Incorrect denominator.\");\r\n}\r\n\r\nstatic void test_add_two_positive_rational_numbers(void)\r\n{\r\n   rational_t r1 = { 1, 2 };\r\n   rational_t r2 = { 2, 3 };\r\n   rational_t expected = { 7, 6 };\r\n   rational_t actual = add(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_add_positive_and_negative_rational_numbers(void)\r\n{\r\n   TEST_IGNORE();   // delete this line to run test\r\n   rational_t r1 = { 1, 2 };\r\n   rational_t r2 = { -2, 3 };\r\n   rational_t expected = { -1, 6 };\r\n   rational_t actual = add(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_add_two_negative_rational_numbers(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r1 = { -1, 2 };\r\n   rational_t r2 = { -2, 3 };\r\n   rational_t expected = { -7, 6 };\r\n   rational_t actual = add(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_add_rational_number_to_additive_inverse(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r1 = { 1, 2 };\r\n   rational_t r2 = { -1, 2 };\r\n   rational_t expected = { 0, 1 };\r\n   rational_t actual = add(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_subtract_two_positive_rational_numbers(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r1 = { 1, 2 };\r\n   rational_t r2 = { 2, 3 };\r\n   rational_t expected = { -1, 6 };\r\n   rational_t actual = subtract(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_subtract_positive_and_negative_rational_numbers(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r1 = { 1, 2 };\r\n   rational_t r2 = { -2, 3 };\r\n   rational_t expected = { 7, 6 };\r\n   rational_t actual = subtract(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_subtract_two_negative_rational_numbers(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r1 = { -1, 2 };\r\n   rational_t r2 = { -2, 3 };\r\n   rational_t expected = { 1, 6 };\r\n   rational_t actual = subtract(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_subtract_rational_number_from_itself(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r1 = { 1, 2 };\r\n   rational_t r2 = { 1, 2 };\r\n   rational_t expected = { 0, 1 };\r\n   rational_t actual = subtract(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_multiply_two_positive_rational_numbers(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r1 = { 1, 2 };\r\n   rational_t r2 = { 2, 3 };\r\n   rational_t expected = { 1, 3 };\r\n   rational_t actual = multiply(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_multiply_positive_and_negative_rational_numbers(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r1 = { -1, 2 };\r\n   rational_t r2 = { 2, 3 };\r\n   rational_t expected = { -1, 3 };\r\n   rational_t actual = multiply(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_multiply_two_negative_rational_numbers(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r1 = { -1, 2 };\r\n   rational_t r2 = { -2, 3 };\r\n   rational_t expected = { 1, 3 };\r\n   rational_t actual = multiply(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_multiply_rational_number_by_reciprocal(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r1 = { 1, 2 };\r\n   rational_t r2 = { 2, 1 };\r\n   rational_t expected = { 1, 1 };\r\n   rational_t actual = multiply(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_multiply_rational_number_by_one(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r1 = { 1, 2 };\r\n   rational_t r2 = { 1, 1 };\r\n   rational_t expected = { 1, 2 };\r\n   rational_t actual = multiply(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_multiply_rational_number_by_zero(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r1 = { 1, 2 };\r\n   rational_t r2 = { 0, 1 };\r\n   rational_t expected = { 0, 1 };\r\n   rational_t actual = multiply(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_divide_two_positive_rational_numbers(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r1 = { 1, 2 };\r\n   rational_t r2 = { 2, 3 };\r\n   rational_t expected = { 3, 4 };\r\n   rational_t actual = divide(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_divide_positive_and_negative_rational_numbers(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r1 = { 1, 2 };\r\n   rational_t r2 = { -2, 3 };\r\n   rational_t expected = { -3, 4 };\r\n   rational_t actual = divide(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_divide_two_negative_rational_numbers(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r1 = { -1, 2 };\r\n   rational_t r2 = { -2, 3 };\r\n   rational_t expected = { 3, 4 };\r\n   rational_t actual = divide(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_divide_rational_number_by_one(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r1 = { 1, 2 };\r\n   rational_t r2 = { 1, 1 };\r\n   rational_t expected = { 1, 2 };\r\n   rational_t actual = divide(r1, r2);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_absolute_value_of_positive_rational_number(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { 1, 2 };\r\n   rational_t expected = { 1, 2 };\r\n   rational_t actual = absolute(r);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void\r\ntest_absolute_value_of_positive_rational_with_negative_numerator_and_denominator(\r\n    void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { -1, -2 };\r\n   rational_t expected = { 1, 2 };\r\n   rational_t actual = absolute(r);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_absolute_value_of_negative_rational_number(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { -1, 2 };\r\n   rational_t expected = { 1, 2 };\r\n   rational_t actual = absolute(r);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void\r\ntest_absolute_value_of_negative_rational_number_with_negative_denominator(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { 1, -2 };\r\n   rational_t expected = { 1, 2 };\r\n   rational_t actual = absolute(r);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_absolute_value_of_zero(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { 0, 1 };\r\n   rational_t expected = { 0, 1 };\r\n   rational_t actual = absolute(r);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_absolute_value_of_rational_number_reduced_to_lowest_terms(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { 2, 4 };\r\n   rational_t expected = { 1, 2 };\r\n   rational_t actual = absolute(r);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_raise_positive_rational_number_to_positive_integer_power(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { 1, 2 };\r\n   int16_t n = 3;\r\n   rational_t expected = { 1, 8 };\r\n   rational_t actual = exp_rational(r, n);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_raise_negative_rational_number_to_positive_integer_power(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { -1, 2 };\r\n   int16_t n = 3;\r\n   rational_t expected = { -1, 8 };\r\n   rational_t actual = exp_rational(r, n);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_raise_positive_rational_number_to_negative_integer_power(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { 3, 5 };\r\n   int16_t n = -2;\r\n   rational_t expected = { 25, 9 };\r\n   rational_t actual = exp_rational(r, n);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void\r\ntest_raise_negative_rational_number_to_even_negative_integer_power(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { -3, 5 };\r\n   int16_t n = -2;\r\n   rational_t expected = { 25, 9 };\r\n   rational_t actual = exp_rational(r, n);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void\r\ntest_raise_negative_rational_number_to_odd_negative_integer_power(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { -3, 5 };\r\n   int16_t n = -3;\r\n   rational_t expected = { -125, 27 };\r\n   rational_t actual = exp_rational(r, n);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_raise_zero_to_integer_power(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { 0, 1 };\r\n   int16_t n = 5;\r\n   rational_t expected = { 0, 1 };\r\n   rational_t actual = exp_rational(r, n);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_raise_one_to_integer_power(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { 1, 1 };\r\n   int16_t n = 4;\r\n   rational_t expected = { 1, 1 };\r\n   rational_t actual = exp_rational(r, n);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_raise_positive_rational_number_to_power_of_zero(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { 1, 2 };\r\n   int16_t n = 0;\r\n   rational_t expected = { 1, 1 };\r\n   rational_t actual = exp_rational(r, n);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_raise_negative_rational_number_to_power_of_zero(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { -1, 2 };\r\n   int16_t n = 0;\r\n   rational_t expected = { 1, 1 };\r\n   rational_t actual = exp_rational(r, n);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_raise_real_number_to_positive_rational_number(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint16_t x = 8;\r\n   rational_t r = { 4, 3 };\r\n   float delta = 0.05;\r\n   float expected = 16.0;\r\n   float actual = exp_real(x, r);\r\n   TEST_ASSERT_FLOAT_WITHIN(delta, expected, actual);\r\n}\r\n\r\nstatic void test_raise_real_number_to_negative_rational_number(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint16_t x = 9;\r\n   rational_t r = { -1, 2 };\r\n   float delta = 0.000005;\r\n   float expected = 0.3333333333333333;\r\n   float actual = exp_real(x, r);\r\n   TEST_ASSERT_FLOAT_WITHIN(delta, expected, actual);\r\n}\r\n\r\nstatic void test_raise_real_number_to_zero_rational_number(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint16_t x = 2;\r\n   rational_t r = { 0, 1 };\r\n   float delta = 0.000005;\r\n   float expected = 1.0;\r\n   float actual = exp_real(x, r);\r\n   TEST_ASSERT_FLOAT_WITHIN(delta, expected, actual);\r\n}\r\n\r\nstatic void test_reduce_positive_rational_number_to_lowest_terms(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { 2, 4 };\r\n   rational_t expected = { 1, 2 };\r\n   rational_t actual = reduce(r);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_reduce_places_minus_sign_on_numerator(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { 3, -4 };\r\n   rational_t expected = { -3, 4 };\r\n   rational_t actual = reduce(r);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_reduce_negative_rational_number_to_lowest_terms(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { -4, 6 };\r\n   rational_t expected = { -2, 3 };\r\n   rational_t actual = reduce(r);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void\r\ntest_reduce_rational_number_with_negative_denominator_to_lowest_terms(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { 3, -9 };\r\n   rational_t expected = { -1, 3 };\r\n   rational_t actual = reduce(r);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_reduce_zero_to_lowest_terms(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { 0, 6 };\r\n   rational_t expected = { 0, 1 };\r\n   rational_t actual = reduce(r);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_reduce_integer_to_lowest_terms(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { -14, 7 };\r\n   rational_t expected = { -2, 1 };\r\n   rational_t actual = reduce(r);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nstatic void test_reduce_one_to_lowest_terms(void)\r\n{\r\n   TEST_IGNORE();\r\n   rational_t r = { 13, 13 };\r\n   rational_t expected = { 1, 1 };\r\n   rational_t actual = reduce(r);\r\n   check_rational_numbers_equal(expected, actual);\r\n}\r\n\r\nint main(void)\r\n{\r\n   UNITY_BEGIN();\r\n\r\n   RUN_TEST(test_add_two_positive_rational_numbers);\r\n   RUN_TEST(test_add_positive_and_negative_rational_numbers);\r\n   RUN_TEST(test_add_two_negative_rational_numbers);\r\n   RUN_TEST(test_add_rational_number_to_additive_inverse);\r\n   RUN_TEST(test_subtract_two_positive_rational_numbers);\r\n   RUN_TEST(test_subtract_positive_and_negative_rational_numbers);\r\n   RUN_TEST(test_subtract_two_negative_rational_numbers);\r\n   RUN_TEST(test_subtract_rational_number_from_itself);\r\n   RUN_TEST(test_multiply_two_positive_rational_numbers);\r\n   RUN_TEST(test_multiply_positive_and_negative_rational_numbers);\r\n   RUN_TEST(test_multiply_two_negative_rational_numbers);\r\n   RUN_TEST(test_multiply_rational_number_by_reciprocal);\r\n   RUN_TEST(test_multiply_rational_number_by_one);\r\n   RUN_TEST(test_multiply_rational_number_by_zero);\r\n   RUN_TEST(test_divide_two_positive_rational_numbers);\r\n   RUN_TEST(test_divide_positive_and_negative_rational_numbers);\r\n   RUN_TEST(test_divide_two_negative_rational_numbers);\r\n   RUN_TEST(test_divide_rational_number_by_one);\r\n   RUN_TEST(test_absolute_value_of_positive_rational_number);\r\n   RUN_TEST(\r\n       test_absolute_value_of_positive_rational_with_negative_numerator_and_denominator);\r\n   RUN_TEST(test_absolute_value_of_negative_rational_number);\r\n   RUN_TEST(\r\n       test_absolute_value_of_negative_rational_number_with_negative_denominator);\r\n   RUN_TEST(test_absolute_value_of_zero);\r\n   RUN_TEST(test_absolute_value_of_rational_number_reduced_to_lowest_terms);\r\n   RUN_TEST(test_raise_positive_rational_number_to_positive_integer_power);\r\n   RUN_TEST(test_raise_negative_rational_number_to_positive_integer_power);\r\n   RUN_TEST(test_raise_positive_rational_number_to_negative_integer_power);\r\n   RUN_TEST(test_raise_negative_rational_number_to_even_negative_integer_power);\r\n   RUN_TEST(test_raise_negative_rational_number_to_odd_negative_integer_power);\r\n   RUN_TEST(test_raise_zero_to_integer_power);\r\n   RUN_TEST(test_raise_one_to_integer_power);\r\n   RUN_TEST(test_raise_positive_rational_number_to_power_of_zero);\r\n   RUN_TEST(test_raise_negative_rational_number_to_power_of_zero);\r\n   RUN_TEST(test_raise_real_number_to_positive_rational_number);\r\n   RUN_TEST(test_raise_real_number_to_negative_rational_number);\r\n   RUN_TEST(test_raise_real_number_to_zero_rational_number);\r\n   RUN_TEST(test_reduce_positive_rational_number_to_lowest_terms);\r\n   RUN_TEST(test_reduce_places_minus_sign_on_numerator);\r\n   RUN_TEST(test_reduce_negative_rational_number_to_lowest_terms);\r\n   RUN_TEST(\r\n       test_reduce_rational_number_with_negative_denominator_to_lowest_terms);\r\n   RUN_TEST(test_reduce_zero_to_lowest_terms);\r\n   RUN_TEST(test_reduce_integer_to_lowest_terms);\r\n   RUN_TEST(test_reduce_one_to_lowest_terms);\r\n\r\n   return UNITY_END();\r\n}\r\n"
  }
}
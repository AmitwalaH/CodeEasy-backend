{
  "language": "c",
  "slug": "pascals-triangle",
  "docs": {
    "introduction": "# Introduction\r\n\r\nWith the weather being great, you're not looking forward to spending an hour in a classroom.\r\nAnnoyed, you enter the class room, where you notice a strangely satisfying triangle shape on the blackboard.\r\nWhilst waiting for your math teacher to arrive, you can't help but notice some patterns in the triangle: the outer values are all ones, each subsequent row has one more value than its previous row and the triangle is symmetrical.\r\nWeird!\r\n\r\nNot long after you sit down, your teacher enters the room and explains that this triangle is the famous [Pascal's triangle][wikipedia].\r\n\r\nOver the next hour, your teacher reveals some amazing things hidden in this triangle:\r\n\r\n- It can be used to compute how many ways you can pick K elements from N values.\r\n- It contains the Fibonacci sequence.\r\n- If you color odd and even numbers differently, you get a beautiful pattern called the [Sierpi≈Ñski triangle][wikipedia-sierpinski-triangle].\r\n\r\nThe teacher implores you and your classmates to look up other uses, and assures you that there are lots more!\r\nAt that moment, the school bell rings.\r\nYou realize that for the past hour, you were completely absorbed in learning about Pascal's triangle.\r\nYou quickly grab your laptop from your bag and go outside, ready to enjoy both the sunshine _and_ the wonders of Pascal's triangle.\r\n\r\n[wikipedia]: https://en.wikipedia.org/wiki/Pascal%27s_triangle\r\n[wikipedia-sierpinski-triangle]: https://en.wikipedia.org/wiki/Sierpi%C5%84ski_triangle\r\n",
    "instructions": "# Instructions\r\n\r\nYour task is to output the first N rows of Pascal's triangle.\r\n\r\n[Pascal's triangle][wikipedia] is a triangular array of positive integers.\r\n\r\nIn Pascal's triangle, the number of values in a row is equal to its row number (which starts at one).\r\nTherefore, the first row has one value, the second row has two values, and so on.\r\n\r\nThe first (topmost) row has a single value: `1`.\r\nSubsequent rows' values are computed by adding the numbers directly to the right and left of the current position in the previous row.\r\n\r\nIf the previous row does _not_ have a value to the left or right of the current position (which only happens for the leftmost and rightmost positions), treat that position's value as zero (effectively \"ignoring\" it in the summation).\r\n\r\n## Example\r\n\r\nLet's look at the first 5 rows of Pascal's Triangle:\r\n\r\n```text\r\n    1\r\n   1 1\r\n  1 2 1\r\n 1 3 3 1\r\n1 4 6 4 1\r\n```\r\n\r\nThe topmost row has one value, which is `1`.\r\n\r\nThe leftmost and rightmost values have only one preceding position to consider, which is the position to its right respectively to its left.\r\nWith the topmost value being `1`, it follows from this that all the leftmost and rightmost values are also `1`.\r\n\r\nThe other values all have two positions to consider.\r\nFor example, the fifth row's (`1 4 6 4 1`) middle value is `6`, as the values to its left and right in the preceding row are `3` and `3`:\r\n\r\n[wikipedia]: https://en.wikipedia.org/wiki/Pascal%27s_triangle\r\n",
    "hints": ""
  },
  "starter_code": {
    "pascals_triangle.c": "#include \"pascals_triangle.h\"\r\n",
    "pascals_triangle.h": "#ifndef PASCALS_TRIANGLE_H\r\n#define PASCALS_TRIANGLE_H\r\n\r\n#include <stddef.h>\r\n#include <stdint.h>\r\n\r\nvoid free_triangle(uint8_t **triangle, size_t rows);\r\nuint8_t **create_triangle(size_t rows);\r\n\r\n#endif\r\n"
  },
  "tests": {
    "test_pascals_triangle.c": "#include <stdbool.h>\r\n#include <stdint.h>\r\n#include <stddef.h>\r\n#include <stdlib.h>\r\n#include \"test-framework/unity.h\"\r\n#include \"pascals_triangle.h\"\r\n\r\nuint8_t **actual = NULL;\r\nsize_t count = 0;\r\n\r\nvoid setUp(void)\r\n{\r\n}\r\n\r\nvoid tearDown(void)\r\n{\r\n   if (actual) {\r\n      for (size_t i = 0; i < count; ++i) {\r\n         if (actual[i]) {\r\n            free(actual[i]);\r\n            actual[i] = NULL;\r\n         }\r\n      }\r\n      free(actual);\r\n      actual = NULL;\r\n   }\r\n}\r\n\r\nstatic bool check_triangle(size_t count, uint8_t expected[][count],\r\n                           uint8_t **actual)\r\n{\r\n   if (!actual)\r\n      return false;\r\n\r\n   for (size_t i = 0; i < count; i++)\r\n      for (size_t j = 0; j < count; j++)\r\n         if (expected[i][j] != actual[i][j])\r\n            return false;\r\n\r\n   return true;\r\n}\r\n\r\nstatic void test_no_rows(void)\r\n{\r\n   uint8_t expected[1][1] = { { 0 } };\r\n   actual = create_triangle(0);\r\n   TEST_ASSERT_TRUE(check_triangle((count = 1), expected, actual));\r\n   free_triangle(actual, 1);\r\n   actual = NULL;\r\n}\r\n\r\nstatic void test_single_row(void)\r\n{\r\n   TEST_IGNORE();   // delete this line to run test\r\n   uint8_t expected[1][1] = { { 1 } };\r\n   actual = create_triangle(1);\r\n   TEST_ASSERT_TRUE(check_triangle((count = 1), expected, actual));\r\n   free_triangle(actual, 1);\r\n   actual = NULL;\r\n}\r\n\r\nstatic void test_two_rows(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint8_t expected[2][2] = {\r\n      // clang-format off\r\n      {1, 0},\r\n      {1, 1}\r\n      // clang-format on\r\n   };\r\n   actual = create_triangle(2);\r\n   TEST_ASSERT_TRUE(check_triangle((count = 2), expected, actual));\r\n   free_triangle(actual, 2);\r\n   actual = NULL;\r\n}\r\n\r\nstatic void test_three_rows(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint8_t expected[3][3] = {\r\n      // clang-format off\r\n      {1, 0, 0},\r\n      {1, 1, 0},\r\n      {1, 2, 1}\r\n      // clang-format on\r\n   };\r\n   actual = create_triangle(3);\r\n   TEST_ASSERT_TRUE(check_triangle((count = 3), expected, actual));\r\n   free_triangle(actual, 3);\r\n   actual = NULL;\r\n}\r\n\r\nstatic void test_four_rows(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint8_t expected[4][4] = {\r\n      // clang-format off\r\n      {1, 0, 0, 0},\r\n      {1, 1, 0, 0},\r\n      {1, 2, 1, 0},\r\n      {1, 3, 3, 1}\r\n      // clang-format on\r\n   };\r\n   actual = create_triangle(4);\r\n   TEST_ASSERT_TRUE(check_triangle((count = 4), expected, actual));\r\n   free_triangle(actual, 4);\r\n   actual = NULL;\r\n}\r\n\r\nstatic void test_five_rows(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint8_t expected[5][5] = {\r\n      // clang-format off\r\n      {1, 0, 0, 0, 0},\r\n      {1, 1, 0, 0, 0},\r\n      {1, 2, 1, 0, 0},\r\n      {1, 3, 3, 1, 0},\r\n      {1, 4, 6, 4, 1}\r\n      // clang-format on\r\n   };\r\n   actual = create_triangle(5);\r\n   TEST_ASSERT_TRUE(check_triangle((count = 5), expected, actual));\r\n   free_triangle(actual, 5);\r\n   actual = NULL;\r\n}\r\n\r\nstatic void test_six_rows(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint8_t expected[6][6] = {\r\n      // clang-format off\r\n      {1, 0, 0, 0, 0, 0},\r\n      {1, 1, 0, 0, 0, 0},\r\n      {1, 2, 1, 0, 0, 0},\r\n      {1, 3, 3, 1, 0, 0},\r\n      {1, 4, 6, 4, 1, 0},\r\n      {1, 5, 10, 10, 5, 1},\r\n      // clang-format on\r\n   };\r\n   actual = create_triangle(6);\r\n   TEST_ASSERT_TRUE(check_triangle((count = 6), expected, actual));\r\n   free_triangle(actual, 6);\r\n   actual = NULL;\r\n}\r\n\r\nstatic void test_ten_rows(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint8_t expected[10][10] = {\r\n      // clang-format off\r\n      {1, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n      {1, 1, 0, 0, 0, 0, 0, 0, 0, 0},\r\n      {1, 2, 1, 0, 0, 0, 0, 0, 0, 0},\r\n      {1, 3, 3, 1, 0, 0, 0, 0, 0, 0},\r\n      {1, 4, 6, 4, 1, 0, 0, 0, 0, 0},\r\n      {1, 5, 10, 10, 5, 1, 0, 0, 0, 0},\r\n      {1, 6, 15, 20, 15, 6, 1, 0, 0, 0},\r\n      {1, 7, 21, 35, 35, 21, 7, 1, 0, 0},\r\n      {1, 8, 28, 56, 70, 56, 28, 8, 1, 0},\r\n      {1, 9, 36, 84, 126, 126, 84, 36, 9, 1}\r\n      // clang-format off\r\n   };\r\n   actual = create_triangle(10);\r\n   TEST_ASSERT_TRUE(check_triangle((count = 10), expected, actual));\r\n   free_triangle(actual, 10);\r\n   actual = NULL;\r\n}\r\n\r\nint main(void)\r\n{\r\n   UNITY_BEGIN();\r\n\r\n   RUN_TEST(test_no_rows);\r\n   RUN_TEST(test_single_row);\r\n   RUN_TEST(test_two_rows);\r\n   RUN_TEST(test_three_rows);\r\n   RUN_TEST(test_four_rows);\r\n   RUN_TEST(test_five_rows);\r\n   RUN_TEST(test_six_rows);\r\n   RUN_TEST(test_ten_rows);\r\n\r\n   return UNITY_END();\r\n}\r\n"
  }
}
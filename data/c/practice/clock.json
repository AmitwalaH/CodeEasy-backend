{
  "language": "c",
  "slug": "clock",
  "docs": {
    "introduction": "",
    "instructions": "# Instructions\r\n\r\nImplement a clock that handles times without dates.\r\n\r\nYou should be able to add and subtract minutes to it.\r\n\r\nTwo clocks that represent the same time should be equal to each other.\r\n",
    "hints": ""
  },
  "starter_code": {
    "clock.c": "#include \"clock.h\"\r\n",
    "clock.h": "#ifndef CLOCK_H\r\n#define CLOCK_H\r\n\r\n#include <stdbool.h>\r\n\r\n#define MAX_STR_LEN sizeof(\"##:##\")\r\n\r\ntypedef struct {\r\n   char text[MAX_STR_LEN];\r\n} clock_t;\r\n\r\nclock_t clock_create(int hour, int minute);\r\nclock_t clock_add(clock_t clock, int minute_add);\r\nclock_t clock_subtract(clock_t clock, int minute_subtract);\r\nbool clock_is_equal(clock_t a, clock_t b);\r\n\r\n#endif\r\n"
  },
  "tests": {
    "test_clock.c": "#include <stdbool.h>\r\n#include <stdlib.h>\r\n#include <string.h>\r\n\r\n#include \"test-framework/unity.h\"\r\n#include \"clock.h\"\r\n\r\nvoid setUp(void)\r\n{\r\n}\r\n\r\nvoid tearDown(void)\r\n{\r\n}\r\n\r\n// test helper functions that test expected results\r\nstatic void test_create(clock_t expected, int hour, int minute)\r\n{\r\n   clock_t actual = clock_create(hour, minute);\r\n   TEST_ASSERT_EQUAL_STRING(expected.text, actual.text);\r\n}\r\n\r\nstatic void test_add(clock_t expected, int hour, int minute, int minute_add)\r\n{\r\n   clock_t actual = clock_create(hour, minute);\r\n   actual = clock_add(actual, minute_add);\r\n   TEST_ASSERT_EQUAL_STRING(expected.text, actual.text);\r\n}\r\n\r\nstatic void test_subtract(clock_t expected, int hour, int minute,\r\n                          int minute_subtract)\r\n{\r\n   clock_t actual = clock_create(hour, minute);\r\n   actual = clock_subtract(actual, minute_subtract);\r\n   TEST_ASSERT_EQUAL_STRING(expected.text, actual.text);\r\n}\r\n\r\nstatic void test_compare(bool expected, int a_hour, int a_minute, int b_hour,\r\n                         int b_minute)\r\n{\r\n   clock_t a = clock_create(a_hour, a_minute);\r\n   clock_t b = clock_create(b_hour, b_minute);\r\n   bool actual = clock_is_equal(a, b);\r\n\r\n   if (expected) {\r\n      TEST_ASSERT_TRUE(actual);\r\n   } else {\r\n      TEST_ASSERT_FALSE(actual);\r\n   }\r\n}\r\n\r\n// the tests\r\nstatic void test_on_the_hour(void)\r\n{\r\n   int hour = 8, minute = 0;\r\n   clock_t expected = { \"08:00\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_past_the_hour(void)\r\n{\r\n   TEST_IGNORE();   // delete this line to run test\r\n   int hour = 11, minute = 9;\r\n   clock_t expected = { \"11:09\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_midnight_is_zero_hours(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 24, minute = 0;\r\n   clock_t expected = { \"00:00\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_hour_rolls_over(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 25, minute = 0;\r\n   clock_t expected = { \"01:00\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_hour_rolls_over_continuously(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 100, minute = 0;\r\n   clock_t expected = { \"04:00\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_sixty_minutes_is_next_hour(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 1, minute = 60;\r\n   clock_t expected = { \"02:00\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_minutes_roll_over(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 0, minute = 160;\r\n   clock_t expected = { \"02:40\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_minutes_roll_over_continuously(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 0, minute = 1723;\r\n   clock_t expected = { \"04:43\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_hour_and_minutes_roll_over(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 25, minute = 160;\r\n   clock_t expected = { \"03:40\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_hour_and_minutes_roll_over_continuously(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 201, minute = 3001;\r\n   clock_t expected = { \"11:01\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_hour_and_minutes_roll_over_to_exactly_midnight(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 72, minute = 8640;\r\n   clock_t expected = { \"00:00\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_negative_hour(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = -1, minute = 15;\r\n   clock_t expected = { \"23:15\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_negative_hour_rolls_over(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = -25, minute = 0;\r\n   clock_t expected = { \"23:00\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_negative_hour_rolls_over_continuously(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = -91, minute = 0;\r\n   clock_t expected = { \"05:00\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_negative_minutes(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 1, minute = -40;\r\n   clock_t expected = { \"00:20\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_negative_minutes_roll_over(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 1, minute = -160;\r\n   clock_t expected = { \"22:20\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_negative_minutes_roll_over_continuously(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 1, minute = -4820;\r\n   clock_t expected = { \"16:40\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_negative_sixty_minutes_is_previous_hour(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 2, minute = -60;\r\n   clock_t expected = { \"01:00\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_negative_hour_and_minutes_both_roll_over(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = -25, minute = -160;\r\n   clock_t expected = { \"20:20\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_negative_hour_and_minutes_both_roll_over_continuously(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = -121, minute = -5810;\r\n   clock_t expected = { \"22:10\" };\r\n\r\n   test_create(expected, hour, minute);\r\n}\r\n\r\nstatic void test_add_minutes(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 10, minute = 0, minute_add = 3;\r\n   clock_t expected = { \"10:03\" };\r\n\r\n   test_add(expected, hour, minute, minute_add);\r\n}\r\n\r\nstatic void test_add_no_minutes(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 6, minute = 41, minute_add = 0;\r\n   clock_t expected = { \"06:41\" };\r\n\r\n   test_add(expected, hour, minute, minute_add);\r\n}\r\n\r\nstatic void test_add_to_next_hour(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 0, minute = 45, minute_add = 40;\r\n   clock_t expected = { \"01:25\" };\r\n\r\n   test_add(expected, hour, minute, minute_add);\r\n}\r\n\r\nstatic void test_add_more_than_one_hour(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 10, minute = 0, minute_add = 61;\r\n   clock_t expected = { \"11:01\" };\r\n\r\n   test_add(expected, hour, minute, minute_add);\r\n}\r\n\r\nstatic void test_add_more_than_two_hours_with_carry(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 0, minute = 45, minute_add = 160;\r\n   clock_t expected = { \"03:25\" };\r\n\r\n   test_add(expected, hour, minute, minute_add);\r\n}\r\n\r\nstatic void test_add_across_midnight(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 23, minute = 59, minute_add = 2;\r\n   clock_t expected = { \"00:01\" };\r\n\r\n   test_add(expected, hour, minute, minute_add);\r\n}\r\n\r\nstatic void test_add_more_than_one_day(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 5, minute = 32, minute_add = 1500;\r\n   clock_t expected = { \"06:32\" };\r\n\r\n   test_add(expected, hour, minute, minute_add);\r\n}\r\n\r\nstatic void test_add_more_than_two_days(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 1, minute = 1, minute_add = 3500;\r\n   clock_t expected = { \"11:21\" };\r\n\r\n   test_add(expected, hour, minute, minute_add);\r\n}\r\n\r\nstatic void test_subtract_minutes(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 10, minute = 3, minute_subtract = 3;\r\n   clock_t expected = { \"10:00\" };\r\n\r\n   test_subtract(expected, hour, minute, minute_subtract);\r\n}\r\n\r\nstatic void test_subtract_to_previous_hour(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 10, minute = 3, minute_subtract = 30;\r\n   clock_t expected = { \"09:33\" };\r\n\r\n   test_subtract(expected, hour, minute, minute_subtract);\r\n}\r\n\r\nstatic void test_subtract_more_than_an_hour(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 10, minute = 3, minute_subtract = 70;\r\n   clock_t expected = { \"08:53\" };\r\n\r\n   test_subtract(expected, hour, minute, minute_subtract);\r\n}\r\n\r\nstatic void test_subtract_across_midnight(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 0, minute = 3, minute_subtract = 4;\r\n   clock_t expected = { \"23:59\" };\r\n\r\n   test_subtract(expected, hour, minute, minute_subtract);\r\n}\r\n\r\nstatic void test_subtract_more_than_two_hours(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 0, minute = 0, minute_subtract = 160;\r\n   clock_t expected = { \"21:20\" };\r\n\r\n   test_subtract(expected, hour, minute, minute_subtract);\r\n}\r\n\r\nstatic void test_subtract_more_than_two_hours_with_borrow(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 6, minute = 15, minute_subtract = 160;\r\n   clock_t expected = { \"03:35\" };\r\n\r\n   test_subtract(expected, hour, minute, minute_subtract);\r\n}\r\n\r\nstatic void test_subtract_more_than_one_day(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 5, minute = 32, minute_subtract = 1500;\r\n   clock_t expected = { \"04:32\" };\r\n\r\n   test_subtract(expected, hour, minute, minute_subtract);\r\n}\r\n\r\nstatic void test_subtract_more_than_two_days(void)\r\n{\r\n   TEST_IGNORE();\r\n   int hour = 2, minute = 20, minute_subtract = 3000;\r\n   clock_t expected = { \"00:20\" };\r\n\r\n   test_subtract(expected, hour, minute, minute_subtract);\r\n}\r\n\r\nstatic void test_compare_clocks_with_same_time(void)\r\n{\r\n   TEST_IGNORE();\r\n   int a_hour = 15, a_minute = 37;\r\n   int b_hour = 15, b_minute = 37;\r\n   bool expected = true;\r\n\r\n   test_compare(expected, a_hour, a_minute, b_hour, b_minute);\r\n}\r\n\r\nstatic void test_compare_clocks_a_minute_apart(void)\r\n{\r\n   TEST_IGNORE();\r\n   int a_hour = 15, a_minute = 36;\r\n   int b_hour = 15, b_minute = 37;\r\n   bool expected = false;\r\n\r\n   test_compare(expected, a_hour, a_minute, b_hour, b_minute);\r\n}\r\n\r\nstatic void test_compare_clocks_an_hour_apart(void)\r\n{\r\n   TEST_IGNORE();\r\n   int a_hour = 14, a_minute = 37;\r\n   int b_hour = 15, b_minute = 37;\r\n   bool expected = false;\r\n\r\n   test_compare(expected, a_hour, a_minute, b_hour, b_minute);\r\n}\r\n\r\nstatic void test_compare_clocks_with_hour_overflow(void)\r\n{\r\n   TEST_IGNORE();\r\n   int a_hour = 10, a_minute = 37;\r\n   int b_hour = 34, b_minute = 37;\r\n   bool expected = true;\r\n\r\n   test_compare(expected, a_hour, a_minute, b_hour, b_minute);\r\n}\r\n\r\nstatic void test_compare_clocks_with_hour_overflow_by_several_days(void)\r\n{\r\n   TEST_IGNORE();\r\n   int a_hour = 3, a_minute = 11;\r\n   int b_hour = 99, b_minute = 11;\r\n   bool expected = true;\r\n\r\n   test_compare(expected, a_hour, a_minute, b_hour, b_minute);\r\n}\r\n\r\nstatic void test_compare_clocks_with_negative_hour(void)\r\n{\r\n   TEST_IGNORE();\r\n   int a_hour = 22, a_minute = 40;\r\n   int b_hour = -2, b_minute = 40;\r\n   bool expected = true;\r\n\r\n   test_compare(expected, a_hour, a_minute, b_hour, b_minute);\r\n}\r\n\r\nstatic void test_compare_clocks_with_negative_hour_that_wraps(void)\r\n{\r\n   TEST_IGNORE();\r\n   int a_hour = 17, a_minute = 3;\r\n   int b_hour = -31, b_minute = 3;\r\n   bool expected = true;\r\n\r\n   test_compare(expected, a_hour, a_minute, b_hour, b_minute);\r\n}\r\n\r\nstatic void\r\ntest_compare_clocks_with_negative_hour_that_wraps_multiple_times(void)\r\n{\r\n   TEST_IGNORE();\r\n   int a_hour = 13, a_minute = 49;\r\n   int b_hour = -83, b_minute = 49;\r\n   bool expected = true;\r\n\r\n   test_compare(expected, a_hour, a_minute, b_hour, b_minute);\r\n}\r\n\r\nstatic void test_compare_clocks_with_minute_overflow(void)\r\n{\r\n   TEST_IGNORE();\r\n   int a_hour = 0, a_minute = 1;\r\n   int b_hour = 0, b_minute = 1441;\r\n   bool expected = true;\r\n\r\n   test_compare(expected, a_hour, a_minute, b_hour, b_minute);\r\n}\r\n\r\nstatic void test_compare_clocks_with_minute_overflow_by_several_days(void)\r\n{\r\n   TEST_IGNORE();\r\n   int a_hour = 2, a_minute = 2;\r\n   int b_hour = 2, b_minute = 4322;\r\n   bool expected = true;\r\n\r\n   test_compare(expected, a_hour, a_minute, b_hour, b_minute);\r\n}\r\n\r\nstatic void test_compare_clocks_with_negative_minute(void)\r\n{\r\n   TEST_IGNORE();\r\n   int a_hour = 2, a_minute = 40;\r\n   int b_hour = 3, b_minute = -20;\r\n   bool expected = true;\r\n\r\n   test_compare(expected, a_hour, a_minute, b_hour, b_minute);\r\n}\r\n\r\nstatic void test_compare_clocks_with_negative_minute_that_wraps(void)\r\n{\r\n   TEST_IGNORE();\r\n   int a_hour = 4, a_minute = 10;\r\n   int b_hour = 5, b_minute = -1490;\r\n   bool expected = true;\r\n\r\n   test_compare(expected, a_hour, a_minute, b_hour, b_minute);\r\n}\r\n\r\nstatic void\r\ntest_compare_clocks_with_negative_minute_that_wraps_multiple_times(void)\r\n{\r\n   TEST_IGNORE();\r\n   int a_hour = 6, a_minute = 15;\r\n   int b_hour = 6, b_minute = -4305;\r\n   bool expected = true;\r\n\r\n   test_compare(expected, a_hour, a_minute, b_hour, b_minute);\r\n}\r\n\r\nstatic void test_compare_clocks_with_negative_hours_and_minute(void)\r\n{\r\n   TEST_IGNORE();\r\n   int a_hour = 7, a_minute = 32;\r\n   int b_hour = -12, b_minute = -268;\r\n   bool expected = true;\r\n\r\n   test_compare(expected, a_hour, a_minute, b_hour, b_minute);\r\n}\r\n\r\nstatic void test_compare_clocks_with_negative_hours_and_minute_that_wrap(void)\r\n{\r\n   TEST_IGNORE();\r\n   int a_hour = 18, a_minute = 7;\r\n   int b_hour = -54, b_minute = -11513;\r\n   bool expected = true;\r\n\r\n   test_compare(expected, a_hour, a_minute, b_hour, b_minute);\r\n}\r\n\r\nstatic void test_compare_full_clock_and_zeroed_clock(void)\r\n{\r\n   TEST_IGNORE();\r\n   int a_hour = 24, a_minute = 0;\r\n   int b_hour = 0, b_minute = 0;\r\n   bool expected = true;\r\n\r\n   test_compare(expected, a_hour, a_minute, b_hour, b_minute);\r\n}\r\n\r\nint main(void)\r\n{\r\n   UNITY_BEGIN();\r\n\r\n   RUN_TEST(test_on_the_hour);\r\n   RUN_TEST(test_past_the_hour);\r\n   RUN_TEST(test_midnight_is_zero_hours);\r\n   RUN_TEST(test_hour_rolls_over);\r\n   RUN_TEST(test_hour_rolls_over_continuously);\r\n   RUN_TEST(test_sixty_minutes_is_next_hour);\r\n   RUN_TEST(test_minutes_roll_over);\r\n   RUN_TEST(test_minutes_roll_over_continuously);\r\n   RUN_TEST(test_hour_and_minutes_roll_over);\r\n   RUN_TEST(test_hour_and_minutes_roll_over_continuously);\r\n   RUN_TEST(test_hour_and_minutes_roll_over_to_exactly_midnight);\r\n   RUN_TEST(test_negative_hour);\r\n   RUN_TEST(test_negative_hour_rolls_over);\r\n   RUN_TEST(test_negative_hour_rolls_over_continuously);\r\n   RUN_TEST(test_negative_minutes);\r\n   RUN_TEST(test_negative_minutes_roll_over);\r\n   RUN_TEST(test_negative_minutes_roll_over_continuously);\r\n   RUN_TEST(test_negative_sixty_minutes_is_previous_hour);\r\n   RUN_TEST(test_negative_hour_and_minutes_both_roll_over);\r\n   RUN_TEST(test_negative_hour_and_minutes_both_roll_over_continuously);\r\n   RUN_TEST(test_add_minutes);\r\n   RUN_TEST(test_add_no_minutes);\r\n   RUN_TEST(test_add_to_next_hour);\r\n   RUN_TEST(test_add_more_than_one_hour);\r\n   RUN_TEST(test_add_more_than_two_hours_with_carry);\r\n   RUN_TEST(test_add_across_midnight);\r\n   RUN_TEST(test_add_more_than_one_day);\r\n   RUN_TEST(test_add_more_than_two_days);\r\n   RUN_TEST(test_subtract_minutes);\r\n   RUN_TEST(test_subtract_to_previous_hour);\r\n   RUN_TEST(test_subtract_more_than_an_hour);\r\n   RUN_TEST(test_subtract_across_midnight);\r\n   RUN_TEST(test_subtract_more_than_two_hours);\r\n   RUN_TEST(test_subtract_more_than_two_hours_with_borrow);\r\n   RUN_TEST(test_subtract_more_than_one_day);\r\n   RUN_TEST(test_subtract_more_than_two_days);\r\n   RUN_TEST(test_compare_clocks_with_same_time);\r\n   RUN_TEST(test_compare_clocks_a_minute_apart);\r\n   RUN_TEST(test_compare_clocks_an_hour_apart);\r\n   RUN_TEST(test_compare_clocks_with_hour_overflow);\r\n   RUN_TEST(test_compare_clocks_with_hour_overflow_by_several_days);\r\n   RUN_TEST(test_compare_clocks_with_negative_hour);\r\n   RUN_TEST(test_compare_clocks_with_negative_hour_that_wraps);\r\n   RUN_TEST(test_compare_clocks_with_negative_hour_that_wraps_multiple_times);\r\n   RUN_TEST(test_compare_clocks_with_minute_overflow);\r\n   RUN_TEST(test_compare_clocks_with_minute_overflow_by_several_days);\r\n   RUN_TEST(test_compare_clocks_with_negative_minute);\r\n   RUN_TEST(test_compare_clocks_with_negative_minute_that_wraps);\r\n   RUN_TEST(test_compare_clocks_with_negative_minute_that_wraps_multiple_times);\r\n   RUN_TEST(test_compare_clocks_with_negative_hours_and_minute);\r\n   RUN_TEST(test_compare_clocks_with_negative_hours_and_minute_that_wrap);\r\n   RUN_TEST(test_compare_full_clock_and_zeroed_clock);\r\n\r\n   return UNITY_END();\r\n}\r\n"
  }
}
{
  "language": "c",
  "slug": "grade-school",
  "docs": {
    "introduction": "",
    "instructions": "# Instructions\r\n\r\nGiven students' names along with the grade they are in, create a roster for the school.\r\n\r\nIn the end, you should be able to:\r\n\r\n- Add a student's name to the roster for a grade:\r\n  - \"Add Jim to grade 2.\"\r\n  - \"OK.\"\r\n- Get a list of all students enrolled in a grade:\r\n  - \"Which students are in grade 2?\"\r\n  - \"We've only got Jim right now.\"\r\n- Get a sorted list of all students in all grades.\r\n  Grades should be sorted as 1, 2, 3, etc., and students within a grade should be sorted alphabetically by name.\r\n  - \"Who is enrolled in school right now?\"\r\n  - \"Let me think.\r\n    We have Anna, Barb, and Charlie in grade 1, Alex, Peter, and Zoe in grade 2, and Jim in grade 5.\r\n    So the answer is: Anna, Barb, Charlie, Alex, Peter, Zoe, and Jim.\"\r\n\r\nNote that all our students only have one name (it's a small town, what do you want?), and each student cannot be added more than once to a grade or the roster.\r\nIf a test attempts to add the same student more than once, your implementation should indicate that this is incorrect.\r\n",
    "hints": ""
  },
  "starter_code": {
    "grade_school.c": "#include \"grade_school.h\"\r\n",
    "grade_school.h": "#ifndef GRADE_SCHOOL_H\r\n#define GRADE_SCHOOL_H\r\n\r\n#include <stddef.h>\r\n#include <stdint.h>\r\n\r\n#define MAX_NAME_LENGTH 20\r\n#define MAX_STUDENTS 20\r\n\r\ntypedef struct {\r\n   uint8_t grade;\r\n   char name[MAX_NAME_LENGTH];\r\n} student_t;\r\n\r\ntypedef struct {\r\n   size_t count;\r\n   student_t students[MAX_STUDENTS];\r\n} roster_t;\r\n\r\n#endif\r\n"
  },
  "tests": {
    "test_grade_school.c": "#include \"test-framework/unity.h\"\r\n#include \"grade_school.h\"\r\n#include <stdlib.h>\r\n#include <string.h>\r\n#include <stdio.h>\r\n\r\n#define NON_EMPTY_DUMMY_ROSTER                                                 \\\r\n   {                                                                           \\\r\n      1,                                                                       \\\r\n      {                                                                        \\\r\n         (student_t)                                                           \\\r\n         {                                                                     \\\r\n            255, \"DEADBEEF\"                                                    \\\r\n         }                                                                     \\\r\n      }                                                                        \\\r\n   }\r\n\r\nvoid setUp(void)\r\n{\r\n}\r\n\r\nvoid tearDown(void)\r\n{\r\n}\r\n\r\nstatic void check_roster_names(roster_t expected, roster_t actual)\r\n{\r\n   for (size_t i = 0; i < expected.count; ++i)\r\n      TEST_ASSERT_EQUAL_STRING(expected.students[i].name,\r\n                               actual.students[i].name);\r\n}\r\n\r\nstatic void check_rosters(roster_t expected, roster_t actual)\r\n{\r\n   TEST_ASSERT_EQUAL_size_t_MESSAGE(expected.count, actual.count,\r\n                                    \"Incorrect number of students\");\r\n   check_roster_names(expected, actual);\r\n}\r\n\r\nstatic void test_roster_is_empty_when_no_student_added(void)\r\n{\r\n   roster_t actual = NON_EMPTY_DUMMY_ROSTER;\r\n   init_roster(&actual);\r\n   TEST_ASSERT_EQUAL(0, actual.count);\r\n}\r\n\r\nstatic void test_add_student(void)\r\n{\r\n   TEST_IGNORE();   // delete this line to run test\r\n   roster_t actual;\r\n   init_roster(&actual);\r\n\r\n   TEST_ASSERT_TRUE(add_student(&actual, \"Aimee\", 2));\r\n}\r\n\r\nstatic void test_student_added_to_roster(void)\r\n{\r\n   TEST_IGNORE();\r\n   roster_t expected = { 1, { (student_t){ 2, \"Aimee\" } } };\r\n   roster_t actual;\r\n   init_roster(&actual);\r\n\r\n   add_student(&actual, \"Aimee\", 2);\r\n\r\n   check_rosters(expected, actual);\r\n}\r\n\r\nstatic void test_adding_multiple_students_in_same_grade_in_roster(void)\r\n{\r\n   TEST_IGNORE();\r\n   roster_t actual;\r\n   init_roster(&actual);\r\n\r\n   TEST_ASSERT_TRUE(add_student(&actual, \"Blair\", 2));\r\n   TEST_ASSERT_TRUE(add_student(&actual, \"James\", 2));\r\n   TEST_ASSERT_TRUE(add_student(&actual, \"Paul\", 2));\r\n}\r\n\r\nstatic void test_multiple_students_in_same_grade_are_added_to_roster(void)\r\n{\r\n   TEST_IGNORE();\r\n   roster_t expected = { 3,\r\n                         { (student_t){ 2, \"Blair\" }, (student_t){ 2, \"James\" },\r\n                           (student_t){ 2, \"Paul\" } } };\r\n   roster_t actual;\r\n   init_roster(&actual);\r\n\r\n   add_student(&actual, \"Blair\", 2);\r\n   add_student(&actual, \"James\", 2);\r\n   add_student(&actual, \"Paul\", 2);\r\n   ;\r\n\r\n   check_rosters(expected, actual);\r\n}\r\n\r\nstatic void test_cannot_add_student_to_same_grade_more_than_once(void)\r\n{\r\n   TEST_IGNORE();\r\n   roster_t actual;\r\n   init_roster(&actual);\r\n\r\n   TEST_ASSERT_TRUE(add_student(&actual, \"Blair\", 2));\r\n   TEST_ASSERT_TRUE(add_student(&actual, \"James\", 2));\r\n   TEST_ASSERT_FALSE(add_student(&actual, \"James\", 2));\r\n   TEST_ASSERT_TRUE(add_student(&actual, \"Paul\", 2));\r\n}\r\n\r\nstatic void test_student_not_added_to_same_grade_in_roster_more_than_once(void)\r\n{\r\n   TEST_IGNORE();\r\n   roster_t expected = { 3,\r\n                         { (student_t){ 2, \"Blair\" }, (student_t){ 2, \"James\" },\r\n                           (student_t){ 2, \"Paul\" } } };\r\n   roster_t actual;\r\n   init_roster(&actual);\r\n\r\n   add_student(&actual, \"Blair\", 2);\r\n   add_student(&actual, \"James\", 2);\r\n   add_student(&actual, \"James\", 2);\r\n   add_student(&actual, \"Paul\", 2);\r\n\r\n   check_rosters(expected, actual);\r\n}\r\n\r\nstatic void test_adding_students_in_multiple_grades(void)\r\n{\r\n   TEST_IGNORE();\r\n   roster_t actual;\r\n   init_roster(&actual);\r\n\r\n   TEST_ASSERT_TRUE(add_student(&actual, \"Chelsea\", 3));\r\n   TEST_ASSERT_TRUE(add_student(&actual, \"Logan\", 7));\r\n}\r\n\r\nstatic void test_students_in_multiple_grades_are_added_to_roster(void)\r\n{\r\n   TEST_IGNORE();\r\n   roster_t expected = {\r\n      2,\r\n      { (student_t){ 3, \"Chelsea\" }, (student_t){ 7, \"Logan\" } },\r\n   };\r\n   roster_t actual;\r\n   init_roster(&actual);\r\n\r\n   add_student(&actual, \"Chelsea\", 3);\r\n   add_student(&actual, \"Logan\", 7);\r\n\r\n   check_rosters(expected, actual);\r\n}\r\n\r\nstatic void test_cannot_add_same_student_to_multiple_grades_in_roster(void)\r\n{\r\n   TEST_IGNORE();\r\n   roster_t actual;\r\n   init_roster(&actual);\r\n\r\n   TEST_ASSERT_TRUE(add_student(&actual, \"Blair\", 2));\r\n   TEST_ASSERT_TRUE(add_student(&actual, \"James\", 2));\r\n   TEST_ASSERT_FALSE(add_student(&actual, \"James\", 3));\r\n   TEST_ASSERT_TRUE(add_student(&actual, \"Paul\", 3));\r\n}\r\n\r\nstatic void test_student_not_added_to_multiple_grades_in_roster(void)\r\n{\r\n   TEST_IGNORE();\r\n   roster_t expected = { 3,\r\n                         { (student_t){ 2, \"Blair\" }, (student_t){ 2, \"James\" },\r\n                           (student_t){ 3, \"Paul\" } } };\r\n   roster_t actual;\r\n   init_roster(&actual);\r\n\r\n   add_student(&actual, \"Blair\", 2);\r\n   add_student(&actual, \"James\", 2);\r\n   add_student(&actual, \"James\", 3);\r\n   add_student(&actual, \"Paul\", 3);\r\n\r\n   check_rosters(expected, actual);\r\n}\r\n\r\nstatic void test_students_are_sorted_by_grades_in_roster(void)\r\n{\r\n   TEST_IGNORE();\r\n   roster_t expected = { 3,\r\n                         { (student_t){ 1, \"Anna\" }, (student_t){ 2, \"Peter\" },\r\n                           (student_t){ 3, \"Jim\" } } };\r\n   roster_t actual;\r\n   init_roster(&actual);\r\n\r\n   add_student(&actual, \"Jim\", 3);\r\n   add_student(&actual, \"Peter\", 2);\r\n   add_student(&actual, \"Anna\", 1);\r\n\r\n   check_rosters(expected, actual);\r\n}\r\n\r\nstatic void test_students_are_sorted_by_name_in_roster(void)\r\n{\r\n   TEST_IGNORE();\r\n   roster_t expected = { 3,\r\n                         { (student_t){ 2, \"Alex\" }, (student_t){ 2, \"Peter\" },\r\n                           (student_t){ 2, \"Zoe\" } } };\r\n   roster_t actual;\r\n   init_roster(&actual);\r\n\r\n   add_student(&actual, \"Peter\", 2);\r\n   add_student(&actual, \"Zoe\", 2);\r\n   add_student(&actual, \"Alex\", 2);\r\n\r\n   check_rosters(expected, actual);\r\n}\r\n\r\nstatic void test_students_are_sorted_by_grades_and_then_by_names_in_roster(void)\r\n{\r\n   TEST_IGNORE();\r\n   roster_t expected = { 7,\r\n                         { (student_t){ 1, \"Anna\" }, (student_t){ 1, \"Barb\" },\r\n                           (student_t){ 1, \"Charlie\" },\r\n                           (student_t){ 2, \"Alex\" }, (student_t){ 2, \"Peter\" },\r\n                           (student_t){ 2, \"Zoe\" }, (student_t){ 3, \"Jim\" } } };\r\n   roster_t actual;\r\n   init_roster(&actual);\r\n\r\n   add_student(&actual, \"Peter\", 2);\r\n   add_student(&actual, \"Anna\", 1);\r\n   add_student(&actual, \"Barb\", 1);\r\n   add_student(&actual, \"Zoe\", 2);\r\n   add_student(&actual, \"Alex\", 2);\r\n   add_student(&actual, \"Jim\", 3);\r\n   add_student(&actual, \"Charlie\", 1);\r\n\r\n   check_rosters(expected, actual);\r\n}\r\n\r\nstatic void test_grade_empty_if_no_students_in_roster(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint8_t desired_grade = 1;\r\n   roster_t roster;\r\n   init_roster(&roster);\r\n\r\n   roster_t actual = get_grade(&roster, desired_grade);\r\n\r\n   TEST_ASSERT_EQUAL(0, actual.count);\r\n}\r\n\r\nstatic void test_grade_empty_if_no_students_in_grade(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint8_t desired_grade = 1;\r\n   roster_t roster;\r\n   init_roster(&roster);\r\n\r\n   add_student(&roster, \"Peter\", 2);\r\n   add_student(&roster, \"Zoe\", 2);\r\n   add_student(&roster, \"Alex\", 2);\r\n   add_student(&roster, \"Jim\", 3);\r\n\r\n   roster_t actual = get_grade(&roster, desired_grade);\r\n\r\n   TEST_ASSERT_EQUAL(0, actual.count);\r\n}\r\n\r\nstatic void test_student_not_added_to_same_grade_more_than_once(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint8_t desired_grade = 2;\r\n   roster_t expected = { 3,\r\n                         { (student_t){ 2, \"Blair\" }, (student_t){ 2, \"James\" },\r\n                           (student_t){ 2, \"Paul\" } } };\r\n   roster_t roster;\r\n   init_roster(&roster);\r\n\r\n   add_student(&roster, \"Blair\", 2);\r\n   add_student(&roster, \"James\", 2);\r\n   add_student(&roster, \"James\", 2);\r\n   add_student(&roster, \"Paul\", 2);\r\n\r\n   roster_t actual = get_grade(&roster, desired_grade);\r\n\r\n   check_rosters(expected, actual);\r\n}\r\n\r\nstatic void test_student_not_added_to_multiple_grades(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint8_t desired_grade = 2;\r\n   roster_t expected = {\r\n      2, { (student_t){ 2, \"Blair\" }, (student_t){ 2, \"James\" } }\r\n   };\r\n   roster_t roster;\r\n   init_roster(&roster);\r\n\r\n   add_student(&roster, \"Blair\", 2);\r\n   add_student(&roster, \"James\", 2);\r\n   add_student(&roster, \"James\", 3);\r\n   add_student(&roster, \"Paul\", 3);\r\n\r\n   roster_t actual = get_grade(&roster, desired_grade);\r\n\r\n   check_rosters(expected, actual);\r\n}\r\n\r\nstatic void test_student_not_added_to_other_grade_for_multiple_grades(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint8_t desired_grade = 3;\r\n   roster_t expected = { 1, { (student_t){ 3, \"Paul\" } } };\r\n   roster_t roster;\r\n   init_roster(&roster);\r\n\r\n   add_student(&roster, \"Blair\", 2);\r\n   add_student(&roster, \"James\", 2);\r\n   add_student(&roster, \"James\", 3);\r\n   add_student(&roster, \"Paul\", 3);\r\n\r\n   roster_t actual = get_grade(&roster, desired_grade);\r\n\r\n   check_rosters(expected, actual);\r\n}\r\n\r\nstatic void test_students_are_sorted_by_name_in_grade(void)\r\n{\r\n   TEST_IGNORE();\r\n   uint8_t desired_grade = 5;\r\n   roster_t expected = {\r\n      2, { (student_t){ 5, \"Bradley\" }, (student_t){ 5, \"Franklin\" } }\r\n   };\r\n   roster_t roster;\r\n   init_roster(&roster);\r\n\r\n   add_student(&roster, \"Franklin\", 5);\r\n   add_student(&roster, \"Bradley\", 5);\r\n   add_student(&roster, \"Jeff\", 1);\r\n\r\n   roster_t actual = get_grade(&roster, desired_grade);\r\n\r\n   check_rosters(expected, actual);\r\n}\r\n\r\nint main(void)\r\n{\r\n   UNITY_BEGIN();\r\n\r\n   RUN_TEST(test_roster_is_empty_when_no_student_added);\r\n   RUN_TEST(test_add_student);\r\n   RUN_TEST(test_student_added_to_roster);\r\n   RUN_TEST(test_adding_multiple_students_in_same_grade_in_roster);\r\n   RUN_TEST(test_multiple_students_in_same_grade_are_added_to_roster);\r\n   RUN_TEST(test_cannot_add_student_to_same_grade_more_than_once);\r\n   RUN_TEST(test_student_not_added_to_same_grade_in_roster_more_than_once);\r\n   RUN_TEST(test_adding_students_in_multiple_grades);\r\n   RUN_TEST(test_students_in_multiple_grades_are_added_to_roster);\r\n   RUN_TEST(test_cannot_add_same_student_to_multiple_grades_in_roster);\r\n   RUN_TEST(test_student_not_added_to_multiple_grades_in_roster);\r\n   RUN_TEST(test_students_are_sorted_by_grades_in_roster);\r\n   RUN_TEST(test_students_are_sorted_by_name_in_roster);\r\n   RUN_TEST(test_students_are_sorted_by_grades_and_then_by_names_in_roster);\r\n   RUN_TEST(test_grade_empty_if_no_students_in_roster);\r\n   RUN_TEST(test_grade_empty_if_no_students_in_grade);\r\n   RUN_TEST(test_student_not_added_to_same_grade_more_than_once);\r\n   RUN_TEST(test_student_not_added_to_multiple_grades);\r\n   RUN_TEST(test_student_not_added_to_other_grade_for_multiple_grades);\r\n   RUN_TEST(test_students_are_sorted_by_name_in_grade);\r\n\r\n   return UNITY_END();\r\n}\r\n"
  }
}
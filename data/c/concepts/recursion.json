{
  "language": "c",
  "slug": "recursion",
  "title": "Recursion",
  "docs": {
    "about": "# About\r\n\r\nRecursion is a way to repeat code in a function by the function calling itself.\r\nIt is another way to loop/iterate. Like looping, the function should test a Boolean expression to know when to end.\r\nUnlike looping, recursion that never ends will not run infinitely.\r\nThe values used in each function call may be placed in their own frame on the stack.\r\nIf the amount of function calls takes up more space than the stack has, it will result in a stack overflow error.\r\n\r\n```c\r\nint printIncrement (int i, int maxValue){\r\n    if (i > maxValue) return i;\r\n    printf(\"The number is %i\\n\", i++);\r\n    printIncrement(i, maxValue);\r\n}\r\n\r\nint main() {\r\n    printIncrement(1, 2);\r\n    printf(\"After recursion\");\r\n    return 0;\r\n}\r\n```\r\n\r\nThis will print\r\n\r\n```\r\nThe number is 1\r\nThe number is 2\r\nAfter recursion\r\n```\r\n\r\nThere may be some situations that are more readable and/or easier to reason through when expressed through recursion than when expressed through looping.\r\n\r\n\r\n## Tail Call\r\n\r\nA tail call is when the last statement of a function only calls itself and nothing more.\r\n\r\nA tail call is a particular form of recursion which may allow the compiler to optimize the recursion into a loop in the compiled code.\r\nThat gives the best of both worlds: the readability of recursion with the performance of a loop.\r\nThe compiling of recursion into a loop is called `tail call elimination` or `tail call optimization.`\r\n\r\nWhen a tail call is compiled into a loop, a new stack frame is not created for every function call.\r\nThe address of the function when originally called is passed the updated values, thus saving stack space and improving performance.\r\n\r\nThis example is not a tail call, as the function adds 1 to the result of calling itself\r\n\r\n```c\r\nint printIncrement (int i, int maxValue){\r\n    if (i > maxValue) return 1;\r\n    printf(\"The number is %i\\n\", i++);\r\n    return 1 + printIncrement(i, maxValue);\r\n}\r\n\r\nint main() {\r\n    int j = printIncrement(1, 2);\r\n    printf(\"j is %i after recursion\", j);\r\n    return 0;\r\n}\r\n```\r\n\r\nThis will print\r\n\r\n```\r\nThe number is 1\r\nThe number is 2\r\nj is 3 after recursion\r\n```\r\n\r\nTo refactor it to a tail call, make `j` a parameter of `printIncrement`\r\n\r\n```c\r\nint printIncrement (int i, int maxValue, int j){\r\n    if (i > maxValue) return j;\r\n    printf(\"The number is %i\\n\", i++);\r\n    return printIncrement(i, maxValue, ++j);\r\n}\r\n\r\nint main() {\r\n    int j = printIncrement(1, 2, 1);\r\n    printf(\"j is %i after recursion\", j);\r\n    return 0;\r\n}\r\n```\r\n\r\nYou may find that a tail call may be easier to reason through than a recursive call that is not a tail call.\r\nHowever, compilers usually do not guarantee that all tail calls will be optimized.\r\nIt is always important when using recursion to know that there will not be so many iterations that the stack will overflow.\r\n",
    "introduction": "# Introduction\r\n\r\nRecursion is a way to repeat code in a function by the function calling itself.\r\nIt is another way to loop/iterate. Like looping, the function should test a Boolean expression to know when to end.\r\nUnlike looping, recursion that never ends will not run infinitely.\r\nThe values used in each function call may be placed in their own frame on the stack.\r\nIf the amount of function calls takes up more space than the stack has, it will result in a stack overflow error.\r\n\r\n```c\r\nint printIncrement (int i, int maxValue){\r\n    if (i > maxValue) return i;\r\n    printf(\"The number is %i\\n\", i++);\r\n    printIncrement(i, maxValue);\r\n}\r\n\r\nint main() {\r\n    printIncrement(1, 2);\r\n    printf(\"After recursion\");\r\n    return 0;\r\n}\r\n```\r\n\r\nThis will print\r\n\r\n```\r\nThe number is 1\r\nThe number is 2\r\nAfter recursion\r\n```\r\n\r\nThere may be some situations that are more readable and/or easier to reason through when expressed through recursion than when expressed through looping.\r\n"
  },
  "meta": {},
  "links": []
}
{
  "language": "ruby",
  "type": "practice",
  "slug": "ocr-numbers",
  "title": "Ocr Numbers",
  "docs": {
    "instructions": "# Instructions\r\n\r\nGiven a 3 x 4 grid of pipes, underscores, and spaces, determine which number is represented, or whether it is garbled.\r\n\r\n## Step One\r\n\r\nTo begin with, convert a simple binary font to a string containing 0 or 1.\r\n\r\nThe binary font uses pipes and underscores, four rows high and three columns wide.\r\n\r\n```text\r\n     _   #\r\n    | |  # zero.\r\n    |_|  #\r\n         # the fourth row is always blank\r\n```\r\n\r\nIs converted to \"0\"\r\n\r\n```text\r\n         #\r\n      |  # one.\r\n      |  #\r\n         # (blank fourth row)\r\n```\r\n\r\nIs converted to \"1\"\r\n\r\nIf the input is the correct size, but not recognizable, your program should return '?'\r\n\r\nIf the input is the incorrect size, your program should return an error.\r\n\r\n## Step Two\r\n\r\nUpdate your program to recognize multi-character binary strings, replacing garbled numbers with ?\r\n\r\n## Step Three\r\n\r\nUpdate your program to recognize all numbers 0 through 9, both individually and as part of a larger string.\r\n\r\n```text\r\n _\r\n _|\r\n|_\r\n\r\n```\r\n\r\nIs converted to \"2\"\r\n\r\n```text\r\n      _  _     _  _  _  _  _  _  #\r\n    | _| _||_||_ |_   ||_||_|| | # decimal numbers.\r\n    ||_  _|  | _||_|  ||_| _||_| #\r\n                                 # fourth line is always blank\r\n```\r\n\r\nIs converted to \"1234567890\"\r\n\r\n## Step Four\r\n\r\nUpdate your program to handle multiple numbers, one per line.\r\nWhen converting several lines, join the lines with commas.\r\n\r\n```text\r\n    _  _\r\n  | _| _|\r\n  ||_  _|\r\n\r\n    _  _\r\n|_||_ |_\r\n  | _||_|\r\n\r\n _  _  _\r\n  ||_||_|\r\n  ||_| _|\r\n\r\n```\r\n\r\nIs converted to \"123,456,789\".\r\n",
    "hints": ""
  },
  "starter_code": "=begin\r\nWrite your code for the 'Ocr Numbers' exercise in this file. Make the tests in\r\n`ocr_numbers_test.rb` pass.\r\n\r\nTo get started with TDD, see the `README.md` file in your\r\n`ruby/ocr-numbers` directory.\r\n=end\r\n",
  "tests": "require 'minitest/autorun'\r\nrequire_relative 'ocr_numbers'\r\n\r\nclass OcrNumbersTest < Minitest::Test\r\n  def test_recognizes_0\r\n    # skip\r\n    input = [' _ ',\r\n             '| |',\r\n             '|_|',\r\n             '   '].join(\"\\n\")\r\n    expected = '0'\r\n    actual = OcrNumbers.convert(input)\r\n    assert_equal expected, actual\r\n  end\r\n\r\n  def test_recognizes_1\r\n    skip\r\n    input = ['   ',\r\n             '  |',\r\n             '  |',\r\n             '   '].join(\"\\n\")\r\n    expected = '1'\r\n    actual = OcrNumbers.convert(input)\r\n    assert_equal expected, actual\r\n  end\r\n\r\n  def test_unreadable_but_correctly_sized_inputs_return_\r\n    skip\r\n    input = ['   ',\r\n             '  _',\r\n             '  |',\r\n             '   '].join(\"\\n\")\r\n    expected = '?'\r\n    actual = OcrNumbers.convert(input)\r\n    assert_equal expected, actual\r\n  end\r\n\r\n  def test_input_with_a_number_of_lines_that_is_not_a_multiple_of_four_raises_an_error\r\n    skip\r\n    input = [' _ ',\r\n             '| |',\r\n             '   '].join(\"\\n\")\r\n    assert_raises(ArgumentError) do\r\n      OcrNumbers.convert(input)\r\n    end\r\n  end\r\n\r\n  def test_input_with_a_number_of_columns_that_is_not_a_multiple_of_three_raises_an_error\r\n    skip\r\n    input = ['    ',\r\n             '   |',\r\n             '   |',\r\n             '    '].join(\"\\n\")\r\n    assert_raises(ArgumentError) do\r\n      OcrNumbers.convert(input)\r\n    end\r\n  end\r\n\r\n  def test_recognizes_110101100\r\n    skip\r\n    input = ['       _     _        _  _ ',\r\n             '  |  || |  || |  |  || || |',\r\n             '  |  ||_|  ||_|  |  ||_||_|',\r\n             '                           '].join(\"\\n\")\r\n    expected = '110101100'\r\n    actual = OcrNumbers.convert(input)\r\n    assert_equal expected, actual\r\n  end\r\n\r\n  def test_garbled_numbers_in_a_string_are_replaced_with_\r\n    skip\r\n    input = ['       _     _           _ ',\r\n             '  |  || |  || |     || || |',\r\n             '  |  | _|  ||_|  |  ||_||_|',\r\n             '                           '].join(\"\\n\")\r\n    expected = '11?10?1?0'\r\n    actual = OcrNumbers.convert(input)\r\n    assert_equal expected, actual\r\n  end\r\n\r\n  def test_recognizes_2\r\n    skip\r\n    input = [' _ ',\r\n             ' _|',\r\n             '|_ ',\r\n             '   '].join(\"\\n\")\r\n    expected = '2'\r\n    actual = OcrNumbers.convert(input)\r\n    assert_equal expected, actual\r\n  end\r\n\r\n  def test_recognizes_3\r\n    skip\r\n    input = [' _ ',\r\n             ' _|',\r\n             ' _|',\r\n             '   '].join(\"\\n\")\r\n    expected = '3'\r\n    actual = OcrNumbers.convert(input)\r\n    assert_equal expected, actual\r\n  end\r\n\r\n  def test_recognizes_4\r\n    skip\r\n    input = ['   ',\r\n             '|_|',\r\n             '  |',\r\n             '   '].join(\"\\n\")\r\n    expected = '4'\r\n    actual = OcrNumbers.convert(input)\r\n    assert_equal expected, actual\r\n  end\r\n\r\n  def test_recognizes_5\r\n    skip\r\n    input = [' _ ',\r\n             '|_ ',\r\n             ' _|',\r\n             '   '].join(\"\\n\")\r\n    expected = '5'\r\n    actual = OcrNumbers.convert(input)\r\n    assert_equal expected, actual\r\n  end\r\n\r\n  def test_recognizes_6\r\n    skip\r\n    input = [' _ ',\r\n             '|_ ',\r\n             '|_|',\r\n             '   '].join(\"\\n\")\r\n    expected = '6'\r\n    actual = OcrNumbers.convert(input)\r\n    assert_equal expected, actual\r\n  end\r\n\r\n  def test_recognizes_7\r\n    skip\r\n    input = [' _ ',\r\n             '  |',\r\n             '  |',\r\n             '   '].join(\"\\n\")\r\n    expected = '7'\r\n    actual = OcrNumbers.convert(input)\r\n    assert_equal expected, actual\r\n  end\r\n\r\n  def test_recognizes_8\r\n    skip\r\n    input = [' _ ',\r\n             '|_|',\r\n             '|_|',\r\n             '   '].join(\"\\n\")\r\n    expected = '8'\r\n    actual = OcrNumbers.convert(input)\r\n    assert_equal expected, actual\r\n  end\r\n\r\n  def test_recognizes_9\r\n    skip\r\n    input = [' _ ',\r\n             '|_|',\r\n             ' _|',\r\n             '   '].join(\"\\n\")\r\n    expected = '9'\r\n    actual = OcrNumbers.convert(input)\r\n    assert_equal expected, actual\r\n  end\r\n\r\n  def test_recognizes_string_of_decimal_numbers\r\n    skip\r\n    input = ['    _  _     _  _  _  _  _  _ ',\r\n             '  | _| _||_||_ |_   ||_||_|| |',\r\n             '  ||_  _|  | _||_|  ||_| _||_|',\r\n             '                              '].join(\"\\n\")\r\n    expected = '1234567890'\r\n    actual = OcrNumbers.convert(input)\r\n    assert_equal expected, actual\r\n  end\r\n\r\n  def test_numbers_separated_by_empty_lines_are_recognized_lines_are_joined_by_commas\r\n    skip\r\n    input = ['    _  _ ',\r\n             '  | _| _|',\r\n             '  ||_  _|',\r\n             '         ',\r\n             '    _  _ ',\r\n             '|_||_ |_ ',\r\n             '  | _||_|',\r\n             '         ',\r\n             ' _  _  _ ',\r\n             '  ||_||_|',\r\n             '  ||_| _|',\r\n             '         '].join(\"\\n\")\r\n    expected = '123,456,789'\r\n    actual = OcrNumbers.convert(input)\r\n    assert_equal expected, actual\r\n  end\r\nend\r\n"
}
{
  "language": "ruby",
  "type": "practice",
  "slug": "book-store",
  "title": "Book Store",
  "docs": {
    "instructions": "# Instructions\r\n\r\nTo try and encourage more sales of different books from a popular 5 book series, a bookshop has decided to offer discounts on multiple book purchases.\r\n\r\nOne copy of any of the five books costs $8.\r\n\r\nIf, however, you buy two different books, you get a 5% discount on those two books.\r\n\r\nIf you buy 3 different books, you get a 10% discount.\r\n\r\nIf you buy 4 different books, you get a 20% discount.\r\n\r\nIf you buy all 5, you get a 25% discount.\r\n\r\nNote that if you buy four books, of which 3 are different titles, you get a 10% discount on the 3 that form part of a set, but the fourth book still costs $8.\r\n\r\nYour mission is to write code to calculate the price of any conceivable shopping basket (containing only books of the same series), giving as big a discount as possible.\r\n\r\nFor example, how much does this basket of books cost?\r\n\r\n- 2 copies of the first book\r\n- 2 copies of the second book\r\n- 2 copies of the third book\r\n- 1 copy of the fourth book\r\n- 1 copy of the fifth book\r\n\r\nOne way of grouping these 8 books is:\r\n\r\n- 1 group of 5 (1st, 2nd,3rd, 4th, 5th)\r\n- 1 group of 3 (1st, 2nd, 3rd)\r\n\r\nThis would give a total of:\r\n\r\n- 5 books at a 25% discount\r\n- 3 books at a 10% discount\r\n\r\nResulting in:\r\n\r\n- 5 × (100% - 25%) × $8 = 5 × $6.00 = $30.00, plus\r\n- 3 × (100% - 10%) × $8 = 3 × $7.20 = $21.60\r\n\r\nWhich equals $51.60.\r\n\r\nHowever, a different way to group these 8 books is:\r\n\r\n- 1 group of 4 books (1st, 2nd, 3rd, 4th)\r\n- 1 group of 4 books (1st, 2nd, 3rd, 5th)\r\n\r\nThis would give a total of:\r\n\r\n- 4 books at a 20% discount\r\n- 4 books at a 20% discount\r\n\r\nResulting in:\r\n\r\n- 4 × (100% - 20%) × $8 = 4 × $6.40 = $25.60, plus\r\n- 4 × (100% - 20%) × $8 = 4 × $6.40 = $25.60\r\n\r\nWhich equals $51.20.\r\n\r\nAnd $51.20 is the price with the biggest discount.\r\n",
    "hints": ""
  },
  "starter_code": "=begin\r\nWrite your code for the 'Book Store' exercise in this file. Make the tests in\r\n`book_store_test.rb` pass.\r\n\r\nTo get started with TDD, see the `README.md` file in your\r\n`ruby/book-store` directory.\r\n=end\r\n",
  "tests": "require 'minitest/autorun'\r\nrequire_relative 'book_store'\r\n\r\nclass BookStoreTest < Minitest::Test\r\n  def test_only_a_single_book\r\n    # skip\r\n    basket = [1]\r\n    assert_in_delta 8.00, BookStore.calculate_price(basket), 0.001\r\n  end\r\n\r\n  def test_two_of_the_same_book\r\n    skip\r\n    basket = [2, 2]\r\n    assert_in_delta 16.00, BookStore.calculate_price(basket), 0.001\r\n  end\r\n\r\n  def test_empty_basket\r\n    skip\r\n    basket = []\r\n    assert_in_delta 0.00, BookStore.calculate_price(basket), 0.001\r\n  end\r\n\r\n  def test_two_different_books\r\n    skip\r\n    basket = [1, 2]\r\n    assert_in_delta 15.20, BookStore.calculate_price(basket), 0.001\r\n  end\r\n\r\n  def test_three_different_books\r\n    skip\r\n    basket = [1, 2, 3]\r\n    assert_in_delta 21.60, BookStore.calculate_price(basket), 0.001\r\n  end\r\n\r\n  def test_four_different_books\r\n    skip\r\n    basket = [1, 2, 3, 4]\r\n    assert_in_delta 25.60, BookStore.calculate_price(basket), 0.001\r\n  end\r\n\r\n  def test_five_different_books\r\n    skip\r\n    basket = [1, 2, 3, 4, 5]\r\n    assert_in_delta 30.00, BookStore.calculate_price(basket), 0.001\r\n  end\r\n\r\n  def test_two_groups_of_four_is_cheaper_than_group_of_five_plus_group_of_three\r\n    skip\r\n    basket = [1, 1, 2, 2, 3, 3, 4, 5]\r\n    assert_in_delta 51.20, BookStore.calculate_price(basket), 0.001\r\n  end\r\n\r\n  def test_two_groups_of_four_is_cheaper_than_groups_of_five_and_three\r\n    skip\r\n    basket = [1, 1, 2, 3, 4, 4, 5, 5]\r\n    assert_in_delta 51.20, BookStore.calculate_price(basket), 0.001\r\n  end\r\n\r\n  def test_group_of_four_plus_group_of_two_is_cheaper_than_two_groups_of_three\r\n    skip\r\n    basket = [1, 1, 2, 2, 3, 4]\r\n    assert_in_delta 40.80, BookStore.calculate_price(basket), 0.001\r\n  end\r\n\r\n  def test_two_each_of_first_four_books_and_one_copy_each_of_rest\r\n    skip\r\n    basket = [1, 1, 2, 2, 3, 3, 4, 4, 5]\r\n    assert_in_delta 55.60, BookStore.calculate_price(basket), 0.001\r\n  end\r\n\r\n  def test_two_copies_of_each_book\r\n    skip\r\n    basket = [1, 1, 2, 2, 3, 3, 4, 4, 5, 5]\r\n    assert_in_delta 60.00, BookStore.calculate_price(basket), 0.001\r\n  end\r\n\r\n  def test_three_copies_of_first_book_and_two_each_of_remaining\r\n    skip\r\n    basket = [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 1]\r\n    assert_in_delta 68.00, BookStore.calculate_price(basket), 0.001\r\n  end\r\n\r\n  def test_three_each_of_first_two_books_and_two_each_of_remaining_books\r\n    skip\r\n    basket = [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 1, 2]\r\n    assert_in_delta 75.20, BookStore.calculate_price(basket), 0.001\r\n  end\r\n\r\n  def test_four_groups_of_four_are_cheaper_than_two_groups_each_of_five_and_three\r\n    skip\r\n    basket = [1, 1, 2, 2, 3, 3, 4, 5, 1, 1, 2, 2, 3, 3, 4, 5]\r\n    assert_in_delta 102.40, BookStore.calculate_price(basket), 0.001\r\n  end\r\n\r\n  def test_check_that_groups_of_four_are_created_properly_even_when_there_are_more_groups_of_three_than_groups_of_five\r\n    skip\r\n    basket = [1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 4, 4, 5, 5]\r\n    assert_in_delta 145.60, BookStore.calculate_price(basket), 0.001\r\n  end\r\n\r\n  def test_one_group_of_one_and_four_is_cheaper_than_one_group_of_two_and_three\r\n    skip\r\n    basket = [1, 1, 2, 3, 4]\r\n    assert_in_delta 33.60, BookStore.calculate_price(basket), 0.001\r\n  end\r\n\r\n  def test_one_group_of_one_and_two_plus_three_groups_of_four_is_cheaper_than_one_group_of_each_size\r\n    skip\r\n    basket = [1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 5]\r\n    assert_in_delta 100.00, BookStore.calculate_price(basket), 0.001\r\n  end\r\nend\r\n"
}
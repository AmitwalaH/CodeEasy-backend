{
  "language": "ruby",
  "type": "practice",
  "slug": "crypto-square",
  "title": "Crypto Square",
  "docs": {
    "instructions": "# Instructions\r\n\r\nImplement the classic method for composing secret messages called a square code.\r\n\r\nGiven an English text, output the encoded version of that text.\r\n\r\nFirst, the input is normalized: the spaces and punctuation are removed from the English text and the message is down-cased.\r\n\r\nThen, the normalized characters are broken into rows.\r\nThese rows can be regarded as forming a rectangle when printed with intervening newlines.\r\n\r\nFor example, the sentence\r\n\r\n```text\r\n\"If man was meant to stay on the ground, god would have given us roots.\"\r\n```\r\n\r\nis normalized to:\r\n\r\n```text\r\n\"ifmanwasmeanttostayonthegroundgodwouldhavegivenusroots\"\r\n```\r\n\r\nThe plaintext should be organized into a rectangle as square as possible.\r\nThe size of the rectangle should be decided by the length of the message.\r\n\r\nIf `c` is the number of columns and `r` is the number of rows, then for the rectangle `r` x `c` find the smallest possible integer `c` such that:\r\n\r\n- `r * c >= length of message`,\r\n- and `c >= r`,\r\n- and `c - r <= 1`.\r\n\r\nOur normalized text is 54 characters long, dictating a rectangle with `c = 8` and `r = 7`:\r\n\r\n```text\r\n\"ifmanwas\"\r\n\"meanttos\"\r\n\"tayonthe\"\r\n\"groundgo\"\r\n\"dwouldha\"\r\n\"vegivenu\"\r\n\"sroots  \"\r\n```\r\n\r\nThe coded message is obtained by reading down the columns going left to right.\r\n\r\nThe message above is coded as:\r\n\r\n```text\r\n\"imtgdvsfearwermayoogoanouuiontnnlvtwttddesaohghnsseoau\"\r\n```\r\n\r\nOutput the encoded text in chunks that fill perfect rectangles `(r X c)`, with `c` chunks of `r` length, separated by spaces.\r\nFor phrases that are `n` characters short of the perfect rectangle, pad each of the last `n` chunks with a single trailing space.\r\n\r\n```text\r\n\"imtgdvs fearwer mayoogo anouuio ntnnlvt wttddes aohghn  sseoau \"\r\n```\r\n\r\nNotice that were we to stack these, we could visually decode the ciphertext back in to the original message:\r\n\r\n```text\r\n\"imtgdvs\"\r\n\"fearwer\"\r\n\"mayoogo\"\r\n\"anouuio\"\r\n\"ntnnlvt\"\r\n\"wttddes\"\r\n\"aohghn \"\r\n\"sseoau \"\r\n```\r\n",
    "hints": ""
  },
  "starter_code": "=begin\r\nWrite your code for the 'Crypto Square' exercise in this file. Make the tests in\r\n`crypto_square_test.rb` pass.\r\n\r\nTo get started with TDD, see the `README.md` file in your\r\n`ruby/crypto-square` directory.\r\n=end\r\n",
  "tests": "require 'minitest/autorun'\r\nrequire_relative 'crypto_square'\r\n\r\nclass CryptoSquareTest < Minitest::Test\r\n  def test_empty_plaintext_results_in_an_empty_ciphertext\r\n    # skip\r\n    plaintext = ''\r\n    assert_equal '', Crypto.new(plaintext).ciphertext\r\n  end\r\n\r\n  def test_normalization_results_in_empty_plaintext\r\n    skip\r\n    plaintext = '... --- ...'\r\n    assert_equal '', Crypto.new(plaintext).ciphertext\r\n  end\r\n\r\n  def test_lowercase\r\n    skip\r\n    plaintext = 'A'\r\n    assert_equal 'a', Crypto.new(plaintext).ciphertext\r\n  end\r\n\r\n  def test_remove_spaces\r\n    skip\r\n    plaintext = '  b '\r\n    assert_equal 'b', Crypto.new(plaintext).ciphertext\r\n  end\r\n\r\n  def test_remove_punctuation\r\n    skip\r\n    plaintext = '@1,%!'\r\n    assert_equal '1', Crypto.new(plaintext).ciphertext\r\n  end\r\n\r\n  def test_9_character_plaintext_results_in_3_chunks_of_3_characters\r\n    skip\r\n    plaintext = 'This is fun!'\r\n    assert_equal 'tsf hiu isn', Crypto.new(plaintext).ciphertext\r\n  end\r\n\r\n  def test_8_character_plaintext_results_in_3_chunks_the_last_one_with_a_trailing_space\r\n    skip\r\n    plaintext = 'Chill out.'\r\n    assert_equal 'clu hlt io ', Crypto.new(plaintext).ciphertext\r\n  end\r\n\r\n  def test_54_character_plaintext_results_in_8_chunks_the_last_two_with_trailing_spaces\r\n    skip\r\n    plaintext = 'If man was meant to stay on the ground, god would have given us roots.'\r\n    assert_equal 'imtgdvs fearwer mayoogo anouuio ntnnlvt wttddes aohghn  sseoau ', Crypto.new(plaintext).ciphertext\r\n  end\r\nend\r\n"
}
{
  "language": "ruby",
  "type": "practice",
  "slug": "zipper",
  "title": "Zipper",
  "docs": {
    "instructions": "# Instructions\r\n\r\nCreating a zipper for a binary tree.\r\n\r\n[Zippers][zipper] are a purely functional way of navigating within a data structure and manipulating it.\r\nThey essentially contain a data structure and a pointer into that data structure (called the focus).\r\n\r\nFor example given a rose tree (where each node contains a value and a list of child nodes) a zipper might support these operations:\r\n\r\n- `from_tree` (get a zipper out of a rose tree, the focus is on the root node)\r\n- `to_tree` (get the rose tree out of the zipper)\r\n- `value` (get the value of the focus node)\r\n- `prev` (move the focus to the previous child of the same parent,\r\n  returns a new zipper)\r\n- `next` (move the focus to the next child of the same parent, returns a\r\n  new zipper)\r\n- `up` (move the focus to the parent, returns a new zipper)\r\n- `set_value` (set the value of the focus node, returns a new zipper)\r\n- `insert_before` (insert a new subtree before the focus node, it\r\n  becomes the `prev` of the focus node, returns a new zipper)\r\n- `insert_after` (insert a new subtree after the focus node, it becomes\r\n  the `next` of the focus node, returns a new zipper)\r\n- `delete` (removes the focus node and all subtrees, focus moves to the\r\n  `next` node if possible otherwise to the `prev` node if possible,\r\n  otherwise to the parent node, returns a new zipper)\r\n\r\n[zipper]: https://en.wikipedia.org/wiki/Zipper_%28data_structure%29\r\n",
    "hints": ""
  },
  "starter_code": "=begin\r\nWrite your code for the 'Zipper' exercise in this file. Make the tests in\r\n`zipper_test.rb` pass.\r\n\r\nTo get started with TDD, see the `README.md` file in your\r\n`ruby/zipper` directory.\r\n=end\r\n",
  "tests": "require 'minitest/autorun'\r\nrequire_relative 'zipper'\r\n\r\nclass ZipperTest < Minitest::Test\r\n  def test_data_is_retained\r\n    # skip\r\n    tree =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    zipper = Zipper.from_tree(tree)\r\n    value = zipper.to_tree\r\n    expected =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    assert_equal expected, value\r\n  end\r\n\r\n  def test_left_right_and_value\r\n    skip\r\n    tree =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    zipper = Zipper.from_tree(tree)\r\n    value = zipper.left.right.value\r\n    expected = 3\r\n    assert_equal expected, value\r\n  end\r\n\r\n  def test_dead_end\r\n    skip\r\n    tree =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    zipper = Zipper.from_tree(tree)\r\n    value = zipper.left.left\r\n    assert_nil value\r\n  end\r\n\r\n  def test_tree_from_deep_focus\r\n    skip\r\n    tree =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    zipper = Zipper.from_tree(tree)\r\n    value = zipper.left.right.to_tree\r\n    expected =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    assert_equal expected, value\r\n  end\r\n\r\n  def test_traversing_up_from_top\r\n    skip\r\n    tree =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    zipper = Zipper.from_tree(tree)\r\n    value = zipper.up\r\n    assert_nil value\r\n  end\r\n\r\n  def test_left_right_and_up\r\n    skip\r\n    tree =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    zipper = Zipper.from_tree(tree)\r\n    value = zipper.left.up.right.up.left.right.value\r\n    expected = 3\r\n    assert_equal expected, value\r\n  end\r\n\r\n  def test_left_right_up_and_up\r\n    skip\r\n    tree =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    zipper = Zipper.from_tree(tree)\r\n    value = zipper.left.right.up.up.value\r\n    expected = 1\r\n    assert_equal expected, value\r\n  end\r\n\r\n  def test_set_value\r\n    skip\r\n    tree =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    zipper = Zipper.from_tree(tree)\r\n    value = zipper.left.set_value(5).to_tree\r\n    expected =\r\n      Node.new(1,\r\n        Node.new(5,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    assert_equal expected, value\r\n  end\r\n\r\n  def test_set_value_after_traversing_up\r\n    skip\r\n    tree =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    zipper = Zipper.from_tree(tree)\r\n    value = zipper.left.right.up.set_value(5).to_tree\r\n    expected =\r\n      Node.new(1,\r\n        Node.new(5,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    assert_equal expected, value\r\n  end\r\n\r\n  def test_set_left_with_leaf\r\n    skip\r\n    tree =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    zipper = Zipper.from_tree(tree)\r\n    value = zipper.left.set_left(\r\n      Node.new(5,\r\n        nil,\r\n        nil)\r\n    ).to_tree\r\n    expected =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          Node.new(5,\r\n            nil,\r\n            nil),\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    assert_equal expected, value\r\n  end\r\n\r\n  def test_set_right_with_null\r\n    skip\r\n    tree =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    zipper = Zipper.from_tree(tree)\r\n    value = zipper.left.set_right(nil).to_tree\r\n    expected =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          nil),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    assert_equal expected, value\r\n  end\r\n\r\n  def test_set_right_with_subtree\r\n    skip\r\n    tree =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    zipper = Zipper.from_tree(tree)\r\n    value = zipper.set_right(\r\n      Node.new(6,\r\n        Node.new(7,\r\n          nil,\r\n          nil),\r\n        Node.new(8,\r\n          nil,\r\n          nil))\r\n    ).to_tree\r\n    expected =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(6,\r\n          Node.new(7,\r\n            nil,\r\n            nil),\r\n          Node.new(8,\r\n            nil,\r\n            nil)))\r\n    assert_equal expected, value\r\n  end\r\n\r\n  def test_set_value_on_deep_focus\r\n    skip\r\n    tree =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    zipper = Zipper.from_tree(tree)\r\n    value = zipper.left.right.set_value(5).to_tree\r\n    expected =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(5,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    assert_equal expected, value\r\n  end\r\n\r\n  def test_different_paths_to_same_zipper\r\n    skip\r\n    tree =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    zipper = Zipper.from_tree(tree)\r\n    value = zipper.left.up.right\r\n    expected_tree =\r\n      Node.new(1,\r\n        Node.new(2,\r\n          nil,\r\n          Node.new(3,\r\n            nil,\r\n            nil)),\r\n        Node.new(4,\r\n          nil,\r\n          nil))\r\n    expected_zipper = Zipper.from_tree(expected_tree)\r\n    expected = expected_zipper.right\r\n    assert_equal expected, value\r\n  end\r\nend\r\n"
}
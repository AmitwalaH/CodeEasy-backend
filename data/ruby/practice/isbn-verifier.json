{
  "language": "ruby",
  "type": "practice",
  "slug": "isbn-verifier",
  "title": "Isbn Verifier",
  "docs": {
    "instructions": "# Instructions\r\n\r\nThe [ISBN-10 verification process][isbn-verification] is used to validate book identification numbers.\r\nThese normally contain dashes and look like: `3-598-21508-8`\r\n\r\n## ISBN\r\n\r\nThe ISBN-10 format is 9 digits (0 to 9) plus one check character (either a digit or an X only).\r\nIn the case the check character is an X, this represents the value '10'.\r\nThese may be communicated with or without hyphens, and can be checked for their validity by the following formula:\r\n\r\n```text\r\n(d₁ * 10 + d₂ * 9 + d₃ * 8 + d₄ * 7 + d₅ * 6 + d₆ * 5 + d₇ * 4 + d₈ * 3 + d₉ * 2 + d₁₀ * 1) mod 11 == 0\r\n```\r\n\r\nIf the result is 0, then it is a valid ISBN-10, otherwise it is invalid.\r\n\r\n## Example\r\n\r\nLet's take the ISBN-10 `3-598-21508-8`.\r\nWe plug it in to the formula, and get:\r\n\r\n```text\r\n(3 * 10 + 5 * 9 + 9 * 8 + 8 * 7 + 2 * 6 + 1 * 5 + 5 * 4 + 0 * 3 + 8 * 2 + 8 * 1) mod 11 == 0\r\n```\r\n\r\nSince the result is 0, this proves that our ISBN is valid.\r\n\r\n## Task\r\n\r\nGiven a string the program should check if the provided string is a valid ISBN-10.\r\nPutting this into place requires some thinking about preprocessing/parsing of the string prior to calculating the check digit for the ISBN.\r\n\r\nThe program should be able to verify ISBN-10 both with and without separating dashes.\r\n\r\n## Caveats\r\n\r\nConverting from strings to numbers can be tricky in certain languages.\r\nNow, it's even trickier since the check digit of an ISBN-10 may be 'X' (representing '10').\r\nFor instance `3-598-21507-X` is a valid ISBN-10.\r\n\r\n[isbn-verification]: https://en.wikipedia.org/wiki/International_Standard_Book_Number\r\n",
    "hints": ""
  },
  "starter_code": "=begin\r\nWrite your code for the 'ISBN Verifier' exercise in this file. Make the tests in\r\n`isbn_verifier_test.rb` pass.\r\n\r\nTo get started with TDD, see the `README.md` file in your\r\n`ruby/isbn-verifier` directory.\r\n=end\r\n",
  "tests": "require 'minitest/autorun'\r\nrequire_relative 'isbn_verifier'\r\n\r\nclass IsbnVerifierTest < Minitest::Test\r\n  def test_valid_isbn\r\n    # skip\r\n    string = '3-598-21508-8'\r\n    assert IsbnVerifier.valid?(string), \"Expected true, '#{string}' is a valid isbn\"\r\n  end\r\n\r\n  def test_invalid_isbn_check_digit\r\n    skip\r\n    string = '3-598-21508-9'\r\n    refute IsbnVerifier.valid?(string), \"Expected false, '#{string}' is not a valid isbn\"\r\n  end\r\n\r\n  def test_valid_isbn_with_a_check_digit_of_10\r\n    skip\r\n    string = '3-598-21507-X'\r\n    assert IsbnVerifier.valid?(string), \"Expected true, '#{string}' is a valid isbn\"\r\n  end\r\n\r\n  def test_check_digit_is_a_character_other_than_x\r\n    skip\r\n    string = '3-598-21507-A'\r\n    refute IsbnVerifier.valid?(string), \"Expected false, '#{string}' is not a valid isbn\"\r\n  end\r\n\r\n  def test_invalid_check_digit_in_isbn_is_not_treated_as_zero\r\n    skip\r\n    string = '4-598-21507-B'\r\n    refute IsbnVerifier.valid?(string), \"Expected false, '#{string}' is not a valid isbn\"\r\n  end\r\n\r\n  def test_invalid_character_in_isbn_is_not_treated_as_zero\r\n    skip\r\n    string = '3-598-P1581-X'\r\n    refute IsbnVerifier.valid?(string), \"Expected false, '#{string}' is not a valid isbn\"\r\n  end\r\n\r\n  def test_x_is_only_valid_as_a_check_digit\r\n    skip\r\n    string = '3-598-2X507-9'\r\n    refute IsbnVerifier.valid?(string), \"Expected false, '#{string}' is not a valid isbn\"\r\n  end\r\n\r\n  def test_valid_isbn_without_separating_dashes\r\n    skip\r\n    string = '3598215088'\r\n    assert IsbnVerifier.valid?(string), \"Expected true, '#{string}' is a valid isbn\"\r\n  end\r\n\r\n  def test_isbn_without_separating_dashes_and_x_as_check_digit\r\n    skip\r\n    string = '359821507X'\r\n    assert IsbnVerifier.valid?(string), \"Expected true, '#{string}' is a valid isbn\"\r\n  end\r\n\r\n  def test_isbn_without_check_digit_and_dashes\r\n    skip\r\n    string = '359821507'\r\n    refute IsbnVerifier.valid?(string), \"Expected false, '#{string}' is not a valid isbn\"\r\n  end\r\n\r\n  def test_too_long_isbn_and_no_dashes\r\n    skip\r\n    string = '3598215078X'\r\n    refute IsbnVerifier.valid?(string), \"Expected false, '#{string}' is not a valid isbn\"\r\n  end\r\n\r\n  def test_too_short_isbn\r\n    skip\r\n    string = '00'\r\n    refute IsbnVerifier.valid?(string), \"Expected false, '#{string}' is not a valid isbn\"\r\n  end\r\n\r\n  def test_isbn_without_check_digit\r\n    skip\r\n    string = '3-598-21507'\r\n    refute IsbnVerifier.valid?(string), \"Expected false, '#{string}' is not a valid isbn\"\r\n  end\r\n\r\n  def test_check_digit_of_x_should_not_be_used_for_0\r\n    skip\r\n    string = '3-598-21515-X'\r\n    refute IsbnVerifier.valid?(string), \"Expected false, '#{string}' is not a valid isbn\"\r\n  end\r\n\r\n  def test_empty_isbn\r\n    skip\r\n    string = ''\r\n    refute IsbnVerifier.valid?(string), \"Expected false, '#{string}' is not a valid isbn\"\r\n  end\r\n\r\n  def test_input_is_9_characters\r\n    skip\r\n    string = '134456729'\r\n    refute IsbnVerifier.valid?(string), \"Expected false, '#{string}' is not a valid isbn\"\r\n  end\r\n\r\n  def test_invalid_characters_are_not_ignored_after_checking_length\r\n    skip\r\n    string = '3132P34035'\r\n    refute IsbnVerifier.valid?(string), \"Expected false, '#{string}' is not a valid isbn\"\r\n  end\r\n\r\n  def test_invalid_characters_are_not_ignored_before_checking_length\r\n    skip\r\n    string = '3598P215088'\r\n    refute IsbnVerifier.valid?(string), \"Expected false, '#{string}' is not a valid isbn\"\r\n  end\r\n\r\n  def test_input_is_too_long_but_contains_a_valid_isbn\r\n    skip\r\n    string = '98245726788'\r\n    refute IsbnVerifier.valid?(string), \"Expected false, '#{string}' is not a valid isbn\"\r\n  end\r\nend\r\n"
}
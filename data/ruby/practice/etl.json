{
  "language": "ruby",
  "type": "practice",
  "slug": "etl",
  "title": "Etl",
  "docs": {
    "instructions": "# Instructions\r\n\r\nYour task is to change the data format of letters and their point values in the game.\r\n\r\nCurrently, letters are stored in groups based on their score, in a one-to-many mapping.\r\n\r\n- 1 point: \"A\", \"E\", \"I\", \"O\", \"U\", \"L\", \"N\", \"R\", \"S\", \"T\",\r\n- 2 points: \"D\", \"G\",\r\n- 3 points: \"B\", \"C\", \"M\", \"P\",\r\n- 4 points: \"F\", \"H\", \"V\", \"W\", \"Y\",\r\n- 5 points: \"K\",\r\n- 8 points: \"J\", \"X\",\r\n- 10 points: \"Q\", \"Z\",\r\n\r\nThis needs to be changed to store each individual letter with its score in a one-to-one mapping.\r\n\r\n- \"a\" is worth 1 point.\r\n- \"b\" is worth 3 points.\r\n- \"c\" is worth 3 points.\r\n- \"d\" is worth 2 points.\r\n- etc.\r\n\r\nAs part of this change, the team has also decided to change the letters to be lower-case rather than upper-case.\r\n\r\n~~~~exercism/note\r\nIf you want to look at how the data was previously structured and how it needs to change, take a look at the examples in the test suite.\r\n~~~~\r\n",
    "hints": ""
  },
  "starter_code": "=begin\r\nWrite your code for the 'ETL' exercise in this file. Make the tests in\r\n`etl_test.rb` pass.\r\n\r\nTo get started with TDD, see the `README.md` file in your\r\n`ruby/etl` directory.\r\n=end\r\n",
  "tests": "require 'minitest/autorun'\r\nrequire_relative 'etl'\r\n\r\nclass EtlTest < Minitest::Test\r\n  def test_single_letter\r\n    # skip\r\n    old = {\r\n      1 => [\"A\"]\r\n    }\r\n    expected = {\r\n      'a' => 1\r\n    }\r\n    assert_equal expected, ETL.transform(old)\r\n  end\r\n\r\n  def test_single_score_with_multiple_letters\r\n    skip\r\n    old = {\r\n      1 => %w[A E I O U]\r\n    }\r\n    expected = {\r\n      'a' => 1,\r\n      'e' => 1,\r\n      'i' => 1,\r\n      'o' => 1,\r\n      'u' => 1\r\n    }\r\n    assert_equal expected, ETL.transform(old)\r\n  end\r\n\r\n  def test_multiple_scores_with_multiple_letters\r\n    skip\r\n    old = {\r\n      1 => %w[A E],\r\n      2 => %w[D G]\r\n    }\r\n    expected = {\r\n      'a' => 1,\r\n      'd' => 2,\r\n      'e' => 1,\r\n      'g' => 2\r\n    }\r\n    assert_equal expected, ETL.transform(old)\r\n  end\r\n\r\n  def test_multiple_scores_with_differing_numbers_of_letters\r\n    skip\r\n    old = {\r\n      1 => %w[A E I O U L N R S T],\r\n      2 => %w[D G],\r\n      3 => %w[B C M P],\r\n      4 => %w[F H V W Y],\r\n      5 => [\"K\"],\r\n      8 => %w[J X],\r\n      10 => %w[Q Z]\r\n    }\r\n    expected = {\r\n      'a' => 1,\r\n      'b' => 3,\r\n      'c' => 3,\r\n      'd' => 2,\r\n      'e' => 1,\r\n      'f' => 4,\r\n      'g' => 2,\r\n      'h' => 4,\r\n      'i' => 1,\r\n      'j' => 8,\r\n      'k' => 5,\r\n      'l' => 1,\r\n      'm' => 3,\r\n      'n' => 1,\r\n      'o' => 1,\r\n      'p' => 3,\r\n      'q' => 10,\r\n      'r' => 1,\r\n      's' => 1,\r\n      't' => 1,\r\n      'u' => 1,\r\n      'v' => 4,\r\n      'w' => 4,\r\n      'x' => 8,\r\n      'y' => 4,\r\n      'z' => 10\r\n    }\r\n    assert_equal expected, ETL.transform(old)\r\n  end\r\nend\r\n"
}
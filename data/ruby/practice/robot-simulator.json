{
  "language": "ruby",
  "type": "practice",
  "slug": "robot-simulator",
  "title": "Robot Simulator",
  "docs": {
    "instructions": "# Instructions\r\n\r\nWrite a robot simulator.\r\n\r\nA robot factory's test facility needs a program to verify robot movements.\r\n\r\nThe robots have three possible movements:\r\n\r\n- turn right\r\n- turn left\r\n- advance\r\n\r\nRobots are placed on a hypothetical infinite grid, facing a particular direction (north, east, south, or west) at a set of {x,y} coordinates,\r\ne.g., {3,8}, with coordinates increasing to the north and east.\r\n\r\nThe robot then receives a number of instructions, at which point the testing facility verifies the robot's new position, and in which direction it is pointing.\r\n\r\n- The letter-string \"RAALAL\" means:\r\n  - Turn right\r\n  - Advance twice\r\n  - Turn left\r\n  - Advance once\r\n  - Turn left yet again\r\n- Say a robot starts at {7, 3} facing north.\r\n  Then running this stream of instructions should leave it at {9, 4} facing west.\r\n",
    "hints": ""
  },
  "starter_code": "=begin\r\nWrite your code for the 'Robot Simulator' exercise in this file. Make the tests in\r\n`robot_simulator_test.rb` pass.\r\n\r\nTo get started with TDD, see the `README.md` file in your\r\n`ruby/robot-simulator` directory.\r\n=end\r\n",
  "tests": "require 'minitest/autorun'\r\nrequire_relative 'robot_simulator'\r\n\r\nclass RobotTurningTest < Minitest::Test\r\n  attr_reader :robot\r\n\r\n  def setup\r\n    @robot = Robot.new\r\n  end\r\n\r\n  def test_robot_bearing\r\n    %i[east west north south].each do |direction|\r\n      robot.orient(direction)\r\n      assert_equal direction, robot.bearing\r\n    end\r\n  end\r\n\r\n  def test_invalid_robot_bearing\r\n    skip\r\n    assert_raises ArgumentError do\r\n      robot.orient(:crood)\r\n    end\r\n  end\r\n\r\n  def test_turn_right_from_north\r\n    skip\r\n    robot.orient(:north)\r\n    robot.turn_right\r\n    assert_equal :east, robot.bearing\r\n  end\r\n\r\n  def test_turn_right_from_east\r\n    skip\r\n    robot.orient(:east)\r\n    robot.turn_right\r\n    assert_equal :south, robot.bearing\r\n  end\r\n\r\n  def test_turn_right_from_south\r\n    skip\r\n    robot.orient(:south)\r\n    robot.turn_right\r\n    assert_equal :west, robot.bearing\r\n  end\r\n\r\n  def test_turn_right_from_west\r\n    skip\r\n    robot.orient(:west)\r\n    robot.turn_right\r\n    assert_equal :north, robot.bearing\r\n  end\r\n\r\n  def test_turn_left_from_north\r\n    skip\r\n    robot.orient(:north)\r\n    robot.turn_left\r\n    assert_equal :west, robot.bearing\r\n  end\r\n\r\n  def test_turn_left_from_east\r\n    skip\r\n    robot.orient(:east)\r\n    robot.turn_left\r\n    assert_equal :north, robot.bearing\r\n  end\r\n\r\n  def test_turn_left_from_south\r\n    skip\r\n    robot.orient(:south)\r\n    robot.turn_left\r\n    assert_equal :east, robot.bearing\r\n  end\r\n\r\n  def test_turn_left_from_west\r\n    skip\r\n    robot.orient(:west)\r\n    robot.turn_left\r\n    assert_equal :south, robot.bearing\r\n  end\r\n\r\n  def test_robot_coordinates\r\n    skip\r\n    robot.at(3, 0)\r\n    assert_equal [3, 0], robot.coordinates\r\n  end\r\n\r\n  def test_other_robot_coordinates\r\n    skip\r\n    robot.at(-2, 5)\r\n    assert_equal [-2, 5], robot.coordinates\r\n  end\r\n\r\n  def test_advance_when_facing_north\r\n    skip\r\n    robot.at(0, 0)\r\n    robot.orient(:north)\r\n    robot.advance\r\n    assert_equal [0, 1], robot.coordinates\r\n  end\r\n\r\n  def test_advance_when_facing_east\r\n    skip\r\n    robot.at(0, 0)\r\n    robot.orient(:east)\r\n    robot.advance\r\n    assert_equal [1, 0], robot.coordinates\r\n  end\r\n\r\n  def test_advance_when_facing_south\r\n    skip\r\n    robot.at(0, 0)\r\n    robot.orient(:south)\r\n    robot.advance\r\n    assert_equal [0, -1], robot.coordinates\r\n  end\r\n\r\n  def test_advance_when_facing_west\r\n    skip\r\n    robot.at(0, 0)\r\n    robot.orient(:west)\r\n    robot.advance\r\n    assert_equal [-1, 0], robot.coordinates\r\n  end\r\nend\r\n\r\nclass RobotSimulatorTest < Minitest::Test\r\n  def simulator\r\n    @simulator ||= Simulator.new\r\n  end\r\n\r\n  def test_instructions_for_turning_left\r\n    skip\r\n    assert_equal [:turn_left], simulator.instructions('L')\r\n  end\r\n\r\n  def test_instructions_for_turning_right\r\n    skip\r\n    assert_equal [:turn_right], simulator.instructions('R')\r\n  end\r\n\r\n  def test_instructions_for_advancing\r\n    skip\r\n    assert_equal [:advance], simulator.instructions('A')\r\n  end\r\n\r\n  def test_series_of_instructions\r\n    skip\r\n    commands = %i[turn_right advance advance turn_left]\r\n    assert_equal commands, simulator.instructions('RAAL')\r\n  end\r\n\r\n  def test_instruct_robot\r\n    skip\r\n    robot = Robot.new\r\n    simulator.place(robot, x: -2, y: 1, direction: :east)\r\n    simulator.evaluate(robot, 'RLAALAL')\r\n    assert_equal [0, 2], robot.coordinates\r\n    assert_equal :west, robot.bearing\r\n  end\r\n\r\n  def test_instruct_many_robots\r\n    skip\r\n    robot1 = Robot.new\r\n    robot2 = Robot.new\r\n    robot3 = Robot.new\r\n    simulator.place(robot1, x: 0, y: 0, direction: :north)\r\n    simulator.place(robot2, x: 2, y: -7, direction: :east)\r\n    simulator.place(robot3, x: 8, y: 4, direction: :south)\r\n    simulator.evaluate(robot1, 'LAAARALA')\r\n    simulator.evaluate(robot2, 'RRAAAAALA')\r\n    simulator.evaluate(robot3, 'LAAARRRALLLL')\r\n\r\n    assert_equal [-4, 1], robot1.coordinates\r\n    assert_equal :west, robot1.bearing\r\n\r\n    assert_equal [-3, -8], robot2.coordinates\r\n    assert_equal :south, robot2.bearing\r\n\r\n    assert_equal [11, 5], robot3.coordinates\r\n    assert_equal :north, robot3.bearing\r\n  end\r\nend\r\n"
}
{
  "language": "ruby",
  "slug": "blackjack",
  "docs": {
    "introduction": "# Case\r\n\r\n[Case][case] (often referred to as switch in other languages) is a form of control expression like if-else.\r\nCase allows for chaining of multiple if-else-if statements and can be more readable while still providing flow control.\r\n\r\nA case is defined by the keyword `case` followed by an optional expression.\r\nThen for each case, the keyword `when` is used followed by an expression which is compared to the case expression.\r\nThe `when` keyword should not be indented from the `case` keyword.\r\nAfter the `when` keyword is the code that should be executed if the case expression matches the when expression.\r\nCase allows for an optional `else` statement which is executed if no other case matches.\r\n\r\nThe case expression is evaluated and then compared to each `when` expression.\r\nThe expression is compared using the case equality operator (`===`).\r\n\r\n```ruby\r\nvalue = 1\r\ncase value\r\nwhen 1\r\n  \"One\"\r\nwhen 2\r\n  \"Two\"\r\nelse\r\n  \"Other\"\r\nend\r\n\r\n# This is the same as:\r\nvalue = 1\r\nif 1 === value\r\n  \"One\"\r\nelsif 2 === value\r\n  \"Two\"\r\nelse\r\n  \"Other\"\r\nend\r\n```\r\n\r\n## Case equality operator (`===`)\r\n\r\nThe case equality operator (`===`) is a bit different from the equality operator (`==`).\r\nThe operator checks if the right side is a member of the set described by the left side.\r\nThis means that it does matter where each operand is placed.\r\nHow this works depends on the type of the left side, for example a `Range` would check if the right side is in the range or a `Object` would check if the right side is an instance of the `Object`.\r\n\r\n```ruby\r\n(1..3) == 1  # => false\r\n(1..3) === 1 # => true\r\n\r\nString == \"foo\"  # => false\r\nString === \"foo\" # => true\r\n```\r\n\r\n## Case with multiple expressions\r\n\r\nCases allow for matching multiple expressions in a single case with each possible value separated by a comma.\r\nIt will execute the code if any of the expressions match.\r\nThis can be useful when you want a single case to have multiple possible values.\r\n\r\n```ruby\r\ncase var\r\nwhen 1, 2\r\n  \"One or two\"\r\nelse\r\n  \"Other\"\r\nend\r\n```\r\n\r\n## Cases with ranges\r\n\r\nCases can also check if a value is in a range.\r\nThis is done by having a range as the when expression.\r\n\r\n```ruby\r\ncase var\r\nwhen 1..3\r\n  puts \"One to three\"\r\nelse\r\n  puts \"Other\"\r\nend\r\n```\r\n\r\n## Cases with no case expression\r\n\r\nWhen there is no need for a case expression, it is possible to omit it.\r\nDoing this will make it so that each case expression is evaluated for truthiness.\r\nAnd makes them behave like if-else-if statements.\r\n\r\n```ruby\r\ncase\r\nwhen 1 == 1\r\n  \"One is equal to one\"\r\nwhen 1 > 2\r\n  \"One is greater than two\"\r\nelse\r\n  \"Other\"\r\nend\r\n```\r\n\r\n## Single line when\r\n\r\nRuby allows for single line case statements.\r\nThis can be used when you have a simple single line statement.\r\nThe single line when statement is written as `when <expression> then <statement>`.\r\nAnd when used in the else statement it is written as `else <statement>`.\r\n\r\n```ruby\r\ncase var\r\nwhen 1 then \"One\"\r\nwhen 2 then \"Two\"\r\nelse \"Other\"\r\nend\r\n```\r\n\r\n## Case with types\r\n\r\nCase allows for the matching with types.\r\nThis is useful when wanting different behavior depending on the type of a variable.\r\n\r\n```ruby\r\ncase var\r\nwhen Integer\r\n  \"Integer\"\r\nwhen String\r\n  \"String\"\r\nelse\r\n  \"Other\"\r\nend\r\n```\r\n\r\n[case]: https://www.rubyguides.com/2015/10/ruby-case/\r\n",
    "instructions": "# Instructions\r\n\r\nIn this exercise we will simulate the first turn of a [Blackjack][blackjack] game.\r\n\r\n## 1. Calculate the value of any given card.\r\n\r\nYou will receive two cards and will be able to see the face up card of the dealer.\r\nAll cards are represented using a string such as \"ace\", \"king\", \"three\", \"two\", etc. The values of each card are:\r\n\r\n| card  | value |  card   | value |\r\n| :---: | :---: | :-----: | :---: |\r\n|  ace  |  11   |  eight  |   8   |\r\n|  two  |   2   |  nine   |   9   |\r\n| three |   3   |   ten   |  10   |\r\n| four  |   4   |  jack   |  10   |\r\n| five  |   5   |  queen  |  10   |\r\n|  six  |   6   |  king   |  10   |\r\n| seven |   7   | _other_ |   0   |\r\n\r\n~~~~exercism/note\r\nCommonly, aces can take the value of 1 or 11 but for simplicity we will assume that they can only take the value of 11.\r\n~~~~\r\n\r\nImplement the method `Blackjack.parse_card` which takes a card as a string as an argument.\r\nThe method should return the value of the card as an integer.\r\n\r\n```ruby\r\nBlackjack.parse_card(\"ace\")\r\n# => 11\r\n```\r\n\r\n## 2. Name ranges of values.\r\n\r\nThe player score has to be categorized into ranges of values.\r\nPlayer scores are computed by adding up the values of the two player cards.\r\nThe ranges that are used are:\r\n\r\n|   range   |  value   |\r\n| :-------: | :------: |\r\n|    low    | [4, 11]  |\r\n|    mid    | [12, 16] |\r\n|   high    | [17, 20] |\r\n| blackjack |   [21]   |\r\n\r\nImplement the method `Blackjack.card_range` which takes two cards as strings as arguments.\r\nThe method should return the name of the range of values the two cards fall into.\r\n\r\n```ruby\r\nBlackjack.card_range(\"ten\", \"king\")\r\n# => \"high\"\r\n```\r\n\r\n## 3. Implement the decision logic for the first turn.\r\n\r\nDepending on your two cards and the card of the dealer, there is a strategy for the first turn of the game, in which you have the following options:\r\n\r\n- Stand (S)\r\n- Hit (H)\r\n- Split (P)\r\n- Automatically win (W)\r\n\r\nAlthough not optimal yet, you will follow the strategy your friend Alex has been developing, which is as follows:\r\n\r\n- If you have a pair of aces you must always split them.\r\n- If you have a Blackjack (two cards that sum up to a value of 21), and the dealer does not have an ace, a face card or a ten then you automatically win.\r\n  If the dealer does have any of those cards then you'll have to stand and wait for the reveal of the other card.\r\n- If your cards sum up to a value within the range [17, 20] you should always stand.\r\n- If your cards sum up to a value within the range [12, 16] you should always stand unless the dealer has a 7 or higher, in which case you should always hit.\r\n- If your cards sum up to 11 or lower you should always hit.\r\n\r\nImplement the method `Blackjack.first_turn` which takes three cards as strings as arguments.\r\nThe method should return the decision you should take as a string.\r\n\r\n```ruby\r\nBlackjack.first_turn(\"ace\", \"ace\", \"two\")\r\n# => \"P\"\r\n```\r\n\r\n[blackjack]: https://en.wikipedia.org/wiki/Blackjack\r\n",
    "hints": "# Hints\r\n\r\n## 1. Calculate the value of any given card.\r\n\r\n- The `Blackjack.parse_card` method should take a string (e.g. `\"ace\"`) and return its value (e.g. 11).\r\n- Define a [`case` statement][case] and assign the value of the card as the case's value.\r\n- King, Queen, Jack and 10 can be handled with a single case.\r\n- The `case` can have an `else` case.\r\n  In any case the function should return `0` for unknown cards.\r\n\r\n## 2. Name ranges of values.\r\n\r\n- Compute the player score by adding up the values of the two player cards.\r\n- Define a [`case` statement][case] and assign the name of the range as the case's value.\r\n- The switch can use [`Range`][range] objects as cases to check if a value is in a range.\r\n\r\n## 3. Implement the decision logic for the first turn.\r\n\r\n- Compute the player score by adding up the values of the two player cards.\r\n- You can either use a big [`case` statement][case] on the player\r\n  score (maybe with nested `if`-statements on the dealer-score in some cases),\r\n- or you could distinguish separate player score categories (say \"small hands\"\r\n  with a score less than 12, \"medium hands\" with a score in the range 12..20 and\r\n  \"large hands\" with a score greater than 20) and write separate functions for\r\n  all (or some) of these categories.\r\n\r\n[case]: https://www.rubyguides.com/2015/10/ruby-case/\r\n[range]: https://rubyapi.org/o/range\r\n"
  },
  "starter_code": "module Blackjack\r\n  def self.parse_card(card)\r\n    raise \"Please implement the Blackjack.parse_card method\"\r\n  end\r\n\r\n  def self.card_range(card1, card2)\r\n    raise \"Please implement the Blackjack.card_range method\"\r\n  end\r\n\r\n  def self.first_turn(card1, card2, dealer_card)\r\n    raise \"Please implement the Blackjack.first_turn method\"\r\n  end\r\nend\r\n",
  "tests": "require 'minitest/autorun'\r\nrequire_relative 'blackjack'\r\n\r\nclass BlackjackTest < Minitest::Test\r\n  def test_parse_ace\r\n    assert_equal 11, Blackjack.parse_card(\"ace\")\r\n  end\r\n\r\n  def test_parse_two\r\n    assert_equal 2, Blackjack.parse_card(\"two\")\r\n  end\r\n\r\n  def test_parse_three\r\n    assert_equal 3, Blackjack.parse_card(\"three\")\r\n  end\r\n\r\n  def test_parse_four\r\n    assert_equal 4, Blackjack.parse_card(\"four\")\r\n  end\r\n\r\n  def test_parse_five\r\n    assert_equal 5, Blackjack.parse_card(\"five\")\r\n  end\r\n\r\n  def test_parse_six\r\n    assert_equal 6, Blackjack.parse_card(\"six\")\r\n  end\r\n\r\n  def test_parse_seven\r\n    assert_equal 7, Blackjack.parse_card(\"seven\")\r\n  end\r\n\r\n  def test_parse_eight\r\n    assert_equal 8, Blackjack.parse_card(\"eight\")\r\n  end\r\n\r\n  def test_parse_nine\r\n    assert_equal 9, Blackjack.parse_card(\"nine\")\r\n  end\r\n\r\n  def test_parse_ten\r\n    assert_equal 10, Blackjack.parse_card(\"ten\")\r\n  end\r\n\r\n  def test_parse_jack\r\n    assert_equal 10, Blackjack.parse_card(\"jack\")\r\n  end\r\n\r\n  def test_parse_queen\r\n    assert_equal 10, Blackjack.parse_card(\"queen\")\r\n  end\r\n\r\n  def test_parse_king\r\n    assert_equal 10, Blackjack.parse_card(\"king\")\r\n  end\r\n\r\n  def test_parse_unknown_card\r\n    assert_equal 0, Blackjack.parse_card(\"joker\")\r\n  end\r\n\r\n  def test_lower_low_range\r\n    assert_equal \"low\", Blackjack.card_range(\"two\", \"two\")\r\n  end\r\n\r\n  def test_mid_low_range\r\n    assert_equal \"low\", Blackjack.card_range(\"three\", \"four\")\r\n  end\r\n\r\n  def test_upper_low_range\r\n    assert_equal \"low\", Blackjack.card_range(\"four\", \"seven\")\r\n  end\r\n\r\n  def test_lower_mid_range\r\n    assert_equal \"mid\", Blackjack.card_range(\"seven\", \"five\")\r\n  end\r\n\r\n  def test_mid_mid_range\r\n    assert_equal \"mid\", Blackjack.card_range(\"seven\", \"seven\")\r\n  end\r\n\r\n  def test_upper_mid_range\r\n    assert_equal \"mid\", Blackjack.card_range(\"nine\", \"seven\")\r\n  end\r\n\r\n  def test_lower_high_range\r\n    assert_equal \"high\", Blackjack.card_range(\"nine\", \"eight\")\r\n  end\r\n\r\n  def test_mid_high_range\r\n    assert_equal \"high\", Blackjack.card_range(\"eight\", \"queen\")\r\n  end\r\n\r\n  def test_upper_high_range\r\n    assert_equal \"high\", Blackjack.card_range(\"king\", \"ten\")\r\n  end\r\n\r\n  def test_blackjack_range\r\n    assert_equal \"blackjack\", Blackjack.card_range(\"ace\", \"ten\")\r\n  end\r\n\r\n  def test_first_turn_pair_of_aces\r\n    assert_equal \"P\", Blackjack.first_turn(\"ace\", \"ace\", \"ace\")\r\n  end\r\n\r\n  def test_first_turn_pair_of_jacks\r\n    assert_equal \"S\", Blackjack.first_turn(\"jack\", \"jack\", \"ace\")\r\n  end\r\n\r\n  def test_first_turn_pair_of_queens\r\n    assert_equal \"S\", Blackjack.first_turn(\"queen\", \"queen\", \"ace\")\r\n  end\r\n\r\n  def test_first_turn_pair_of_twos\r\n    assert_equal \"H\", Blackjack.first_turn(\"two\", \"two\", \"ace\")\r\n  end\r\n\r\n  def test_first_turn_pair_of_five\r\n    assert_equal \"H\", Blackjack.first_turn(\"five\", \"five\", \"ace\")\r\n  end\r\n\r\n  def test_first_turn_blackjack_with_ace_for_dealer\r\n    assert_equal \"S\", Blackjack.first_turn(\"ace\", \"king\", \"ace\")\r\n  end\r\n\r\n  def test_first_turn_blackjack_with_queen_for_dealer\r\n    assert_equal \"S\", Blackjack.first_turn(\"jack\", \"king\", \"queen\")\r\n  end\r\n\r\n  def test_first_turn_blackjack_with_five_for_dealer\r\n    assert_equal \"W\", Blackjack.first_turn(\"ace\", \"king\", \"five\")\r\n  end\r\n\r\n  def test_first_turn_blackjack_with_nine_for_dealer\r\n    assert_equal \"W\", Blackjack.first_turn(\"ace\", \"king\", \"nine\")\r\n  end\r\n\r\n  def test_first_turn_score_of_20\r\n    assert_equal \"S\", Blackjack.first_turn(\"king\", \"queen\", \"ace\")\r\n  end\r\n\r\n  def test_first_turn_score_of_19\r\n    assert_equal \"S\", Blackjack.first_turn(\"king\", \"nine\", \"ace\")\r\n  end\r\n\r\n  def test_first_turn_score_of_18\r\n    assert_equal \"S\", Blackjack.first_turn(\"queen\", \"eight\", \"ace\")\r\n  end\r\n\r\n  def test_first_turn_score_of_17\r\n    assert_equal \"S\", Blackjack.first_turn(\"jack\", \"seven\", \"ace\")\r\n  end\r\n\r\n  def test_first_turn_score_of_16_with_six_for_dealer\r\n    assert_equal \"S\", Blackjack.first_turn(\"jack\", \"six\", \"six\")\r\n  end\r\n\r\n  def test_first_turn_score_of_16_with_seven_for_dealer\r\n    assert_equal \"H\", Blackjack.first_turn(\"nine\", \"seven\", \"seven\")\r\n  end\r\n\r\n  def test_first_turn_score_of_16_with_ace_for_dealer\r\n    assert_equal \"H\", Blackjack.first_turn(\"nine\", \"seven\", \"ace\")\r\n  end\r\n\r\n  def test_first_turn_score_of_15_with_six_for_dealer\r\n    assert_equal \"S\", Blackjack.first_turn(\"nine\", \"six\", \"six\")\r\n  end\r\n\r\n  def test_first_turn_score_of_15_with_seven_for_dealer\r\n    assert_equal \"H\", Blackjack.first_turn(\"eight\", \"seven\", \"seven\")\r\n  end\r\n\r\n  def test_first_turn_score_of_15_with_queen_for_dealer\r\n    assert_equal \"H\", Blackjack.first_turn(\"six\", \"nine\", \"queen\")\r\n  end\r\n\r\n  def test_first_turn_score_of_14_with_six_for_dealer\r\n    assert_equal \"S\", Blackjack.first_turn(\"eight\", \"six\", \"six\")\r\n  end\r\n\r\n  def test_first_turn_score_of_14_with_seven_for_dealer\r\n    assert_equal \"H\", Blackjack.first_turn(\"seven\", \"seven\", \"seven\")\r\n  end\r\n\r\n  def test_first_turn_score_of_14_with_queen_for_dealer\r\n    assert_equal \"H\", Blackjack.first_turn(\"five\", \"nine\", \"queen\")\r\n  end\r\n\r\n  def test_first_turn_score_of_13_with_six_for_dealer\r\n    assert_equal \"S\", Blackjack.first_turn(\"seven\", \"six\", \"six\")\r\n  end\r\n\r\n  def test_first_turn_score_of_13_with_seven_for_dealer\r\n    assert_equal \"H\", Blackjack.first_turn(\"six\", \"seven\", \"seven\")\r\n  end\r\n\r\n  def test_first_turn_score_of_13_with_queen_for_dealer\r\n    assert_equal \"H\", Blackjack.first_turn(\"four\", \"nine\", \"queen\")\r\n  end\r\n\r\n  def test_first_turn_score_of_12_with_six_for_dealer\r\n    assert_equal \"S\", Blackjack.first_turn(\"six\", \"six\", \"six\")\r\n  end\r\n\r\n  def test_first_turn_score_of_12_with_seven_for_dealer\r\n    assert_equal \"H\", Blackjack.first_turn(\"five\", \"seven\", \"seven\")\r\n  end\r\n\r\n  def test_first_turn_score_of_12_with_queen_for_dealer\r\n    assert_equal \"H\", Blackjack.first_turn(\"three\", \"nine\", \"queen\")\r\n  end\r\n\r\n  def test_first_turn_score_of_11_with_king_for_dealer\r\n    assert_equal \"H\", Blackjack.first_turn(\"four\", \"seven\", \"king\")\r\n  end\r\n\r\n  def test_first_turn_score_of_10_with_two_for_dealer\r\n    assert_equal \"H\", Blackjack.first_turn(\"four\", \"six\", \"two\")\r\n  end\r\n\r\n  def test_first_turn_score_of_5_with_queen_for_dealer\r\n    assert_equal \"H\", Blackjack.first_turn(\"two\", \"three\", \"queen\")\r\n  end\r\n\r\n  def test_first_turn_score_of_4_with_five_for_dealer\r\n    assert_equal \"H\", Blackjack.first_turn(\"two\", \"two\", \"five\")\r\n  end\r\nend\r\n"
}
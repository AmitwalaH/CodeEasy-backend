{
  "language": "ruby",
  "slug": "boutique-inventory",
  "docs": {
    "introduction": "# Introduction\r\n\r\n## More enumeration methods\r\n\r\nIn Bird Count, you were introduced to the `count`, `any?`, `select`, `all?` and `map` enumeration methods.\r\nHere's a recap of those, with a few extras added:\r\n\r\n```ruby\r\nfibonacci = [0, 1, 1, 2, 3, 5, 8, 13]\r\n\r\nfibonacci.count  { |number| number == 1 }   #=> 2\r\nfibonacci.any?   { |number| number > 20 }   #=> false\r\nfibonacci.none?  { |number| number > 20 }   #=> true\r\nfibonacci.select { |number| number.odd? }   #=> [1, 1, 3, 5, 13]\r\nfibonacci.all?   { |number| number < 20 }   #=> true\r\nfibonacci.map    { |number| number * 2  }   #=> [0, 2, 2, 4, 6, 10, 16, 26]\r\nfibonacci.select { |number| number >= 5}    #=> [5, 8, 13]\r\nfibonacci.find   { |number| number >= 6}    #=> 8\r\n\r\n# Some methods work with or without a block\r\nfibonacci.sum  #=> 33\r\nfibonacci.sum {| number | number * number }  #=> 273\r\n\r\n# There are also methods to help with nested arrays:\r\nanimals = [ ['cat', 'bob'], ['horse', 'caris'], ['mouse', 'arya'] ]\r\nanimals.flatten  #=> [\"cat\", \"bob\", \"horse\", \"caris\", \"mouse\", \"arya\"]\r\n```\r\n\r\n## Enumerating Hashes\r\n\r\nEnumerating `Hash` objects is exactly the same as enumerating `Array` objects, except that the block receives two arguments: the key and the value:\r\n\r\n```ruby\r\npet_names = {cat: \"bob\", horse: \"caris\", mouse: \"arya\"}\r\npet_names.each { |animal, name| ... }\r\n```\r\n\r\nIf you only need one of the values, you can use the special `_` symbol to indicate that one value is not needed.\r\nThis helps both in terms of developer clarity and also is a performance optimisation.\r\n\r\n```ruby\r\npet_names = {cat: \"bob\", horse: \"caris\", mouse: \"arya\"}\r\npet_names.map { |_, name| name }  #=> [\"bob\", \"caris\", \"arya\"]\r\n```\r\n\r\n## Nested Enumerations\r\n\r\nYou can also enumerate in nested blocks, and daisy chain methods together.\r\nFor example, if we have an array of hashes of animals, and we want to extract the animals with short names, we might want to do something like:\r\n\r\n```ruby\r\npets = [\r\n  { animal: \"cats\", names: [\"bob\", \"fred\", \"sandra\"] },\r\n  { animal: \"horses\", names: [\"caris\", \"black beard\", \"speedy\"] },\r\n  { animal: \"mice\", names: [\"arya\", \"jerry\"] }\r\n]\r\n\r\npets.map { |pet|\r\n  pet[:names].select { |name| name.length <= 5 }\r\n}.flatten.sort\r\n#=> [\"arya\", \"bob\", \"caris\", \"fred\", \"jerry\"]\r\n```\r\n",
    "instructions": "# Instructions\r\n\r\nYou run an online fashion boutique. Your big annual sale is coming up, so you want to create some functionality to help you take stock of your inventory to make sure you're ready.\r\n\r\nA single item in the inventory is represented by a hash, and the whole inventory is an array of these hashes.\r\n\r\n```ruby\r\n[\r\n  {\r\n    name: \"White Shirt\",\r\n    price: 40,\r\n    quantity_by_size: {s: 3, m: 7, l: 8, xl: 4}\r\n  },\r\n  { ... }\r\n]\r\n```\r\n\r\n## 1. Return a list of the names of the items\r\n\r\nImplement `BoutiqueInventory.item_names`, which should return a list of the item names ordered alphabetically.\r\n\r\n```ruby\r\nBoutiqueInventory.new([\r\n  {price: 65.00, name: \"Maxi Brown Dress\", quantity_by_size: {s: 3, m: 7, l: 8, xl: 4}},\r\n  {price: 50.00, name: \"Red Short Skirt\", quantity_by_size: {}},\r\n  {price: 29.99, name: \"Black Short Skirt\", quantity_by_size: {s: 1, xl: 4}},\r\n  {price: 20.00, name: \"Bamboo Socks Cats\", quantity_by_size: {s: 7, m: 2}}\r\n]).item_names\r\n\r\n#=> [\"Bamboo Socks Cats\", \"Black Short Skirt\", \"Maxi Brown Dress\", \"Red Short Skirt\"]\r\n```\r\n\r\n## 2. Return any items that are cheap\r\n\r\nImplement `BoutiqueInventory.cheap` which should return any items that cost less than $30.\r\n\r\n```ruby\r\nBoutiqueInventory.new([\r\n  {price: 65.00, name: \"Maxi Brown Dress\", quantity_by_size: {s: 3, m: 7, l: 8, xl: 4}},\r\n  {price: 50.00, name: \"Red Short Skirt\", quantity_by_size: {}},\r\n  {price: 29.99, name: \"Black Short Skirt\", quantity_by_size: {s: 1, xl: 4}},\r\n  {price: 20.00, name: \"Bamboo Socks Cats\", quantity_by_size: {s: 7, m: 2}}\r\n]).cheap\r\n\r\n# => [\r\n#      {price: 29.99, name: \"Black Short Skirt\", quantity_by_size: {s: 1, xl: 4}},\r\n#      {price: 20.00, name: \"Bamboo Socks Cats\", quantity_by_size: {s: 7, m: 2}}\r\n#    ]\r\n```\r\n\r\n## 3. Return any items that are out of stock\r\n\r\nImplement `BoutiqueInventory.out_of_stock` which should return any items that have no stock (where `quantity_by_size` is empty).\r\n\r\n```ruby\r\nBoutiqueInventory.new([\r\n  {price: 65.00, name: \"Maxi Brown Dress\", quantity_by_size: {s: 3, m: 7, l: 8, xl: 4}},\r\n  {price: 50.00, name: \"Red Short Skirt\", quantity_by_size: {}},\r\n  {price: 29.99, name: \"Black Short Skirt\", quantity_by_size: {s: 1, xl: 4}},\r\n  {price: 20.00, name: \"Bamboo Socks Cats\", quantity_by_size: {s: 7, m: 2}}\r\n]).out_of_stock\r\n\r\n#=> [{price: 50.00, name: \"Red Short Skirt\", quantity_by_size: {}}]\r\n```\r\n\r\n## 4. Return a single item's stock\r\n\r\nImplement `BoutiqueInventory.stock_for_item(name)` to return the stock of an item by its name:\r\n\r\n```ruby\r\nBoutiqueInventory.new([\r\n  {price: 65.00, name: \"Maxi Brown Dress\", quantity_by_size: {s: 3, m: 7, l: 8, xl: 4}},\r\n  {price: 50.00, name: \"Red Short Skirt\", quantity_by_size: {}},\r\n  {price: 29.99, name: \"Black Short Skirt\", quantity_by_size: {s: 1, xl: 4}},\r\n  {price: 20.00, name: \"Bamboo Socks Cats\", quantity_by_size: {s: 7, m: 2}}\r\n]).stock_for_item(\"Black Short Skirt\")\r\n\r\n#=> {s: 1, xl: 4}\r\n```\r\n\r\n## 5. Return the total stock\r\n\r\nImplement `BoutiqueInventory.total_stock` to calculate the total amount of items in your storeroom:\r\n\r\n```ruby\r\nBoutiqueInventory.new([\r\n  {price: 65.00, name: \"Maxi Brown Dress\", quantity_by_size: {s: 3, m: 7, l: 8, xl: 4}},\r\n  {price: 50.00, name: \"Red Short Skirt\", quantity_by_size: {}},\r\n  {price: 29.99, name: \"Black Short Skirt\", quantity_by_size: {s: 1, xl: 4}},\r\n  {price: 20.00, name: \"Bamboo Socks Cats\", quantity_by_size: {s: 7, m: 2}}\r\n]).total_stock\r\n\r\n#=> 36\r\n```\r\n",
    "hints": ""
  },
  "starter_code": "class BoutiqueInventory\r\n  def initialize(items)\r\n    @items = items\r\n  end\r\n\r\n  def item_names\r\n    raise 'Implement the BoutiqueInventory#item_names method'\r\n  end\r\n\r\n  def cheap\r\n    raise 'Implement the BoutiqueInventory#cheap method'\r\n  end\r\n\r\n  def out_of_stock\r\n    raise 'Implement the BoutiqueInventory#out_of_stock method'\r\n  end\r\n\r\n  def stock_for_item(name)\r\n    raise 'Implement the BoutiqueInventory#stock_for_item method'\r\n  end\r\n\r\n  def total_stock\r\n    raise 'Implement the BoutiqueInventory#total_stock method'\r\n  end\r\n\r\n  private\r\n  attr_reader :items\r\nend\r\n",
  "tests": "require 'minitest/autorun'\r\nrequire_relative 'boutique_inventory'\r\n\r\nclass BoutiqueInventoryTest < Minitest::Test\r\n  def test_no_item_names\r\n    assert_empty BoutiqueInventory.new([]).item_names\r\n  end\r\n\r\n  def test_one_item_name\r\n    items = [\r\n      { price: 65.00, name: \"Red Brown Dress\", quantity_by_size: {} }\r\n    ]\r\n    names = [\"Red Brown Dress\"]\r\n    assert_equal names, BoutiqueInventory.new(items).item_names\r\n  end\r\n\r\n  def test_three_item_names\r\n    items = [\r\n      { price: 65.00, name: \"Red Brown Dress\", quantity_by_size: { s: 1 } },\r\n      { price: 50.00, name: \"Red Short Skirt\", quantity_by_size: { m: 1 } },\r\n      { price: 29.99, name: \"Black Short Skirt\", quantity_by_size: {} }\r\n    ]\r\n    names = [\"Black Short Skirt\", \"Red Brown Dress\", \"Red Short Skirt\"]\r\n    assert_equal names, BoutiqueInventory.new(items).item_names\r\n  end\r\n\r\n  def test_cheap_for_no_items\r\n    assert_empty BoutiqueInventory.new([]).cheap\r\n  end\r\n\r\n  def test_cheap_for_no_cheap_items\r\n    shoes = { price: 30.00, name: \"Shoes\", quantity_by_size: {} }\r\n    coat = { price: 65.00, name: \"Coat\", quantity_by_size: {} }\r\n    items = [shoes, coat]\r\n    assert_empty BoutiqueInventory.new(items).cheap\r\n  end\r\n\r\n  def test_one_cheap_item\r\n    shoes = { price: 30.00, name: \"Shoes\", quantity_by_size: {} }\r\n    coat = { price: 65.00, name: \"Coat\", quantity_by_size: {} }\r\n    handkerchief = { price: 19.99, name: \"Handkerchief\", quantity_by_size: {} }\r\n    items = [shoes, coat, handkerchief]\r\n    assert_equal [handkerchief], BoutiqueInventory.new(items).cheap\r\n  end\r\n\r\n  def test_two_cheap_item\r\n    shoes = { price: 30.00, name: \"Shoes\", quantity_by_size: {} }\r\n    coat = { price: 65.00, name: \"Coat\", quantity_by_size: {} }\r\n    handkerchief = { price: 19.99, name: \"Handkerchief\", quantity_by_size: {} }\r\n    notebook = { price: 25.49, name: \"Notebook\", quantity_by_size: {} }\r\n    items = [shoes, coat, handkerchief, notebook]\r\n    assert_equal [handkerchief, notebook], BoutiqueInventory.new(items).cheap\r\n  end\r\n\r\n  def test_out_of_stock_for_no_items\r\n    assert_empty BoutiqueInventory.new([]).out_of_stock\r\n  end\r\n\r\n  def test_out_of_stock_for_all_items\r\n    shoes = { price: 30.00, name: \"Shoes\", quantity_by_size: {} }\r\n    coat = { price: 65.00, name: \"Coat\", quantity_by_size: {} }\r\n    items = [shoes, coat]\r\n    assert_equal [shoes, coat], BoutiqueInventory.new(items).out_of_stock\r\n  end\r\n\r\n  def test_out_of_stock_for_some_items\r\n    shoes = { price: 30.00, name: \"Shoes\", quantity_by_size: { s: 1, xl: 4 } }\r\n    coat = { price: 65.00, name: \"Coat\", quantity_by_size: {} }\r\n    handkerchief = { price: 19.99, name: \"Handkerchief\", quantity_by_size: {} }\r\n    items = [shoes, coat, handkerchief]\r\n    assert_equal [coat, handkerchief], BoutiqueInventory.new(items).out_of_stock\r\n  end\r\n\r\n  def test_stock_for_out_of_stock\r\n    shoes = { price: 30.00, name: \"Shoes\", quantity_by_size: {} }\r\n    coat = { price: 65.00, name: \"Coat\", quantity_by_size: {} }\r\n    items = [shoes, coat]\r\n    assert_empty(BoutiqueInventory.new(items).stock_for_item(\"Coat\"))\r\n  end\r\n\r\n  def test_stock_for_item_for_some_in_stock\r\n    shoes = { price: 30.00, name: \"Shoes\", quantity_by_size: { s: 1, xl: 4 } }\r\n    coat = { price: 65.00, name: \"Coat\", quantity_by_size: { s: 2 } }\r\n    handkerchief = { price: 19.99, name: \"Handkerchief\", quantity_by_size: {} }\r\n    items = [shoes, coat, handkerchief]\r\n    assert_equal({ s: 1, xl: 4 }, BoutiqueInventory.new(items).stock_for_item(\"Shoes\"))\r\n  end\r\n\r\n  def test_stock_for_item_for_some_in_stock_in_last_position\r\n    shoes = { price: 30.00, name: \"Shoes\", quantity_by_size: { s: 1, xl: 4 } }\r\n    coat = { price: 65.00, name: \"Coat\", quantity_by_size: { s: 2 } }\r\n    handkerchief = { price: 19.99, name: \"Handkerchief\", quantity_by_size: { m: 3, l: 2 } }\r\n    items = [shoes, coat, handkerchief]\r\n    assert_equal({ m: 3, l: 2 }, BoutiqueInventory.new(items).stock_for_item(\"Handkerchief\"))\r\n  end\r\n\r\n  def test_total_stock_for_no_items\r\n    assert_equal 0, BoutiqueInventory.new([]).total_stock\r\n  end\r\n\r\n  def test_total_stock_for_no_stock\r\n    shoes = { price: 30.00, name: \"Shoes\", quantity_by_size: {} }\r\n    coat = { price: 65.00, name: \"Coat\", quantity_by_size: {} }\r\n    items = [shoes, coat]\r\n    assert_equal 0, BoutiqueInventory.new(items).total_stock\r\n  end\r\n\r\n  def test_total_stock_for_some_items\r\n    shoes = { price: 30.00, name: \"Shoes\", quantity_by_size: { s: 1, xl: 4 } }\r\n    coat = { price: 65.00, name: \"Coat\", quantity_by_size: {} }\r\n    handkerchief = { price: 19.99, name: \"Handkerchief\", quantity_by_size: {} }\r\n    items = [shoes, coat, handkerchief]\r\n    assert_equal 5, BoutiqueInventory.new(items).total_stock\r\n  end\r\nend\r\n"
}
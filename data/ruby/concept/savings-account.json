{
  "language": "ruby",
  "slug": "savings-account",
  "docs": {
    "introduction": "# Introduction\r\n\r\n## Modules\r\n\r\nSo far all the exercises you have seen have used classes.\r\nSometimes we do not need the overhead of creating an object with state, so instead we use `module`.\r\n\r\nA module is very similar to a class (in fact, `Module` is `Class`' parent in the object hierarchy) - the main difference being that rather than using instance methods, we use class methods.\r\nClass methods start with `self.` and are directly called on a module.\r\n\r\nFor example:\r\n\r\n```ruby\r\nmodule Speaker\r\n  def self.echo(something)\r\n    \"#{something} ... #{something}\"\r\n  end\r\nend\r\n\r\nSpeaker.echo(\"Hello\")   #=> \"Hello ... Hello\"\r\n```\r\n\r\n## Loops\r\n\r\nThere are several ways to write loops in Ruby, but as we tend to use enumeration rather than looping in general, the most commonly seen loop perhaps is the `while` loop:\r\n\r\n```ruby\r\ncounter = 0\r\n\r\nwhile counter < 5\r\n  counter += 1\r\nend\r\n```\r\n\r\nYou can also use its sibling `until`\r\n\r\n```ruby\r\ncounter = 0\r\n\r\nuntil counter == 5\r\n  counter += 1\r\nend\r\n```\r\n",
    "instructions": "# Instructions\r\n\r\nIn this exercise you will be working with savings accounts. Each year, the balance of a savings account is updated based on the interest rate. The interest rate the bank gives depends on the amount of money in the accounts (its balance):\r\n\r\n- 0.5% for a non-negative balance less than `1000` dollars.\r\n- 1.621% for a positive balance greater than or equal to `1000` dollars and less than `5000` dollars.\r\n- 2.475% for a positive balance greater than or equal to `5000` dollars.\r\n- 3.213% for a negative balance (results in negative interest).\r\n\r\nYou have three tasks, each of which will deal with the balance and its interest rate.\r\n\r\n## 1. Calculate the interest rate\r\n\r\nImplement the `SavingsAccount.interest_rate` method to calculate the interest rate based on the specified balance:\r\n\r\n```ruby\r\nSavingsAccount.interest_rate(200.75)\r\n#=> 0.5\r\n```\r\n\r\nNote that the value returned is an instance of `Float`.\r\n\r\n## 2. Calculate the annual balance update\r\n\r\nImplement the `SavingsAccount.annual_balance_update` method to calculate the annual balance update, taking into account the interest rate:\r\n\r\n```ruby\r\nSavingsAccount.annual_balance_update(200.75)\r\n#=> 201.75375\r\n```\r\n\r\nNote that the value returned is an instance of `Float`.\r\n\r\n## 3. Calculate the years before reaching the desired balance\r\n\r\nImplement the `SavingsAccount.years_before_desired_balance` method to calculate the minimum number of years required to reach the desired balance:\r\n\r\n```ruby\r\nSavingsAccount.years_before_desired_balance(200.75, 214.88)\r\n#=> 14\r\n```\r\n\r\nNote that the value returned is an instance of `Integer`.\r\n",
    "hints": "# Hints\r\n\r\n## General\r\n\r\n## 1. Calculate the interest rate\r\n\r\n- Using an `if` or `case` statement can be useful when checking conditions.\r\n\r\n## 2. Calculate the annual balance update\r\n\r\n- When calculating the annual yield, it might be useful to temporarily convert a negative balance to a positive one. The `Float` class has a method to convert both positive and negative values to their absolute value.\r\n\r\n## 3. Calculate the years before reaching the desired balance\r\n\r\n- To calculate the years, one can keep looping until the desired balance is reached.\r\n"
  },
  "starter_code": "module SavingsAccount\r\n  def self.interest_rate(balance)\r\n    raise 'Please implement the SavingsAccount.interest_rate method'\r\n  end\r\n\r\n  def self.annual_balance_update(balance)\r\n    raise 'Please implement the SavingsAccount.annual_balance_update method'\r\n  end\r\n\r\n  def self.years_before_desired_balance(current_balance, desired_balance)\r\n    raise 'Please implement the SavingsAccount.years_before_desired_balance method'\r\n  end\r\nend\r\n",
  "tests": "require 'minitest/autorun'\r\nrequire_relative 'savings_account'\r\n\r\nclass SavingsAccountTest < Minitest::Test\r\n  def test_minimal_first_interest_rate\r\n    assert_in_delta 0.5, SavingsAccount.interest_rate(0), 0.000_1\r\n  end\r\n\r\n  def test_tiny_first_interest_rate\r\n    assert_in_delta 0.5, SavingsAccount.interest_rate(0.000_001), 0.000_1\r\n  end\r\n\r\n  def test_maximal_first_interest_rate\r\n    assert_in_delta 0.5, SavingsAccount.interest_rate(999.999), 0.000_1\r\n  end\r\n\r\n  def test_minimal_second_interest_rate\r\n    assert_in_delta 1.621, SavingsAccount.interest_rate(1_000.0), 0.000_1\r\n  end\r\n\r\n  def test_tiny_second_interest_rate\r\n    assert_in_delta 1.621, SavingsAccount.interest_rate(1_000.001), 0.000_1\r\n  end\r\n\r\n  def test_maximal_second_interest_rate\r\n    assert_in_delta 1.621, SavingsAccount.interest_rate(4_999.999), 0.000_1\r\n  end\r\n\r\n  def test_minimal_third_interest_rate\r\n    assert_in_delta 2.475, SavingsAccount.interest_rate(5_000.0), 0.000_1\r\n  end\r\n\r\n  def test_tiny_third_interest_rate\r\n    assert_in_delta 2.475, SavingsAccount.interest_rate(5_000.001), 0.000_1\r\n  end\r\n\r\n  def test_large_third_interest_rate\r\n    assert_in_delta 2.475, SavingsAccount.interest_rate(555_555_555.555), 0.000_1\r\n  end\r\n\r\n  def test_minimal_negative_interest_rate\r\n    assert_in_delta(3.213, SavingsAccount.interest_rate(-0.000_1), 0.000_1)\r\n  end\r\n\r\n  def test_small_negative_interest_rate\r\n    assert_in_delta(3.213, SavingsAccount.interest_rate(-0.123), 0.000_1)\r\n  end\r\n\r\n  def test_regular_negative_interest_rate\r\n    assert_in_delta(3.213, SavingsAccount.interest_rate(-300.0), 0.000_1)\r\n  end\r\n\r\n  def test_large_negative_interest_rate\r\n    assert_in_delta(3.213, SavingsAccount.interest_rate(-55_555.444), 0.000_1)\r\n  end\r\n\r\n  def test_annual_balance_update_for_empty_start_balance\r\n    assert_in_delta 0, SavingsAccount.annual_balance_update(0.0), 0.000_1\r\n  end\r\n\r\n  def test_annual_balance_update_for_small_positive_start_balance\r\n    assert_in_delta 0.000_001_005, SavingsAccount.annual_balance_update(0.000_001), 0.000_000_000_1\r\n  end\r\n\r\n  def test_annual_balance_update_for_average_positive_start_balance\r\n    assert_in_delta 1_016.21, SavingsAccount.annual_balance_update(1_000.0), 0.01\r\n  end\r\n\r\n  def test_annual_balance_update_for_large_positive_start_balance\r\n    assert_in_delta 1_016.2_101_016_209_999, SavingsAccount.annual_balance_update(1_000.000_1), 0.000_000_000_001\r\n  end\r\n\r\n  def test_annual_balance_update_for_huge_positive_start_balance\r\n    assert_in_delta 920_352_587.26_744_292_868_451_875,\r\n      SavingsAccount.annual_balance_update(898_124_017.826_243_404_425), 0.000_000_000_000_000_01\r\n  end\r\n\r\n  def test_annual_balance_update_for_small_negative_start_balance\r\n    assert_in_delta(-0.12_695_199, SavingsAccount.annual_balance_update(-0.123), 0.000_000_1)\r\n  end\r\n\r\n  def test_annual_balance_update_for_average_negative_start_balance\r\n    assert_in_delta(-1_032.13, SavingsAccount.annual_balance_update(-1_000.0), 0.01)\r\n  end\r\n\r\n  def test_annual_balance_update_for_large_negative_start_balance\r\n    assert_in_delta(-157_878.97_174_203, SavingsAccount.annual_balance_update(-152_964.231), 0.000_000_01)\r\n  end\r\n\r\n  def test_years_before_desired_balance_for_small_start_balance\r\n    assert_equal 47, SavingsAccount.years_before_desired_balance(100.0, 125.8)\r\n  end\r\n\r\n  def test_years_before_desired_balance_for_average_start_balance\r\n    assert_equal 6, SavingsAccount.years_before_desired_balance(1_000.0, 1_100.0)\r\n  end\r\n\r\n  def test_years_before_desired_balance_for_large_start_balance\r\n    assert_equal 5, SavingsAccount.years_before_desired_balance(8_080.80, 9_090.9)\r\n  end\r\n\r\n  def test_years_before_desired_balance_for_large_difference_between_start_and_desired_balance\r\n    assert_equal 85, SavingsAccount.years_before_desired_balance(2_345.67, 12_345.678_9)\r\n  end\r\nend\r\n"
}
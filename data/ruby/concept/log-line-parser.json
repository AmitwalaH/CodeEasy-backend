{
  "language": "ruby",
  "slug": "log-line-parser",
  "docs": {
    "introduction": "# Introduction\r\n\r\nLike everything in Ruby, a `String` is an object.\r\nStrings are made up of an arbitrary sequence of bytes (normally characters) and are initialized and manipulated like any other object.\r\nIn fact, one of the most useful things about Ruby is the numerous methods that can be called on strings (and other objects) to save you a lot of time writing code.\r\nIn this exercise we are going to explore and play with some of those helper methods.\r\n\r\n## Creating a string\r\n\r\nAlthough you can use `String.new(...)` to create a string, it is much more common to use a literal.\r\nThere are lots of different literals you can use - and they split into two categories: those that allow interpolation and those that don't.\r\n\r\nThe most common literals are single and double quotes (`'...'` and `\"...\"`).\r\nSingle quotes do not allow interpolation, whereas double quotes do.\r\nInterpolation is where one string is included in another using the `#{}` syntax.\r\n\r\n```\r\n# Use single quotes when not interpolated\r\nlocation = 'World'\r\n\r\n# And double quotes when interpolated\r\nputs \"Hello, #{location}!\"   #=> \"Hello, World!\"\r\n```\r\n\r\nYou can also use other literals such `%{... }` for interpolated strings and `%q{...}` for non-interpolated strings.\r\nThese are useful if your strings have the characters `'` or `\"` in them.\r\n\r\n_Note: There's no absolute rule saying you have to use non-interpolated strings if your string does not contain interpolation._\r\n\r\n## Interacting with strings\r\n\r\nIt is helpful to think of Strings in Ruby in a similar way to how you think of Arrays.\r\nThey have a size and their characters are indexed (with `0` as the first index):\r\n\r\n```ruby\r\nmy_string = \"Some string\"\r\n\r\nmy_string.size   #=> 11\r\n\r\nmy_string[0]    #=> 'S'\r\nmy_string[1]    #=> 'o'\r\nmy_string[-1]   #=> 'g'\r\n\r\n# Find the first index of a character\r\nmy_string.index('m')   #=> 2\r\n```\r\n\r\nParts of strings can be extracted using indexes or `slice`:\r\n```ruby\r\nmy_string = \"Some string\"\r\n\r\n# Find three characters starting with the second character (index 1)\r\nmy_string[1, 3]         #=> \"ome\"\r\nmy_string.slice(1, 3)   #=> \"ome\"\r\n```\r\n\r\nThe semantic values of strings can also be manipulated.\r\nIt's worth exploring the [Ruby docs][docs-string] to learn about all the methods, but here are a few commonly used examples:\r\n```\r\n\"hello\".capitalize   #=> \"Hello\"\r\n\"HELLO\".downcase     #=> \"hello\"\r\n\"hello\".center(9)    #=> \"  hello  \"\r\n\"  hello  \".strip    #=> \"hello\"\r\n\r\n\"hello world\".split(\" \")   #=> [\"hello\", \"world\"]\r\n```\r\n\r\nYou can also use methods such as `gsub` to substitute characters:\r\n```\r\n# Replace one character with another\r\n\"noob\".gsub(\"o\",\"0\")   #=> \"n00b\"\r\n\r\n# (Advanced) Replace a regular expression\r\n\"Ruby really rocks\".gsub(/[aieou]/,'')   #=> \"Rby rlly rcks\"\r\n```\r\n\r\nIn all of the examples above, a new `String` is returned.\r\nHowever, many methods have equivalents which end in `!` which actually modify the string itself.\r\n\r\n```\r\n# Use normal methods to return new strings\r\nmy_string = \"hello\"\r\nmy_string.capitalize   #=> \"Hello\"\r\nputs my_string         #=> \"hello\"\r\n\r\n# And bang-methods (...!) to modify the object\r\nmy_string = \"hello\"\r\nmy_string.capitalize!  #=> \"Hello\"\r\nputs my_string         #=> \"Hello\"\r\n```\r\n\r\n[docs-string]: https://ruby-doc.org/core-2.7.0/String.html\r\n",
    "instructions": "# Instructions\r\n\r\nIn this exercise you'll be processing log-lines.\r\n\r\nEach log line is a string formatted as follows: `\"[<LEVEL>]: <MESSAGE>\"`.\r\n\r\nThere are three different log levels:\r\n\r\n- `INFO`\r\n- `WARNING`\r\n- `ERROR`\r\n\r\nYou have three tasks, each of which will take a log line and ask you to do something with it.\r\nThere are lots of ways to solve these tasks - choose your favourite methods from the examples above and see what you can come up with.\r\n\r\n## 1. Get message from a log line\r\n\r\nImplement the `LogLineParser#message` method to return a log line's message:\r\n\r\n```ruby\r\nLogLineParser.new('[ERROR]: Invalid operation').message\r\n# => \"Invalid operation\"\r\n```\r\n\r\nAny leading or trailing white space should be removed:\r\n\r\n```ruby\r\nLogLineParser.new(\"[WARNING]:  Disk almost full\\r\\n\").message\r\n# => \"Disk almost full\"\r\n```\r\n\r\n## 2. Get log level from a log line\r\n\r\nImplement the `LogLineParser#log_level` method to return a log line's log level, which should be returned in lowercase:\r\n\r\n```ruby\r\nLogLineParser.new('[ERROR]: Invalid operation').log_level\r\n# => \"error\"\r\n```\r\n\r\n## 3. Reformat a log line\r\n\r\nImplement the `LogLineParser#reformat` method that reformats the log line, putting the message first and the log level after it in parentheses:\r\n\r\n```ruby\r\nLogLineParser.new('[INFO]: Operation completed').reformat\r\n# => \"Operation completed (info)\"\r\n```\r\n",
    "hints": "# Hints\r\n\r\n## General\r\n\r\n- The [rubymostas strings guide][ruby-for-beginners.rubymonstas.org-strings] has a nice introduction to Ruby strings.\r\n- The `String` object has many useful [built-in methods][docs-string-methods].\r\n\r\n## 1. Get message from a log line\r\n\r\n- There are different ways to search for text in a string, which can be found on the [Ruby language official documentation][docs-string-methods].\r\n- There are [built in methods][strip-white-space] to strip white space.\r\n\r\n## 2. Get log level from a log line\r\n\r\n- Ruby `String` objects have a [method][downcase] to perform this operation.\r\n\r\n## 3. Reformat a log line\r\n\r\n- There are several ways to [concatenate strings][ruby-for-beginners.rubymonstas.org-strings], but the preferred one is usually [string interpolation][ruby-for-beginners.rubymonstas.org-strings]\r\n\r\n[ruby-for-beginners.rubymonstas.org-strings]: http://ruby-for-beginners.rubymonstas.org/built_in_classes/strings.html\r\n[ruby-for-beginners.rubymonstas.org-interpolation]: http://ruby-for-beginners.rubymonstas.org/bonus/string_interpolation.html\r\n[docs-string-methods]: https://ruby-doc.org/core-2.7.0/String.html\r\n[strip-white-space]: https://ruby-doc.org/core-2.7.0/String.html#method-i-strip\r\n[downcase]: https://ruby-doc.org/core-2.7.0/String.html#method-i-downcase\r\n"
  },
  "starter_code": "class LogLineParser\r\n  def initialize(line)\r\n    @line = line\r\n  end\r\n\r\n  def message\r\n    raise 'Please implement the LogLineParser#message method'\r\n  end\r\n\r\n  def log_level\r\n    raise 'Please implement the LogLineParser#log_level method'\r\n  end\r\n\r\n  def reformat\r\n    raise 'Please implement the LogLineParser#reformat method'\r\n  end\r\nend\r\n",
  "tests": "require 'minitest/autorun'\r\nrequire_relative 'log_line_parser'\r\n\r\nclass LogLineParserTest < Minitest::Test\r\n  def test_error_message\r\n    assert_equal 'Stack overflow', LogLineParser.new('[ERROR]: Stack overflow').message\r\n  end\r\n\r\n  def test_warning_message\r\n    assert_equal 'Disk almost full', LogLineParser.new('[WARNING]: Disk almost full').message\r\n  end\r\n\r\n  def test_info_message\r\n    assert_equal 'File moved', LogLineParser.new('[INFO]: File moved').message\r\n  end\r\n\r\n  def test_message_with_leading_and_trailing_space\r\n    assert_equal 'Timezone not set', LogLineParser.new(\"[WARNING]:   \\tTimezone not set  \\r\\n\").message\r\n  end\r\n\r\n  def test_error_log_level\r\n    assert_equal 'error', LogLineParser.new('[ERROR]: Disk full').log_level\r\n  end\r\n\r\n  def test_warning_log_level\r\n    assert_equal 'warning', LogLineParser.new('[WARNING]: Unsafe password').log_level\r\n  end\r\n\r\n  def test_info_log_level\r\n    assert_equal 'info', LogLineParser.new('[INFO]: Timezone changed').log_level\r\n  end\r\n\r\n  def test_error_reformat\r\n    assert_equal 'Segmentation fault (error)', LogLineParser.new('[ERROR]: Segmentation fault').reformat\r\n  end\r\n\r\n  def test_warning_reformat\r\n    assert_equal 'Decreased performance (warning)', LogLineParser.new('[WARNING]: Decreased performance').reformat\r\n  end\r\n\r\n  def test_info_reformat\r\n    assert_equal 'Disk defragmented (info)', LogLineParser.new('[INFO]: Disk defragmented').reformat\r\n  end\r\n\r\n  def test_reformat_with_leading_and_trailing_space\r\n    assert_equal 'Corrupt disk (error)', LogLineParser.new(\"[ERROR]: \\t Corrupt disk\\t \\t \\r\\n\").reformat\r\n  end\r\nend\r\n"
}
{
  "language": "ruby",
  "slug": "moviegoer",
  "docs": {
    "introduction": "# Introduction\r\n\r\n## The ternary operator\r\n\r\nA ternary conditional is a shorter way of writing simple `if/else` statements.\r\nIf an `if/else` statement contains only two branches, one for when the condition is true and one for when it is false, it can be re-written as a ternary conditional.\r\n\r\nTernaries use a combination of the `?` and `:` symbols to split up a conditional:\r\n\r\n```ruby\r\ncondition ? true_branch : false_branch\r\n```\r\n\r\nThe code on the left side of the `?` is the condition and the code on the right contains the two possible branches, separated by the `:`.\r\nIf the condition is _true_, the code on the _left_ side of the `:` is executed.\r\nIf the condition is _false_, then the code on the _right_ of the `:` gets executed.\r\n\r\nFor example:\r\n\r\n```ruby\r\nif traffic_light == 'green'\r\n  cross_the_road\r\nelse\r\n  wait\r\nend\r\n```\r\n\r\ncan be re-written as:\r\n\r\n```ruby\r\ntraffic_light == 'green' ? cross_the_road : wait\r\n```\r\n",
    "instructions": "# Instructions\r\n\r\nIn this exercise you will build out rules for a movie theater's website.\r\n\r\n## 1. Check if a moviegoer is entitled to the seniors' discount\r\n\r\nThe theatre offers a discount for \"old-age-pensions\".\r\nAnyone who is 60 or older pays 10.00 for a ticket.\r\nAnyone younger pays the full 15.00.\r\n\r\nWrite the `Moviegoer#ticket_price` method using a ternary statement.\r\n\r\n```ruby\r\nMoviegoer.new(21).ticket_price\r\n#=> 15\r\n\r\nMoviegoer.new(65).ticket_price\r\n#=> 10\r\n```\r\n\r\n## 2. Check if a moviegoer is allowed to see scary movies\r\n\r\nThe cinema has a simplified age-verification system.\r\nIf you are 18 or over you can watch scary movies.\r\nIf you are younger, you cannot.\r\n\r\nImplement the `Moviegoer#watch_scary_movie?` method.\r\nIt should return whether someone is allowed to watch the movie or not.\r\n\r\n```ruby\r\nMoviegoer.new(21).watch_scary_movie?\r\n#=> true\r\n\r\nMoviegoer.new(17).watch_scary_movie?\r\n#=> false\r\n```\r\n\r\n## 3. Check if a moviegoer is entitled to free popcorn\r\n\r\nThe cinema has a Movie Club program.\r\nMembers get free popcorn when they watch any movie.\r\n\r\nImplement the `Moviegoer.claim_free_popcorn!` method.\r\nIf a viewer is a movie club member, they should be rewarded with their free popcorn.\r\nIf they are not, the method should raise the `NotMovieClubMemberError` exception defined at the top of the code.\r\n\r\n\r\n```ruby\r\nMoviegoer.new(21, member: true).claim_free_popcorn!\r\n#=> ðŸ¿\r\n\r\nMoviegoer.new(17, member: false).claim_free_popcorn!\r\n#=> Exception was raised! (NotMovieClubMemberError)\r\n```\r\n",
    "hints": "# Hints\r\n\r\n## 1. Check if a moviegoer is entitled to the seniors' discount\r\n\r\n- Use [the ternary operator][doc-ternary] to check the moviegoer's age.\r\n\r\n## 2. Check if a moviegoer is allowed to see scary movies\r\n\r\n- [Compare][doc-integer-gtoe] the moviegoer's age with the minimum age allowed to see scary movies. You don't even need the ternary operator in this task.\r\n\r\n## 3. Check if a moviegoer is entitled to free popcorn\r\n\r\n- Use one of the conditionals [`if`][doc-if]/[`unless`][doc-unless] to check if a moviegoer is entitled to free popcorn.\r\n- Use [`raise`][doc-raise].\r\n\r\n[doc-ternary]: https://ruby-doc.org/core-2.7.1/doc/syntax/control_expressions_rdoc.html#label-Ternary+if\r\n[doc-if]: https://ruby-doc.org/core-2.7.2/doc/syntax/control_expressions_rdoc.html#label-if+Expression\r\n[doc-unless]: https://ruby-doc.org/core-2.7.2/doc/syntax/control_expressions_rdoc.html#label-unless+Expression \r\n[doc-raise]: https://ruby-doc.org/core-2.7.1/Kernel.html#method-i-raise\r\n[doc-integer-gtoe]: https://ruby-doc.org/core-2.7.1/Integer.html#method-i-3E-3D\r\n"
  },
  "starter_code": "# This is a custom exception that you can use in your code\r\nclass NotMovieClubMemberError < RuntimeError\r\nend\r\n\r\nclass Moviegoer\r\n  def initialize(age, member: false)\r\n    @age = age\r\n    @member = member\r\n  end\r\n\r\n  def ticket_price\r\n    raise 'Please implement the Moviegoer#ticket_price method'\r\n  end\r\n\r\n  def watch_scary_movie?\r\n    raise 'Please implement the Moviegoer#watch_scary_movie method'\r\n  end\r\n\r\n  # Popcorn is ðŸ¿\r\n  def claim_free_popcorn!\r\n    raise 'Please implement the Moviegoer#claim_free_popcorn method'\r\n  end\r\nend\r\n",
  "tests": "require 'minitest/autorun'\r\nrequire_relative 'moviegoer'\r\n\r\nclass MoviegoerTest < Minitest::Test\r\n  def test_regular_ticket_price\r\n    assert_equal 15, Moviegoer.new(59).ticket_price\r\n  end\r\n\r\n  def test_seniors_discount\r\n    assert_equal 10, Moviegoer.new(60).ticket_price\r\n  end\r\n\r\n  def test_adults_can_see_the_scary_movie\r\n    assert Moviegoer.new(18).watch_scary_movie?\r\n  end\r\n\r\n  def test_kids_cant_see_the_scary_movie\r\n    refute Moviegoer.new(17).watch_scary_movie?\r\n  end\r\n\r\n  def test_members_get_free_popcorn\r\n    assert_equal \"ðŸ¿\", Moviegoer.new(25, member: true).claim_free_popcorn!\r\n  end\r\n\r\n  def test_regular_moviegoers_dont_get_free_popcorn\r\n    assert_raises NotMovieClubMemberError do\r\n      Moviegoer.new(25, member: false).claim_free_popcorn!\r\n    end\r\n  end\r\nend\r\n"
}
{
  "language": "javascript",
  "slug": "bird-watcher",
  "title": "Bird Watcher",
  "docs": {
    "introduction": "# Introduction\n\nThe for loop is one of the most commonly used statements to repeatedly execute some logic.\nIn JavaScript, it consists of the `for` keyword, a _header_ wrapped in round brackets and a code block that contains the _body_ of the loop wrapped in curly brackets.\n\n```javascript\nfor (initialization; condition; step) {\n  // code that is executed repeatedly as long as the condition is true\n}\n```\n\nThe initialization usually sets up a counter variable, the condition checks whether the loop should be continued or stopped and the step increments the counter at the end of each repetition.\nThe individual parts of the header are separated by semicolons.\n\n```javascript\nconst list = ['a', 'b', 'c'];\nfor (let i = 0; i < list.length; i++) {\n  // code that should be executed for each item list[i]\n}\n```\n\nDefining the step is often done using JavaScript's increment or decrement operator as shown in the example above.\nThese operators modify a variable in place.\n`++` adds one to a number, `--` subtracts one from a number.\n\n```javascript\nlet i = 3;\ni++;\n// i is now 4\n\nlet j = 0;\nj--;\n// j is now -1\n```\n",
    "instructions": "# Instructions\n\nYou are an avid bird watcher that keeps track of how many birds have visited your garden.\nUsually, you use a tally in a notebook to count the birds but you want to better work with your data.\nYou already digitalized the bird counts per day for the past weeks that you kept in the notebook.\n\nNow you want to determine the total number of birds that you counted, calculate the bird count for a specific week and correct a counting mistake.\n\n<!-- prettier-ignore -->\n~~~~exercism/note\nTo practice, use a `for` loop to solve each of the tasks below.\n~~~~\n\n## 1. Determine the total number of birds that you counted so far\n\nLet us start analyzing the data by getting a high-level view.\nFind out how many birds you counted in total since you started your logs.\n\nImplement a function `totalBirdCount` that accepts an array-like object that contains the bird count per day.\nIt should return the total number of birds that you counted.\n\n```javascript\nbirdsPerDay = [2, 5, 0, 7, 4, 1, 3, 0, 2, 5, 0, 1, 3, 1];\ntotalBirdCount(birdsPerDay);\n// => 34\n```\n\n## 2. Calculate the number of visiting birds in a specific week\n\nNow that you got a general feel for your bird count numbers, you want to make a more fine-grained analysis.\n\nImplement a function `birdsInWeek` that accepts an array-like object of bird counts per day and a week number.\nIt returns the total number of birds that you counted in that specific week.\nYou can assume weeks are always tracked completely.\n\n```javascript\nbirdsPerDay = [2, 5, 0, 7, 4, 1, 3, 0, 2, 5, 0, 1, 3, 1];\nbirdsInWeek(birdsPerDay, 2);\n// => 12\n```\n\n## 3. Fix a counting mistake\n\nYou realized that all the time you were trying to keep track of the birds, there was one hiding in a far corner of the garden.\nYou figured out that this bird always spent every second day in your garden.\nYou do not know exactly where it was in between those days but definitely not in your garden.\nYour bird watcher intuition also tells you that the bird was in your garden on the first day that you tracked in your list.\n\nGiven this new information, write a function `fixBirdCountLog` that takes an array-like object of birds counted per day as an argument. It should correct the counting mistake by modifying the given array.\n\n```javascript\nbirdsPerDay = [2, 5, 0, 7, 4, 1];\nfixBirdCountLog(birdsPerDay);\n// => [3, 5, 1, 7, 5, 1]\n```\n",
    "hints": "# Hints\n\n## 1. Determine the total number of birds that you counted so far\n\n- Refer to the exercise introduction for an example of how to use a for loop to iterate over an array.\n- Use a helper variable to store the total count and increase that variable as you go through the array.\n- Think about the correct initial value for that helper variable.\n- Refer back to the [array concept][concept-arrays] to recap how to retrieve values from an array.\n\n## 2. Calculate the number of visiting birds in a specific week\n\n- This task is similar to the first one.\n  You can copy your code as a starting point.\n- Think about which indexes in the array you would need to take into account for week number 1 and 2, respectively.\n- Now, find a general way to calculate the first and the last index that should be considered.\n- With that, you can set up the for loop to only iterate over the relevant section of the array.\n\n## 3. Fix a counting mistake\n\n- Again, you need to set up a for loop to iterate over the whole bird count array.\n- This time you only need to visit every second entry in the array.\n- Change the step so the counter variable is increased accordingly after each iteration.\n- In the body of the for loop you can use the increment operator to change the value of an element in an array in place.\n\n[concept-arrays]: /tracks/javascript/concepts/arrays\n"
  },
  "starter_code": "// @ts-check\n//\n// The line above enables type checking for this file. Various IDEs interpret\n// the @ts-check directive. It will give you helpful autocompletion when\n// implementing this exercise.\n\n/**\n * Calculates the total bird count.\n *\n * @param {number[]} birdsPerDay\n * @returns {number} total bird count\n */\nexport function totalBirdCount(birdsPerDay) {\n  let total = 0;\n\n  for (let i = 0; i < birdsPerDay.length; i++) {\n    total += birdsPerDay[i];\n  }\n\n  return total;\n}\n\n/**\n * Calculates the total number of birds seen in a specific week.\n *\n * @param {number[]} birdsPerDay\n * @param {number} week\n * @returns {number} birds counted in the given week\n */\nexport function birdsInWeek(birdsPerDay, week) {\n  let total = 0;\n\n  const start = 7 * (week - 1);\n  for (let i = start; i < start + 7; i++) {\n    total += birdsPerDay[i];\n  }\n\n  return total;\n}\n\n/**\n * Fixes the counting mistake by increasing the bird count\n * by one for every second day.\n *\n * @param {number[]} birdsPerDay\n * @returns {void} should not return anything\n */\nexport function fixBirdCountLog(birdsPerDay) {\n  for (let i = 0; i < birdsPerDay.length; i += 2) {\n    birdsPerDay[i]++;\n  }\n}\n",
  "tests": "import { describe, expect, test } from '@jest/globals';\nimport { birdsInWeek, fixBirdCountLog, totalBirdCount } from './bird-watcher';\n\nconst customInspectSymbol = Symbol.for('nodejs.util.inspect.custom');\nconst customLogSymbol = Symbol.for('exercism.javascript.util.log');\n\n// Follow the instructions in case you are stuck on \"list.method is not a function\"\nclass CountingReport {\n  constructor(counts) {\n    // Enables array[index]\n    counts.forEach((count, index) => {\n      this[index] = count;\n    });\n\n    // Enables .length\n    this.length = counts.length;\n  }\n\n  // Log value in non-upgraded environments\n  toString() {\n    return arrayOf(this).toString();\n  }\n\n  // Overrides logging in node (ie. students working locally)\n  [customInspectSymbol]() {\n    return `Seen birds per day: ${arrayOf(this)}`;\n  }\n\n  // Overrides log overrides in web environment (ie. students working in editor)\n  [customLogSymbol]() {\n    return `Seen birds per day: ${arrayOf(this)}`;\n  }\n}\n\nfunction report(...values) {\n  return new CountingReport(values);\n}\n\nfunction arrayOf(countingReport) {\n  return Array.from(\n    { length: countingReport.length },\n    (_, i) => countingReport[i],\n  );\n}\n\nfunction randomArray(length) {\n  return Array.from({ length }, () => Math.floor(Math.random() * 8));\n}\n\ndescribe('totalBirdCount', () => {\n  test('calculates the correct total number of birds', () => {\n    const birdsPerDay = report(9, 0, 8, 4, 5, 1, 3);\n    expect(totalBirdCount(birdsPerDay)).toBe(30);\n  });\n\n  test('works for a short bird count list', () => {\n    const birdsPerDay = report(2);\n    expect(totalBirdCount(birdsPerDay)).toBe(2);\n  });\n\n  test('works for a long bird count list', () => {\n    // prettier-ignore\n    const birdsPerDay = report(\n      2, 8, 4, 1, 3, 5, 0, 4, 1, 6, 0, 3, 0, 1, 5, 4, 1, 1, 2, 6\n    );\n\n    expect(totalBirdCount(birdsPerDay)).toBe(57);\n  });\n});\n\ndescribe('birdsInWeek', () => {\n  test('calculates the number of birds in the first week', () => {\n    const birdsPerDay = report(3, 0, 5, 1, 0, 4, 1, 0, 3, 4, 3, 0, 8, 0);\n    expect(birdsInWeek(birdsPerDay, 1)).toBe(14);\n  });\n\n  test('calculates the number of birds for a week in the middle of the log', () => {\n    // prettier-ignore\n    const birdsPerDay = report(4, 7, 3, 2, 1, 1, 2, 0, 2, 3, 2, 7, 1, 3, 0, 6, 5, 3, 7, 2, 3);\n    expect(birdsInWeek(birdsPerDay, 2)).toBe(18);\n  });\n\n  test('works when there is only one week', () => {\n    const birdsPerDay = report(3, 0, 3, 3, 2, 1, 0);\n    expect(birdsInWeek(birdsPerDay, 1)).toBe(12);\n  });\n\n  test('works for a long bird count list', () => {\n    const week21 = report(2, 0, 1, 4, 1, 3, 0);\n    const birdsPerDay = report(\n      ...randomArray(20 * 7)\n        .concat(arrayOf(week21))\n        .concat(randomArray(10 * 7)),\n    );\n\n    expect(birdsInWeek(birdsPerDay, 21)).toBe(11);\n  });\n});\n\ndescribe('fixBirdCountLog', () => {\n  test('returns a bird count list with the corrected values', () => {\n    const birdsPerDay = report(3, 0, 5, 1, 0, 4, 1, 0, 3, 4, 3, 0);\n    const expected = [4, 0, 6, 1, 1, 4, 2, 0, 4, 4, 4, 0];\n    fixBirdCountLog(birdsPerDay);\n\n    expect(arrayOf(birdsPerDay)).toEqual(expected);\n  });\n\n  test('works for a short bird count list', () => {\n    const birdsPerDay = report(4, 2);\n    fixBirdCountLog(birdsPerDay);\n\n    expect(arrayOf(birdsPerDay)).toEqual([5, 2]);\n  });\n\n  test('works for a long bird count list', () => {\n    // prettier-ignore\n    const birdsPerDay = report(\n      2, 8, 4, 1, 3, 5, 0, 4, 1, 6, 0, 3, 0, 1, 5, 4, 1, 1, 2, 6\n    );\n\n    // prettier-ignore\n    const expected = [\n      3, 8, 5, 1, 4, 5, 1, 4, 2, 6, 1, 3, 1, 1, 6, 4, 2, 1, 3, 6\n    ]\n\n    fixBirdCountLog(birdsPerDay);\n    expect(arrayOf(birdsPerDay)).toEqual(expected);\n  });\n});\n"
}
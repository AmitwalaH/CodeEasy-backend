{
  "language": "javascript",
  "slug": "mixed-juices",
  "title": "Mixed Juices",
  "docs": {
    "introduction": "# Introduction\n\n## While Loops\n\nWith a while loop, you can execute code repeatably as long as a certain condition is fulfilled.\nIt is written with the `while` keyword followed by a condition wrapped in round brackets and a code block that contains the _body_ of the loop wrapped in curly brackets.\n\n```javascript\nwhile (condition) {\n  // code that is executed repeatedly as long as the condition is true\n}\n```\n\nJavaScript also has a do-while loop.\nHere the condition is checked after the loop body was executed.\nThis is useful when the condition depends on evaluations done in the body.\n\n```javascript\ndo {\n  // The code here will always be executed once and then\n  // repeatedly while the condition is true.\n} while (condition);\n```\n\nInside a loop body, you can use the `break` keyword to stop the execution of the loop entirely.\nIn contrast to this, the keyword `continue` only stops the execution of the current iteration and continues with the next one.\nWith `continue` you can often avoid wrapping big parts of the loop body in an if-statement.\n\n```javascript\nlet i = 0;\n\nwhile (i < 100) {\n  i = i + 2;\n\n  if (i % 3 === 0) {\n    continue;\n  }\n\n  // The code here will only be executed when i was not divisible\n  // by 3 in the check above.\n}\n```\n\n## Switch Statements\n\nBesides the if-statement, JavaScript also has a switch-statement to conditionally execute logic.\nIt is used when a single variable needs to be compared to multiple variants.\nThe comparison is done by checking for strict equality (`===`), see [concept comparison][concept-comparison].\nFor some variable `x`, the switch statement in JavaScript has the following syntax.\n\n<!-- prettier-ignore-start -->\n```javascript\nswitch (x) {\n  case option1:\n    // code that is executed when \"x === option1\" is true\n    break;\n  case option2:\n    // code that is executed when \"x === option2\" is true\n    break;\n  default:\n    // code that is executed when x does not equal any of the options\n}\n```\n<!-- prettier-ignore-end -->\n\nThe `default` case is optional and used in case you want to execute some code if none of the other options match the variable.\n\nThe `break` statements above are needed because by default all cases are \"fallthrough\" in JavaScript.\nThat means without any `break` statement all the code in the cases below the first matching option would be executed even though `x` did not match those options.\nThis \"fallthrough by default\" behavior is a common pitfall when using `switch` in JavaScript.\nInside a function, `return` can also be used instead of `break` to avoid this problem.\n\n[concept-comparison]: /tracks/javascript/concepts/comparison\n",
    "instructions": "# Instructions\n\nYour friend Li Mei runs a juice bar where she sells delicious mixed fruit juices.\nYou are a frequent customer in her shop and realized you could make your friend's life easier.\nYou decide to use your coding skills to help Li Mei with her job.\n\n## 1. Determine how long it takes to mix a juice\n\nLi Mei likes to tell her customers in advance how long they have to wait for a juice from the menu that they ordered.\nShe has a hard time remembering the exact numbers because the time it takes to mix the juices varies.\n`'Pure Strawberry Joy'` takes 0.5 minutes, `'Energizer'` and `'Green Garden'` take 1.5 minutes each, `'Tropical Island'` takes 3 minutes and `'All or Nothing'` takes 5 minutes.\nFor all other drinks (e.g., special offers) you can assume a preparation time of 2.5 minutes.\n\nTo help your friend, write a function `timeToMixJuice` that takes a juice from the menu as an argument and returns the number of minutes it takes to mix that drink.\n\n```javascript\ntimeToMixJuice('Tropical Island');\n// => 3\n\ntimeToMixJuice('Berries & Lime');\n// => 2.5\n```\n\n## 2. Replenish the lime wedge supply\n\nA lot of Li Mei's creations include lime wedges, either as an ingredient or as part of the decoration.\nSo when she starts her shift in the morning she needs to make sure the bin of lime wedges is full for the day ahead.\n\nImplement the function `limesToCut` which takes the number of lime wedges Li Mei needs to cut and an array representing the supply of whole limes she has at hand.\nShe can get 6 wedges from a `'small'` lime, 8 wedges from a `'medium'` lime and 10 from a `'large'` lime.\nShe always cuts the limes in the order in which they appear in the list, starting with the first item.\nShe keeps going until she reached the number of wedges that she needs or until she runs out of limes.\n\nLi Mei would like to know in advance how many limes she needs to cut.\nThe `limesToCut` function should return the number of limes to cut.\n\n```javascript\nlimesToCut(25, ['small', 'small', 'large', 'medium', 'small']);\n// => 4\n```\n\n## 3. Finish up the shift\n\nLi Mei always works until 3pm.\nThen her employee Dmitry takes over.\nThere are often drinks that have been ordered but are not prepared yet when Li Mei's shift ends.\nDmitry will then prepare the remaining juices.\n\nTo make the hand-over easier, implement a function `remainingOrders` which takes the number of minutes left in Li Mei's shift and an array of juices that have been ordered but not prepared yet.\nThe function should return the orders that Li Mei cannot start preparing before the end of her workday.\n\nThe time left in the shift will always be greater than 0.\nThe array of juices to prepare will never be empty.\nFurthermore, the orders are prepared in the order in which they appear in the array.\nIf Li Mei starts to mix a certain juice, she will always finish it even if she has to work a bit longer.\nIf there are no remaining orders left that Dmitry needs to take care of, an empty array should be returned.\n\n```javascript\nremainingOrders(5, ['Energizer', 'All or Nothing', 'Green Garden']);\n// => ['Green Garden']\n```\n",
    "hints": "# Hints\n\n## 1. Determine how long it takes to mix a juice\n\n- Set up a [switch statement][mdn-switch] for the `name` variable.\n- The different cases should represent the different juice names.\n- Use the `default` case to cover all other names.\n- Remember that the cases are [fallthrough by default][mdn-fallthrough] so make sure you did something to prevent that behavior.\n\n## 2. Replenish the lime wedge supply\n\n- Use a [while loop][mdn-while] to cut one lime after the other.\n- Revisit the [arrays concept][concept-arrays] to find a way to remove the limes from the list in the correct order.\n- Set up a [switch statement][mdn-switch] to get the number of wedges for a certain size of a lime.\n- You need to keep track of two things, how many limes were already cut and how many wedges are still missing.\n- You can combine two conditions for the loop using [logical operators][concept-booleans].\n\n## 3. Finish up the shift\n\n- Use a [do-while loop][mdn-do-while] to handle one order after the other.\n- Revisit the [arrays concept][concept-arrays] to find a way to remove the drinks from the list in the correct order.\n- You already have a function that determines the time it takes to prepare a drink, use it to reduce the time that is left accordingly.\n- You can combine two conditions for the loop using [logical operators][concept-booleans].\n\n[mdn-switch]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/switch#\n[mdn-fallthrough]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/switch#breaking_and_fall-through\n[mdn-while]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/while\n[mdn-do-while]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/do...while\n[concept-booleans]: /tracks/javascript/concepts/booleans\n[concept-arrays]: /tracks/javascript/concepts/arrays\n"
  },
  "starter_code": "// @ts-check\n//\n// The line above enables type checking for this file. Various IDEs interpret\n// the @ts-check directive. It will give you helpful autocompletion when\n// implementing this exercise.\n\n/**\n * Determines how long it takes to prepare a certain juice.\n *\n * @param {string} name\n * @returns {number} time in minutes\n */\nexport function timeToMixJuice(name) {\n  switch (name) {\n    case 'Pure Strawberry Joy':\n      return 0.5;\n    case 'Energizer':\n      return 1.5;\n    case 'Green Garden':\n      return 1.5;\n    case 'Tropical Island':\n      return 3;\n    case 'All or Nothing':\n      return 5;\n    default:\n      return 2.5;\n  }\n}\n\n/**\n * Calculates the number of limes that need to be cut\n * to reach a certain supply.\n *\n * @param {number} wedgesNeeded\n * @param {string[]} limes\n * @returns {number} number of limes cut\n */\nexport function limesToCut(wedgesNeeded, limes) {\n  let limesCut = 0;\n  while (wedgesNeeded > 0 && limes.length > 0) {\n    limesCut++;\n    wedgesNeeded -= wedgesFromLime(limes.shift());\n  }\n\n  return limesCut;\n}\n\n/**\n * Determines the number of wedges that can be cut\n * from a lime of the given size.\n *\n * @param {string} size\n * @returns number of wedges\n */\nfunction wedgesFromLime(size) {\n  switch (size) {\n    case 'small':\n      return 6;\n    case 'medium':\n      return 8;\n    case 'large':\n      return 10;\n  }\n}\n\n/**\n * Determines which juices still need to be prepared after the end of the shift.\n *\n * @param {number} timeLeft\n * @param {string[]} orders\n * @returns {string[]} remaining orders after the time is up\n */\nexport function remainingOrders(timeLeft, orders) {\n  do {\n    timeLeft -= timeToMixJuice(orders.shift());\n  } while (timeLeft > 0 && orders.length > 0);\n\n  return orders;\n}\n",
  "tests": "import { describe, expect, test } from '@jest/globals';\nimport { limesToCut, remainingOrders, timeToMixJuice } from './mixed-juices';\n\ndescribe('timeToMixJuice', () => {\n  test(\"returns the correct time for 'Pure Strawberry Joy'\", () => {\n    expect(timeToMixJuice('Pure Strawberry Joy')).toBe(0.5);\n  });\n\n  test('returns the correct times for all other standard menu items', () => {\n    expect(timeToMixJuice('Energizer')).toBe(1.5);\n    expect(timeToMixJuice('Green Garden')).toBe(1.5);\n    expect(timeToMixJuice('Tropical Island')).toBe(3);\n    expect(timeToMixJuice('All or Nothing')).toBe(5);\n  });\n\n  test('returns the same time for all other juices', () => {\n    const defaultTime = 2.5;\n    expect(timeToMixJuice('Limetime')).toBe(defaultTime);\n    expect(timeToMixJuice('Manic Organic')).toBe(defaultTime);\n    expect(timeToMixJuice('Papaya & Peach')).toBe(defaultTime);\n  });\n});\n\ndescribe('limesToCut', () => {\n  test('calculates the number of limes needed to reach the target supply', () => {\n    const limes = [\n      'small',\n      'large',\n      'large',\n      'medium',\n      'small',\n      'large',\n      'large',\n      'medium',\n    ];\n    expect(limesToCut(42, limes)).toBe(6);\n\n    expect(limesToCut(4, ['medium', 'small'])).toBe(1);\n  });\n\n  test('uses up all limes if there are not enough to reach the target', () => {\n    const limes = [\n      'small',\n      'large',\n      'large',\n      'medium',\n      'small',\n      'large',\n      'large',\n    ];\n\n    expect(limesToCut(80, limes)).toBe(7);\n  });\n\n  test('if no new wedges are needed, no limes are cut', () => {\n    expect(limesToCut(0, ['small', 'large', 'medium'])).toBe(0);\n  });\n\n  test('works if no limes are available', () => {\n    expect(limesToCut(10, [])).toBe(0);\n  });\n});\n\ndescribe('remainingOrders', () => {\n  test('correctly determines the remaining orders', () => {\n    const orders = [\n      'Tropical Island',\n      'Energizer',\n      'Limetime',\n      'All or Nothing',\n      'Pure Strawberry Joy',\n    ];\n    const expected = ['All or Nothing', 'Pure Strawberry Joy'];\n\n    expect(remainingOrders(7, orders)).toEqual(expected);\n  });\n\n  test('correctly handles orders that were started because there was time left', () => {\n    const orders = [\n      'Pure Strawberry Joy',\n      'Pure Strawberry Joy',\n      'Vitality',\n      'Tropical Island',\n      'All or Nothing',\n      'All or Nothing',\n      'All or Nothing',\n      'Green Garden',\n      'Limetime',\n    ];\n    const expected = ['All or Nothing', 'Green Garden', 'Limetime'];\n\n    expect(remainingOrders(13, orders)).toEqual(expected);\n  });\n\n  test('counts all orders as fulfilled if there is enough time', () => {\n    const orders = [\n      'Energizer',\n      'Green Garden',\n      'Ruby Glow',\n      'Pure Strawberry Joy',\n      'Tropical Island',\n      'Limetime',\n    ];\n\n    expect(remainingOrders(12, orders)).toEqual([]);\n  });\n\n  test('works if there is only very little time left', () => {\n    const orders = ['Bananas Gone Wild', 'Pure Strawberry Joy'];\n    const expected = ['Pure Strawberry Joy'];\n\n    expect(remainingOrders(0.2, orders)).toEqual(expected);\n  });\n});\n"
}
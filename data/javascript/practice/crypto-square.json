{
  "language": "javascript",
  "type": "practice",
  "slug": "crypto-square",
  "title": "Crypto Square",
  "docs": {
    "instructions": "# Instructions\n\nImplement the classic method for composing secret messages called a square code.\n\nGiven an English text, output the encoded version of that text.\n\nFirst, the input is normalized: the spaces and punctuation are removed from the English text and the message is down-cased.\n\nThen, the normalized characters are broken into rows.\nThese rows can be regarded as forming a rectangle when printed with intervening newlines.\n\nFor example, the sentence\n\n```text\n\"If man was meant to stay on the ground, god would have given us roots.\"\n```\n\nis normalized to:\n\n```text\n\"ifmanwasmeanttostayonthegroundgodwouldhavegivenusroots\"\n```\n\nThe plaintext should be organized into a rectangle as square as possible.\nThe size of the rectangle should be decided by the length of the message.\n\nIf `c` is the number of columns and `r` is the number of rows, then for the rectangle `r` x `c` find the smallest possible integer `c` such that:\n\n- `r * c >= length of message`,\n- and `c >= r`,\n- and `c - r <= 1`.\n\nOur normalized text is 54 characters long, dictating a rectangle with `c = 8` and `r = 7`:\n\n```text\n\"ifmanwas\"\n\"meanttos\"\n\"tayonthe\"\n\"groundgo\"\n\"dwouldha\"\n\"vegivenu\"\n\"sroots  \"\n```\n\nThe coded message is obtained by reading down the columns going left to right.\n\nThe message above is coded as:\n\n```text\n\"imtgdvsfearwermayoogoanouuiontnnlvtwttddesaohghnsseoau\"\n```\n\nOutput the encoded text in chunks that fill perfect rectangles `(r X c)`, with `c` chunks of `r` length, separated by spaces.\nFor phrases that are `n` characters short of the perfect rectangle, pad each of the last `n` chunks with a single trailing space.\n\n```text\n\"imtgdvs fearwer mayoogo anouuio ntnnlvt wttddes aohghn  sseoau \"\n```\n\nNotice that were we to stack these, we could visually decode the ciphertext back in to the original message:\n\n```text\n\"imtgdvs\"\n\"fearwer\"\n\"mayoogo\"\n\"anouuio\"\n\"ntnnlvt\"\n\"wttddes\"\n\"aohghn \"\n\"sseoau \"\n```\n",
    "hints": ""
  },
  "starter_code": "//\n// This is only a SKELETON file for the 'Crypto Square' exercise. It's been provided as a\n// convenience to get you started writing code faster.\n//\n\nexport class Crypto {\n  constructor() {\n    throw new Error('Remove this line and implement the function');\n  }\n\n  get ciphertext() {\n    throw new Error('Remove this line and implement the function');\n  }\n}\n",
  "tests": "import { describe, expect, test, xtest } from '@jest/globals';\nimport { Crypto } from './crypto-square';\n\ndescribe('Crypto', () => {\n  test('empty plaintext results in an empty ciphertext', () => {\n    const crypto = new Crypto('');\n    expect(crypto.ciphertext).toEqual('');\n  });\n\n  test('normalization results in empty plaintext', () => {\n    const crypto = new Crypto('... --- ...');\n    expect(crypto.ciphertext).toEqual('');\n  });\n\n  xtest('Lowercase', () => {\n    const crypto = new Crypto('A');\n    expect(crypto.ciphertext).toEqual('a');\n  });\n\n  xtest('Remove spaces', () => {\n    const crypto = new Crypto('  b ');\n    expect(crypto.ciphertext).toEqual('b');\n  });\n\n  xtest('Remove punctuation', () => {\n    const crypto = new Crypto('@1,%!');\n    expect(crypto.ciphertext).toEqual('1');\n  });\n\n  xtest('9 character plaintext results in 3 chunks of 3 characters', () => {\n    const crypto = new Crypto('This is fun!');\n    expect(crypto.ciphertext).toEqual('tsf hiu isn');\n  });\n\n  xtest('8 character plaintext results in 3 chunks, the last one with a trailing space', () => {\n    const crypto = new Crypto('Chill out.');\n    expect(crypto.ciphertext).toEqual('clu hlt io ');\n  });\n\n  // This test doesn't run on our online test runner because it will time-out\n  // with most implementations. It's up to you to test your solution locally.\n  test.skip(\n    '54 character plaintext results in 8 chunks, the last two with trailing spaces',\n    () => {\n      const crypto = new Crypto(\n        'If man was meant to stay on the ground, god would have given us roots.',\n      );\n      expect(crypto.ciphertext).toEqual(\n        'imtgdvs fearwer mayoogo anouuio ntnnlvt wttddes aohghn  sseoau ',\n      );\n    },\n    20 * 1000,\n  );\n});\n"
}
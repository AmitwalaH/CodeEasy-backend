{
  "language": "javascript",
  "type": "practice",
  "slug": "bowling",
  "title": "Bowling",
  "docs": {
    "instructions": "# Instructions\n\nScore a bowling game.\n\nBowling is a game where players roll a heavy ball to knock down pins arranged in a triangle.\nWrite code to keep track of the score of a game of bowling.\n\n## Scoring Bowling\n\nThe game consists of 10 frames.\nA frame is composed of one or two ball throws with 10 pins standing at frame initialization.\nThere are three cases for the tabulation of a frame.\n\n- An open frame is where a score of less than 10 is recorded for the frame.\n  In this case the score for the frame is the number of pins knocked down.\n\n- A spare is where all ten pins are knocked down by the second throw.\n  The total value of a spare is 10 plus the number of pins knocked down in their next throw.\n\n- A strike is where all ten pins are knocked down by the first throw.\n  The total value of a strike is 10 plus the number of pins knocked down in the next two throws.\n  If a strike is immediately followed by a second strike, then the value of the first strike cannot be determined until the ball is thrown one more time.\n\nHere is a three frame example:\n\n|  Frame 1   |  Frame 2   |     Frame 3      |\n| :--------: | :--------: | :--------------: |\n| X (strike) | 5/ (spare) | 9 0 (open frame) |\n\nFrame 1 is (10 + 5 + 5) = 20\n\nFrame 2 is (5 + 5 + 9) = 19\n\nFrame 3 is (9 + 0) = 9\n\nThis means the current running total is 48.\n\nThe tenth frame in the game is a special case.\nIf someone throws a spare or a strike then they get one or two fill balls respectively.\nFill balls exist to calculate the total of the 10th frame.\nScoring a strike or spare on the fill ball does not give the player more fill balls.\nThe total value of the 10th frame is the total number of pins knocked down.\n\nFor a tenth frame of X1/ (strike and a spare), the total value is 20.\n\nFor a tenth frame of XXX (three strikes), the total value is 30.\n\n## Requirements\n\nWrite code to keep track of the score of a game of bowling.\nIt should support two operations:\n\n- `roll(pins : int)` is called each time the player rolls a ball.\n  The argument is the number of pins knocked down.\n- `score() : int` is called only at the very end of the game.\n  It returns the total score for that game.\n",
    "hints": ""
  },
  "starter_code": "//\n// This is only a SKELETON file for the 'Bowling' exercise. It's been provided as a\n// convenience to get you started writing code faster.\n//\n\nexport class Bowling {\n  roll() {\n    throw new Error('Remove this line and implement the function');\n  }\n\n  score() {\n    throw new Error('Remove this line and implement the function');\n  }\n}\n",
  "tests": "import { describe, expect, test, xtest } from '@jest/globals';\nimport { Bowling } from './bowling';\n\ndescribe('Bowling', () => {\n  describe('Check game can be scored correctly.', () => {\n    test('should be able to score a game with all zeros', () => {\n      const rolls = [\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(bowling.score()).toEqual(0);\n    });\n\n    xtest('should be able to score a game with no strikes or spares', () => {\n      const rolls = [\n        3, 6, 3, 6, 3, 6, 3, 6, 3, 6, 3, 6, 3, 6, 3, 6, 3, 6, 3, 6,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(bowling.score()).toEqual(90);\n    });\n\n    xtest('a spare followed by zeros is worth ten points', () => {\n      const rolls = [\n        6, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(bowling.score()).toEqual(10);\n    });\n\n    xtest('points scored in the roll after a spare are counted twice', () => {\n      const rolls = [\n        6, 4, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(bowling.score()).toEqual(16);\n    });\n\n    xtest('consecutive spares each get a one roll bonus', () => {\n      const rolls = [\n        5, 5, 3, 7, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(bowling.score()).toEqual(31);\n    });\n\n    xtest('a spare in the last frame gets a one roll bonus that is counted once', () => {\n      const rolls = [\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 3, 7,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(bowling.score()).toEqual(17);\n    });\n\n    xtest('a strike earns ten points in a frame with a single roll', () => {\n      const rolls = [10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(bowling.score()).toEqual(10);\n    });\n\n    xtest('points scored in the two rolls after a strike are counted twice as a bonus', () => {\n      const rolls = [10, 5, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(bowling.score()).toEqual(26);\n    });\n\n    xtest('consecutive strikes each get the two roll bonus', () => {\n      const rolls = [10, 10, 10, 5, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(bowling.score()).toEqual(81);\n    });\n\n    xtest('a strike in the last frame gets a two roll bonuses that is counted once', () => {\n      const rolls = [\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 7, 1,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(bowling.score()).toEqual(18);\n    });\n\n    xtest('rolling a spare with the two roll bonus does not get a bonus roll', () => {\n      const rolls = [\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 7, 3,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(bowling.score()).toEqual(20);\n    });\n\n    xtest('strikes with the two roll bonus do not get bonus rolls', () => {\n      const rolls = [\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 10,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(bowling.score()).toEqual(30);\n    });\n\n    xtest('last two strikes followed by only last bonus with non strike points', () => {\n      const rolls = [\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 0, 1,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(bowling.score()).toEqual(31);\n    });\n\n    xtest('a strike with the one roll bonus after a spare in the last frame does not get a bonus', () => {\n      const rolls = [\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 3, 10,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(bowling.score()).toEqual(20);\n    });\n\n    xtest('all strikes is a perfect game', () => {\n      const rolls = [10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(bowling.score()).toEqual(300);\n    });\n  });\n\n  describe('Check game rules.', () => {\n    xtest('rolls cannot score negative points', () => {\n      const bowling = new Bowling();\n      expect(() => {\n        bowling.roll(-1);\n      }).toThrow(new Error('Negative roll is invalid'));\n    });\n\n    xtest('a roll cannot score more than 10 points', () => {\n      const bowling = new Bowling();\n      expect(() => {\n        bowling.roll(11);\n      }).toThrow(new Error('Pin count exceeds pins on the lane'));\n    });\n\n    xtest('two rolls in a frame cannot score more than 10 points', () => {\n      const bowling = new Bowling();\n      bowling.roll(5);\n      expect(() => {\n        bowling.roll(6);\n      }).toThrow(new Error('Pin count exceeds pins on the lane'));\n    });\n\n    xtest('bonus roll after a strike in the last frame cannot score more than 10 points', () => {\n      const rolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(() => {\n        bowling.roll(11);\n      }).toThrow(new Error('Pin count exceeds pins on the lane'));\n    });\n\n    xtest('two bonus rolls after a strike in the last frame cannot score more than 10 points', () => {\n      const rolls = [\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 5,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(() => {\n        bowling.roll(6);\n      }).toThrow(new Error('Pin count exceeds pins on the lane'));\n    });\n\n    xtest('two bonus rolls after a strike in the last frame can score more than 10 points if one is a strike', () => {\n      const rolls = [\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10, 6,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(bowling.score()).toEqual(26);\n    });\n\n    xtest('the second bonus rolls after a strike in the last frame cannot be a strike if the first one is not a strike', () => {\n      const rolls = [\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 6,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(() => {\n        bowling.roll(10);\n      }).toThrow(new Error('Pin count exceeds pins on the lane'));\n    });\n\n    xtest('second bonus roll after a strike in the last frame cannot score more than 10 points', () => {\n      const rolls = [\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(() => {\n        bowling.roll(11);\n      }).toThrow(new Error('Pin count exceeds pins on the lane'));\n    });\n\n    xtest('an unstarted game cannot be scored', () => {\n      const bowling = new Bowling();\n      expect(() => {\n        bowling.score();\n      }).toThrow(new Error('Score cannot be taken until the end of the game'));\n    });\n\n    xtest('an incomplete game cannot be scored', () => {\n      const rolls = [0, 0];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(() => {\n        bowling.score();\n      }).toThrow(new Error('Score cannot be taken until the end of the game'));\n    });\n\n    xtest('cannot roll if game already has ten frames', () => {\n      const rolls = [\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(() => {\n        bowling.roll(0);\n      }).toThrow(new Error('Cannot roll after game is over'));\n    });\n\n    xtest('bonus rolls for a strike in the last frame must be rolled before score can be calculated', () => {\n      const rolls = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(() => {\n        bowling.score();\n      }).toThrow(new Error('Score cannot be taken until the end of the game'));\n    });\n\n    xtest('both bonus rolls for a strike in the last frame must be rolled before score can be calculated', () => {\n      const rolls = [\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 10,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(() => {\n        bowling.score();\n      }).toThrow(new Error('Score cannot be taken until the end of the game'));\n    });\n\n    xtest('bonus roll for a spare in the last frame must be rolled before score can be calculated', () => {\n      const rolls = [\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 3,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(() => {\n        bowling.score();\n      }).toThrow(new Error('Score cannot be taken until the end of the game'));\n    });\n\n    xtest('cannot roll after bonus roll for spare', () => {\n      const rolls = [\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 3, 2,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(() => {\n        bowling.roll(2);\n      }).toThrow(new Error('Cannot roll after game is over'));\n    });\n\n    xtest('cannot roll after bonus rolls for strike', () => {\n      const rolls = [\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 3, 2,\n      ];\n      const bowling = new Bowling();\n      rolls.forEach((roll) => {\n        bowling.roll(roll);\n      });\n      expect(() => {\n        bowling.roll(2);\n      }).toThrow(new Error('Cannot roll after game is over'));\n    });\n  });\n});\n"
}
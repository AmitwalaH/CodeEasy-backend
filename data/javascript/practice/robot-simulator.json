{
  "language": "javascript",
  "type": "practice",
  "slug": "robot-simulator",
  "title": "Robot Simulator",
  "docs": {
    "instructions": "# Instructions\n\nWrite a robot simulator.\n\nA robot factory's test facility needs a program to verify robot movements.\n\nThe robots have three possible movements:\n\n- turn right\n- turn left\n- advance\n\nRobots are placed on a hypothetical infinite grid, facing a particular direction (north, east, south, or west) at a set of {x,y} coordinates,\ne.g., {3,8}, with coordinates increasing to the north and east.\n\nThe robot then receives a number of instructions, at which point the testing facility verifies the robot's new position, and in which direction it is pointing.\n\n- The letter-string \"RAALAL\" means:\n  - Turn right\n  - Advance twice\n  - Turn left\n  - Advance once\n  - Turn left yet again\n- Say a robot starts at {7, 3} facing north.\n  Then running this stream of instructions should leave it at {9, 4} facing west.\n",
    "hints": ""
  },
  "starter_code": "//\n// This is only a SKELETON file for the 'Robot Simulator' exercise. It's been provided as a\n// convenience to get you started writing code faster.\n//\n\nexport class InvalidInputError extends Error {\n  constructor(message) {\n    super();\n    this.message = message || 'Invalid Input';\n  }\n}\n\nexport class Robot {\n  get bearing() {\n    throw new Error('Remove this line and implement the function');\n  }\n\n  get coordinates() {\n    throw new Error('Remove this line and implement the function');\n  }\n\n  place({ x, y, direction }) {\n    throw new Error('Remove this line and implement the function');\n  }\n\n  evaluate(instructions) {\n    throw new Error('Remove this line and implement the function');\n  }\n}\n",
  "tests": "import { describe, expect, test, xtest } from '@jest/globals';\nimport { InvalidInputError, Robot } from './robot-simulator';\n\nfunction turnRight(robot) {\n  robot.evaluate('R');\n}\n\nfunction turnLeft(robot) {\n  robot.evaluate('L');\n}\n\nfunction advance(robot) {\n  robot.evaluate('A');\n}\n\ndescribe('Robot', () => {\n  describe('Create robot', () => {\n    test('facing north by default', () => {\n      const robot = new Robot();\n      expect(robot.bearing).toEqual('north');\n    });\n\n    xtest('facing east', () => {\n      const robot = new Robot();\n      robot.place({ direction: 'east', x: 0, y: 0 });\n\n      expect(robot.bearing).toEqual('east');\n    });\n\n    xtest('facing west, at origin', () => {\n      const robot = new Robot();\n      robot.place({ direction: 'west', x: 0, y: 0 });\n\n      expect(robot.bearing).toEqual('west');\n      expect(robot.coordinates).toEqual([0, 0]);\n    });\n\n    xtest('at negative position facing south', () => {\n      const robot = new Robot();\n      robot.place({ direction: 'south', x: -1, y: -1 });\n\n      expect(robot.bearing).toEqual('south');\n      expect(robot.coordinates).toEqual([-1, -1]);\n    });\n\n    xtest('invalid robot bearing', () => {\n      const robot = new Robot();\n\n      expect(InvalidInputError.prototype).toBeInstanceOf(Error);\n      expect(() => robot.place({ direction: 'crood', x: 0, y: 0 })).toThrow(\n        InvalidInputError,\n      );\n    });\n  });\n\n  describe('Rotating clockwise', () => {\n    const robot = new Robot();\n\n    xtest('changes north to east', () => {\n      robot.place({ direction: 'north', x: 0, y: 0 });\n\n      turnRight(robot);\n\n      expect(robot.bearing).toEqual('east');\n      expect(robot.coordinates).toEqual([0, 0]);\n    });\n\n    xtest('changes east to south', () => {\n      robot.place({ direction: 'east', x: 0, y: 0 });\n\n      turnRight(robot);\n\n      expect(robot.bearing).toEqual('south');\n      expect(robot.coordinates).toEqual([0, 0]);\n    });\n\n    xtest('changes south to west', () => {\n      robot.place({ direction: 'south', x: 0, y: 0 });\n\n      turnRight(robot);\n\n      expect(robot.bearing).toEqual('west');\n      expect(robot.coordinates).toEqual([0, 0]);\n    });\n\n    xtest('changes west to north', () => {\n      robot.place({ direction: 'west', x: 0, y: 0 });\n\n      turnRight(robot);\n\n      expect(robot.bearing).toEqual('north');\n      expect(robot.coordinates).toEqual([0, 0]);\n    });\n  });\n\n  describe('Rotating counter-clockwise', () => {\n    const robot = new Robot();\n\n    xtest('changes north to west', () => {\n      robot.place({ direction: 'north', x: 0, y: 0 });\n\n      turnLeft(robot);\n\n      expect(robot.bearing).toEqual('west');\n      expect(robot.coordinates).toEqual([0, 0]);\n    });\n\n    xtest('changes west to south', () => {\n      robot.place({ direction: 'west', x: 0, y: 0 });\n\n      turnLeft(robot);\n\n      expect(robot.bearing).toEqual('south');\n      expect(robot.coordinates).toEqual([0, 0]);\n    });\n\n    xtest('changes south to east', () => {\n      robot.place({ direction: 'south', x: 0, y: 0 });\n\n      turnLeft(robot);\n\n      expect(robot.bearing).toEqual('east');\n      expect(robot.coordinates).toEqual([0, 0]);\n    });\n\n    xtest('changes east to north', () => {\n      robot.place({ direction: 'east', x: 0, y: 0 });\n\n      turnLeft(robot);\n\n      expect(robot.bearing).toEqual('north');\n      expect(robot.coordinates).toEqual([0, 0]);\n    });\n  });\n\n  describe('Moving forward one', () => {\n    const robot = new Robot();\n\n    xtest('advance when facing north', () => {\n      robot.place({ direction: 'north', x: 0, y: 0 });\n\n      advance(robot);\n\n      expect(robot.coordinates).toEqual([0, 1]);\n      expect(robot.bearing).toEqual('north');\n    });\n\n    xtest('advance when facing south', () => {\n      robot.place({ direction: 'south', x: 0, y: 0 });\n\n      advance(robot);\n\n      expect(robot.coordinates).toEqual([0, -1]);\n      expect(robot.bearing).toEqual('south');\n    });\n\n    xtest('advance when facing east', () => {\n      robot.place({ direction: 'east', x: 0, y: 0 });\n\n      advance(robot);\n\n      expect(robot.coordinates).toEqual([1, 0]);\n      expect(robot.bearing).toEqual('east');\n    });\n\n    xtest('advance when facing west', () => {\n      robot.place({ direction: 'west', x: 0, y: 0 });\n\n      advance(robot);\n\n      expect(robot.coordinates).toEqual([-1, 0]);\n      expect(robot.bearing).toEqual('west');\n    });\n  });\n\n  describe('Follow series of instructions', () => {\n    const robot = new Robot();\n\n    xtest('moving east and north from README', () => {\n      robot.place({ x: 7, y: 3, direction: 'north' });\n\n      robot.evaluate('RAALAL');\n\n      expect(robot.coordinates).toEqual([9, 4]);\n      expect(robot.bearing).toEqual('west');\n    });\n\n    xtest('moving west and north', () => {\n      robot.place({ x: 0, y: 0, direction: 'north' });\n\n      robot.evaluate('LAAARALA');\n\n      expect(robot.coordinates).toEqual([-4, 1]);\n      expect(robot.bearing).toEqual('west');\n    });\n\n    xtest('moving west and south', () => {\n      robot.place({ x: 2, y: -7, direction: 'east' });\n\n      robot.evaluate('RRAAAAALA');\n\n      expect(robot.coordinates).toEqual([-3, -8]);\n      expect(robot.bearing).toEqual('south');\n    });\n\n    xtest('moving east and north', () => {\n      robot.place({ x: 8, y: 4, direction: 'south' });\n\n      robot.evaluate('LAAARRRALLLL');\n\n      expect(robot.coordinates).toEqual([11, 5]);\n      expect(robot.bearing).toEqual('north');\n    });\n\n    xtest('instruct many robots', () => {\n      const robot1 = new Robot();\n      const robot2 = new Robot();\n      const robot3 = new Robot();\n      robot1.place({ x: 0, y: 0, direction: 'north' });\n      robot2.place({ x: 2, y: -7, direction: 'east' });\n      robot3.place({ x: 8, y: 4, direction: 'south' });\n\n      robot1.evaluate('LAAARALA');\n      robot2.evaluate('RRAAAAALA');\n      robot3.evaluate('LAAARRRALLLL');\n\n      expect(robot1.coordinates).toEqual([-4, 1]);\n      expect(robot1.bearing).toEqual('west');\n\n      expect(robot2.coordinates).toEqual([-3, -8]);\n      expect(robot2.bearing).toEqual('south');\n\n      expect(robot3.coordinates).toEqual([11, 5]);\n      expect(robot3.bearing).toEqual('north');\n    });\n  });\n});\n"
}
{
  "language": "go",
  "type": "practice",
  "slug": "house",
  "title": "House",
  "docs": {
    "instructions": "# Instructions\r\n\r\nRecite the nursery rhyme 'This is the House that Jack Built'.\r\n\r\n> [The] process of placing a phrase of clause within another phrase of clause is called embedding.\r\n> It is through the processes of recursion and embedding that we are able to take a finite number of forms (words and phrases) and construct an infinite number of expressions.\r\n> Furthermore, embedding also allows us to construct an infinitely long structure, in theory anyway.\r\n\r\n- [papyr.com][papyr]\r\n\r\nThe nursery rhyme reads as follows:\r\n\r\n```text\r\nThis is the house that Jack built.\r\n\r\nThis is the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the dog\r\nthat worried the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the cow with the crumpled horn\r\nthat tossed the dog\r\nthat worried the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the maiden all forlorn\r\nthat milked the cow with the crumpled horn\r\nthat tossed the dog\r\nthat worried the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the man all tattered and torn\r\nthat kissed the maiden all forlorn\r\nthat milked the cow with the crumpled horn\r\nthat tossed the dog\r\nthat worried the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the priest all shaven and shorn\r\nthat married the man all tattered and torn\r\nthat kissed the maiden all forlorn\r\nthat milked the cow with the crumpled horn\r\nthat tossed the dog\r\nthat worried the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the rooster that crowed in the morn\r\nthat woke the priest all shaven and shorn\r\nthat married the man all tattered and torn\r\nthat kissed the maiden all forlorn\r\nthat milked the cow with the crumpled horn\r\nthat tossed the dog\r\nthat worried the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the farmer sowing his corn\r\nthat kept the rooster that crowed in the morn\r\nthat woke the priest all shaven and shorn\r\nthat married the man all tattered and torn\r\nthat kissed the maiden all forlorn\r\nthat milked the cow with the crumpled horn\r\nthat tossed the dog\r\nthat worried the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the horse and the hound and the horn\r\nthat belonged to the farmer sowing his corn\r\nthat kept the rooster that crowed in the morn\r\nthat woke the priest all shaven and shorn\r\nthat married the man all tattered and torn\r\nthat kissed the maiden all forlorn\r\nthat milked the cow with the crumpled horn\r\nthat tossed the dog\r\nthat worried the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n```\r\n\r\n[papyr]: https://papyr.com/hypertextbooks/grammar/ph_noun.htm\r\n",
    "hints": ""
  },
  "starter_code": "package house\r\n\r\nfunc Verse(v int) string {\r\n\tpanic(\"Please implement the Verse function\")\r\n}\r\n\r\nfunc Song() string {\r\n\tpanic(\"Please implement the Song function\")\r\n}\r\n",
  "tests": "// As ever, there are different ways to complete this exercise.\r\n// Try using using programmatic recursion to generate the verses of the song,\r\n// thus reflecting the song's grammatical recursion.\r\n\r\n// While recursion isn't always the simplest or most efficient solution to a problem,\r\n// it's a powerful programming technique nonetheless.\r\n//\r\n// New to recursion? Here's a quick introduction:\r\n// https://www.golang-book.com/books/intro/7#section5\r\n\r\npackage house\r\n\r\nimport (\r\n\t\"fmt\"\r\n\t\"strings\"\r\n\t\"testing\"\r\n)\r\n\r\nvar (\r\n\t// song copied from README\r\n\texpectedSong = `This is the house that Jack built.\r\n\r\nThis is the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the dog\r\nthat worried the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the cow with the crumpled horn\r\nthat tossed the dog\r\nthat worried the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the maiden all forlorn\r\nthat milked the cow with the crumpled horn\r\nthat tossed the dog\r\nthat worried the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the man all tattered and torn\r\nthat kissed the maiden all forlorn\r\nthat milked the cow with the crumpled horn\r\nthat tossed the dog\r\nthat worried the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the priest all shaven and shorn\r\nthat married the man all tattered and torn\r\nthat kissed the maiden all forlorn\r\nthat milked the cow with the crumpled horn\r\nthat tossed the dog\r\nthat worried the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the rooster that crowed in the morn\r\nthat woke the priest all shaven and shorn\r\nthat married the man all tattered and torn\r\nthat kissed the maiden all forlorn\r\nthat milked the cow with the crumpled horn\r\nthat tossed the dog\r\nthat worried the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the farmer sowing his corn\r\nthat kept the rooster that crowed in the morn\r\nthat woke the priest all shaven and shorn\r\nthat married the man all tattered and torn\r\nthat kissed the maiden all forlorn\r\nthat milked the cow with the crumpled horn\r\nthat tossed the dog\r\nthat worried the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.\r\n\r\nThis is the horse and the hound and the horn\r\nthat belonged to the farmer sowing his corn\r\nthat kept the rooster that crowed in the morn\r\nthat woke the priest all shaven and shorn\r\nthat married the man all tattered and torn\r\nthat kissed the maiden all forlorn\r\nthat milked the cow with the crumpled horn\r\nthat tossed the dog\r\nthat worried the cat\r\nthat killed the rat\r\nthat ate the malt\r\nthat lay in the house that Jack built.`\r\n\r\n\texpectedVerses = strings.Split(expectedSong, \"\\n\\n\")\r\n)\r\n\r\nfunc TestVerse(t *testing.T) {\r\n\tfor v := 0; v < len(expectedVerses); v++ {\r\n\t\tt.Run(fmt.Sprintf(\"verse %d\", v+1), func(t *testing.T) {\r\n\t\t\tif got := Verse(v + 1); got != expectedVerses[v] {\r\n\t\t\t\tt.Fatalf(\"Verse(%d)\\ngot:\\n%q\\nwant:\\n%q\", v+1, got, expectedVerses[v])\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunc TestSong(t *testing.T) {\r\n\ts := Song()\r\n\tif s == expectedSong {\r\n\t\treturn\r\n\t}\r\n\t// a little help in locating an error\r\n\tgotStanzas := len(strings.Split(s, \"\\n\\n\"))\r\n\twantStanzas := len(expectedVerses)\r\n\tif wantStanzas != gotStanzas {\r\n\t\tt.Fatalf(\"Song() has %d verse(s), want %d verses\", gotStanzas, wantStanzas)\r\n\t}\r\n\tgot := strings.Split(s, \"\\n\")\r\n\twant := strings.Split(expectedSong, \"\\n\")\r\n\tvar g, w string\r\n\tvar i int\r\n\tfor i, w = range want {\r\n\t\tif len(got) <= i {\r\n\t\t\tg = \"\"\r\n\t\t\tbreak\r\n\t\t}\r\n\t\tif g = got[i]; g != w {\r\n\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\tt.Fatalf(\"Song() line %d =\\n%q\\n want \\n%q\", i+1, g, w)\r\n}\r\n\r\nfunc BenchmarkVerse(b *testing.B) {\r\n\tif testing.Short() {\r\n\t\tb.Skip(\"skipping benchmark in short mode.\")\r\n\t}\r\n\tfor i := 0; i < b.N; i++ {\r\n\t\tfor v := 0; v < len(expectedVerses); v++ {\r\n\t\t\tVerse(v + 1)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunc BenchmarkSong(b *testing.B) {\r\n\tif testing.Short() {\r\n\t\tb.Skip(\"skipping benchmark in short mode.\")\r\n\t}\r\n\tfor i := 0; i < b.N; i++ {\r\n\t\tSong()\r\n\t}\r\n}\r\n"
}
{
  "language": "go",
  "type": "practice",
  "slug": "minesweeper",
  "title": "Minesweeper",
  "docs": {
    "instructions": "# Instructions\r\n\r\nYour task is to add the mine counts to empty squares in a completed Minesweeper board.\r\nThe board itself is a rectangle composed of squares that are either empty (`' '`) or a mine (`'*'`).\r\n\r\nFor each empty square, count the number of mines adjacent to it (horizontally, vertically, diagonally).\r\nIf the empty square has no adjacent mines, leave it empty.\r\nOtherwise replace it with the adjacent mines count.\r\n\r\nFor example, you may receive a 5 x 4 board like this (empty spaces are represented here with the '·' character for display on screen):\r\n\r\n```text\r\n·*·*·\r\n··*··\r\n··*··\r\n·····\r\n```\r\n\r\nWhich your code should transform into this:\r\n\r\n```text\r\n1*3*1\r\n13*31\r\n·2*2·\r\n·111·\r\n```\r\n",
    "hints": ""
  },
  "starter_code": "package minesweeper\r\n\r\n// Annotate returns an annotated board\r\nfunc Annotate(board []string) []string {\r\n\tpanic(\"Please implement the Annotate function\")\r\n}\r\n",
  "tests": "package minesweeper\r\n\r\nimport (\r\n\t\"testing\"\r\n)\r\n\r\ntype minesweeperTestCase struct {\r\n\tdescription string\r\n\tminefield   []string\r\n\texpected    []string\r\n}\r\n\r\nvar minesweeperTestCases = []minesweeperTestCase{\r\n\t{\r\n\t\tdescription: \"no rows\",\r\n\t\tminefield:   []string{},\r\n\t\texpected:    []string{},\r\n\t},\r\n\t{\r\n\t\tdescription: \"no columns\",\r\n\t\tminefield:   []string{\"\"},\r\n\t\texpected:    []string{\"\"},\r\n\t},\r\n\t{\r\n\t\tdescription: \"no mines\",\r\n\t\tminefield: []string{\r\n\t\t\t\"   \",\r\n\t\t\t\"   \",\r\n\t\t\t\"   \",\r\n\t\t},\r\n\t\texpected: []string{\r\n\t\t\t\"   \",\r\n\t\t\t\"   \",\r\n\t\t\t\"   \",\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tdescription: \"minefield with only mines\",\r\n\t\tminefield: []string{\r\n\t\t\t\"***\",\r\n\t\t\t\"***\",\r\n\t\t\t\"***\",\r\n\t\t},\r\n\t\texpected: []string{\r\n\t\t\t\"***\",\r\n\t\t\t\"***\",\r\n\t\t\t\"***\",\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tdescription: \"mine surrounded by spaces\",\r\n\t\tminefield: []string{\r\n\t\t\t\"   \",\r\n\t\t\t\" * \",\r\n\t\t\t\"   \",\r\n\t\t},\r\n\t\texpected: []string{\r\n\t\t\t\"111\",\r\n\t\t\t\"1*1\",\r\n\t\t\t\"111\",\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tdescription: \"space surrounded by mines\",\r\n\t\tminefield: []string{\r\n\t\t\t\"***\",\r\n\t\t\t\"* *\",\r\n\t\t\t\"***\",\r\n\t\t},\r\n\t\texpected: []string{\r\n\t\t\t\"***\",\r\n\t\t\t\"*8*\",\r\n\t\t\t\"***\",\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tdescription: \"horizontal line\",\r\n\t\tminefield:   []string{\" * * \"},\r\n\t\texpected:    []string{\"1*2*1\"},\r\n\t},\r\n\t{\r\n\t\tdescription: \"horizontal line, mines at edges\",\r\n\t\tminefield:   []string{\"*   *\"},\r\n\t\texpected:    []string{\"*1 1*\"},\r\n\t},\r\n\t{\r\n\t\tdescription: \"vertical line\",\r\n\t\tminefield: []string{\r\n\t\t\t\" \",\r\n\t\t\t\"*\",\r\n\t\t\t\" \",\r\n\t\t\t\"*\",\r\n\t\t\t\" \",\r\n\t\t},\r\n\t\texpected: []string{\r\n\t\t\t\"1\",\r\n\t\t\t\"*\",\r\n\t\t\t\"2\",\r\n\t\t\t\"*\",\r\n\t\t\t\"1\",\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tdescription: \"vertical line, mines at edges\",\r\n\t\tminefield: []string{\r\n\t\t\t\"*\",\r\n\t\t\t\" \",\r\n\t\t\t\" \",\r\n\t\t\t\" \",\r\n\t\t\t\"*\",\r\n\t\t},\r\n\t\texpected: []string{\r\n\t\t\t\"*\",\r\n\t\t\t\"1\",\r\n\t\t\t\" \",\r\n\t\t\t\"1\",\r\n\t\t\t\"*\",\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tdescription: \"cross\",\r\n\t\tminefield: []string{\r\n\t\t\t\"  *  \",\r\n\t\t\t\"  *  \",\r\n\t\t\t\"*****\",\r\n\t\t\t\"  *  \",\r\n\t\t\t\"  *  \",\r\n\t\t},\r\n\t\texpected: []string{\r\n\t\t\t\" 2*2 \",\r\n\t\t\t\"25*52\",\r\n\t\t\t\"*****\",\r\n\t\t\t\"25*52\",\r\n\t\t\t\" 2*2 \",\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tdescription: \"large minefield\",\r\n\t\tminefield: []string{\r\n\t\t\t\" *  * \",\r\n\t\t\t\"  *   \",\r\n\t\t\t\"    * \",\r\n\t\t\t\"   * *\",\r\n\t\t\t\" *  * \",\r\n\t\t\t\"      \",\r\n\t\t},\r\n\t\texpected: []string{\r\n\t\t\t\"1*22*1\",\r\n\t\t\t\"12*322\",\r\n\t\t\t\" 123*2\",\r\n\t\t\t\"112*4*\",\r\n\t\t\t\"1*22*2\",\r\n\t\t\t\"111111\",\r\n\t\t},\r\n\t},\r\n}\r\n\r\nfunc slicesEqual(a, b []string) bool {\r\n\tif len(a) != len(b) {\r\n\t\treturn false\r\n\t}\r\n\tif len(a) == 0 {\r\n\t\treturn true\r\n\t}\r\n\tfor i := 0; i < len(a); i++ {\r\n\t\tif a[i] != b[i] {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\treturn true\r\n}\r\n\r\nfunc TestAnnotate(t *testing.T) {\r\n\tfor _, tc := range minesweeperTestCases {\r\n\t\tt.Run(tc.description, func(t *testing.T) {\r\n\t\t\tgot := Annotate(tc.minefield)\r\n\t\t\twant := tc.expected\r\n\t\t\tif !slicesEqual(want, got) {\r\n\t\t\t\tt.Fatalf(\"expected: %v, got: %v\", want, got)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nvar benchmarkResult []string\r\n\r\nfunc BenchmarkAnnotate(b *testing.B) {\r\n\tif testing.Short() {\r\n\t\tb.Skip(\"skipping benchmark in short mode.\")\r\n\t}\r\n\tvar result []string\r\n\tboard := []string{\r\n\t\t\"1*22*1\",\r\n\t\t\"12*322\",\r\n\t\t\" 123*2\",\r\n\t\t\"112*4*\",\r\n\t\t\"1*22*2\",\r\n\t\t\"111111\",\r\n\t}\r\n\tb.ResetTimer()\r\n\tfor i := 0; i < b.N; i++ {\r\n\t\tresult = Annotate(board)\r\n\t}\r\n\tbenchmarkResult = result\r\n}\r\n"
}
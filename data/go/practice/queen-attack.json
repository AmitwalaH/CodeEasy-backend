{
  "language": "go",
  "type": "practice",
  "slug": "queen-attack",
  "title": "Queen Attack",
  "docs": {
    "instructions": "# Instructions\r\n\r\nGiven the position of two queens on a chess board, indicate whether or not they are positioned so that they can attack each other.\r\n\r\nIn the game of chess, a queen can attack pieces which are on the same row, column, or diagonal.\r\n\r\nA chessboard can be represented by an 8 by 8 array.\r\n\r\nSo if you are told the white queen is at `c5` (zero-indexed at column 2, row 3) and the black queen at `f2` (zero-indexed at column 5, row 6), then you know that the set-up is like so:\r\n\r\n![A chess board with two queens. Arrows emanating from the queen at c5 indicate possible directions of capture along file, rank and diagonal.](https://assets.exercism.org/images/exercises/queen-attack/queen-capture.svg)\r\n\r\nYou are also able to answer whether the queens can attack each other.\r\nIn this case, that answer would be yes, they can, because both pieces share a diagonal.\r\n\r\n## Credit\r\n\r\nThe chessboard image was made by [habere-et-dispertire][habere-et-dispertire] using LaTeX and the [chessboard package][chessboard-package] by Ulrike Fischer.\r\n\r\n[habere-et-dispertire]: https://exercism.org/profiles/habere-et-dispertire\r\n[chessboard-package]: https://github.com/u-fischer/chessboard\r\n",
    "hints": ""
  },
  "starter_code": "package queenattack\r\n\r\nfunc CanQueenAttack(whitePosition, blackPosition string) (bool, error) {\r\n\tpanic(\"Please implement the CanQueenAttack function\")\r\n}\r\n",
  "tests": "package queenattack\r\n\r\nimport (\r\n\t\"fmt\"\r\n\t\"testing\"\r\n)\r\n\r\n// Arguments to CanQueenAttack are in algebraic notation.\r\n// See http://en.wikipedia.org/wiki/Algebraic_notation_(chess)\r\n\r\ntype testCase struct {\r\n\tdescription string\r\n\tpos1, pos2  string\r\n\texpected    bool\r\n}\r\n\r\nvar validTestCases = []testCase{\r\n\t{description: \"no attack\", pos1: \"b3\", pos2: \"d7\", expected: false},\r\n\t{description: \"no attack\", pos1: \"a1\", pos2: \"f8\", expected: false},\r\n\t{description: \"same file\", pos1: \"b4\", pos2: \"b7\", expected: true},\r\n\t{description: \"same rank\", pos1: \"e4\", pos2: \"b4\", expected: true},\r\n\t{description: \"common diagonals\", pos1: \"a1\", pos2: \"f6\", expected: true},\r\n\t{description: \"common diagonals\", pos1: \"a6\", pos2: \"b7\", expected: true},\r\n\t{description: \"common diagonals\", pos1: \"d1\", pos2: \"f3\", expected: true},\r\n\t{description: \"common diagonals\", pos1: \"f1\", pos2: \"a6\", expected: true},\r\n\t{description: \"common diagonals\", pos1: \"a1\", pos2: \"h8\", expected: true},\r\n\t{description: \"common diagonals\", pos1: \"a8\", pos2: \"h1\", expected: true},\r\n}\r\n\r\nfunc TestCanQueenAttackValid(t *testing.T) {\r\n\tfor _, tc := range validTestCases {\r\n\t\tt.Run(fmt.Sprintf(\"%s, white queen: %s, black queen: %s\", tc.description, tc.pos1, tc.pos2), func(t *testing.T) {\r\n\t\t\tgot, err := CanQueenAttack(tc.pos1, tc.pos2)\r\n\t\t\tif err != nil {\r\n\t\t\t\tt.Fatalf(\"CanQueenAttack(%q, %q) returned unexpected error %v\", tc.pos1, tc.pos2, err)\r\n\t\t\t}\r\n\t\t\tif got != tc.expected {\r\n\t\t\t\tt.Fatalf(\"CanQueenAttack(%q, %q) = %v, want: %v\", tc.pos1, tc.pos2, got, tc.expected)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nvar invalidTestCases = []testCase{\r\n\t{description: \"same square\", pos1: \"b4\", pos2: \"b4\"},\r\n\t{description: \"position off board\", pos1: \"a8\", pos2: \"b9\"},\r\n\t{description: \"position off board\", pos1: \"a0\", pos2: \"b1\"},\r\n\t{description: \"position off board\", pos1: \"g3\", pos2: \"i5\"},\r\n\t{description: \"invalid position\", pos1: \"here\", pos2: \"there\"},\r\n\t{description: \"empty position\", pos1: \"\", pos2: \"\"},\r\n}\r\n\r\nfunc TestCanQueenAttackInvalid(t *testing.T) {\r\n\tfor _, tc := range invalidTestCases {\r\n\t\tt.Run(fmt.Sprintf(\"%s, white queen: %s, black queen: %s\", tc.description, tc.pos1, tc.pos2), func(t *testing.T) {\r\n\t\t\tgot, err := CanQueenAttack(tc.pos1, tc.pos2)\r\n\t\t\tif err == nil {\r\n\t\t\t\tt.Fatalf(\"CanQueenAttack(%q, %q) expected error, got %v\", tc.pos1, tc.pos2, got)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// Benchmark combined time for all test cases\r\nfunc BenchmarkCanQueenAttack(b *testing.B) {\r\n\tif testing.Short() {\r\n\t\tb.Skip(\"skipping benchmark in short mode.\")\r\n\t}\r\n\tallTestCases := append(validTestCases, invalidTestCases...)\r\n\tb.ResetTimer()\r\n\tfor i := 0; i < b.N; i++ {\r\n\t\tfor _, test := range allTestCases {\r\n\t\t\tCanQueenAttack(test.pos1, test.pos2)\r\n\t\t}\r\n\t}\r\n}\r\n"
}
{
  "language": "go",
  "type": "practice",
  "slug": "bottle-song",
  "title": "Bottle Song",
  "docs": {
    "instructions": "# Instructions\r\n\r\nRecite the lyrics to that popular children's repetitive song: Ten Green Bottles.\r\n\r\nNote that not all verses are identical.\r\n\r\n```text\r\nTen green bottles hanging on the wall,\r\nTen green bottles hanging on the wall,\r\nAnd if one green bottle should accidentally fall,\r\nThere'll be nine green bottles hanging on the wall.\r\n\r\nNine green bottles hanging on the wall,\r\nNine green bottles hanging on the wall,\r\nAnd if one green bottle should accidentally fall,\r\nThere'll be eight green bottles hanging on the wall.\r\n\r\nEight green bottles hanging on the wall,\r\nEight green bottles hanging on the wall,\r\nAnd if one green bottle should accidentally fall,\r\nThere'll be seven green bottles hanging on the wall.\r\n\r\nSeven green bottles hanging on the wall,\r\nSeven green bottles hanging on the wall,\r\nAnd if one green bottle should accidentally fall,\r\nThere'll be six green bottles hanging on the wall.\r\n\r\nSix green bottles hanging on the wall,\r\nSix green bottles hanging on the wall,\r\nAnd if one green bottle should accidentally fall,\r\nThere'll be five green bottles hanging on the wall.\r\n\r\nFive green bottles hanging on the wall,\r\nFive green bottles hanging on the wall,\r\nAnd if one green bottle should accidentally fall,\r\nThere'll be four green bottles hanging on the wall.\r\n\r\nFour green bottles hanging on the wall,\r\nFour green bottles hanging on the wall,\r\nAnd if one green bottle should accidentally fall,\r\nThere'll be three green bottles hanging on the wall.\r\n\r\nThree green bottles hanging on the wall,\r\nThree green bottles hanging on the wall,\r\nAnd if one green bottle should accidentally fall,\r\nThere'll be two green bottles hanging on the wall.\r\n\r\nTwo green bottles hanging on the wall,\r\nTwo green bottles hanging on the wall,\r\nAnd if one green bottle should accidentally fall,\r\nThere'll be one green bottle hanging on the wall.\r\n\r\nOne green bottle hanging on the wall,\r\nOne green bottle hanging on the wall,\r\nAnd if one green bottle should accidentally fall,\r\nThere'll be no green bottles hanging on the wall.\r\n```\r\n",
    "hints": ""
  },
  "starter_code": "package bottlesong\r\n\r\nfunc Recite(startBottles, takeDown int) []string {\r\n\tpanic(\"Please implement the Recite function\")\r\n}\r\n",
  "tests": "package bottlesong\r\n\r\nimport (\r\n\t\"fmt\"\r\n\t\"strings\"\r\n\t\"testing\"\r\n\t\"unicode\"\r\n)\r\n\r\nfunc TestRecite(t *testing.T) {\r\n\tfor _, tc := range testCases {\r\n\t\tt.Run(tc.description, func(t *testing.T) {\r\n\t\t\tactual := Recite(tc.input.startBottles, tc.input.takeDown)\r\n\t\t\tif !equal(actual, tc.expected) {\r\n\t\t\t\tt.Errorf(\"Recite(%d, %d) = %q, want: %q\", tc.input.startBottles, tc.input.takeDown, actual, tc.expected)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunc equal(a, b []string) bool {\r\n\tif len(b) != len(a) {\r\n\t\treturn false\r\n\t}\r\n\r\n\tif len(a) == 0 && len(b) == 0 {\r\n\t\treturn true\r\n\t}\r\n\r\n\treturn fmt.Sprintf(\"%v\", a) == fmt.Sprintf(\"%v\", b)\r\n}\r\n\r\n// Title is a copy of strings.Title function of the stdlib.\r\n// The copy is here because strings.Title is deprecated but we still\r\n// want to use this function as the alternative would require us to support\r\n// external dependencies which we don't yet (tracking issue https://github.com/exercism/go/issues/2379).\r\n// Students should still be able to use strings.Title if they want.\r\n// Since this exercise is currently deprecated, this shouldn't matter too much.\r\nfunc Title(s string) string {\r\n\t// Use a closure here to remember state.\r\n\t// Hackish but effective. Depends on Map scanning in order and calling\r\n\t// the closure once per rune.\r\n\tprev := ' '\r\n\treturn strings.Map(\r\n\t\tfunc(r rune) rune {\r\n\t\t\tif isSeparator(prev) {\r\n\t\t\t\tprev = r\r\n\t\t\t\treturn unicode.ToTitle(r)\r\n\t\t\t}\r\n\t\t\tprev = r\r\n\t\t\treturn r\r\n\t\t},\r\n\t\ts)\r\n}\r\n\r\n// Copy of strings.isSeparator function of the stdlib.\r\nfunc isSeparator(r rune) bool {\r\n\t// ASCII alphanumerics and underscore are not separators\r\n\tif r <= 0x7F {\r\n\t\tswitch {\r\n\t\tcase '0' <= r && r <= '9':\r\n\t\t\treturn false\r\n\t\tcase 'a' <= r && r <= 'z':\r\n\t\t\treturn false\r\n\t\tcase 'A' <= r && r <= 'Z':\r\n\t\t\treturn false\r\n\t\tcase r == '_':\r\n\t\t\treturn false\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n\t// Letters and digits are not separators\r\n\tif unicode.IsLetter(r) || unicode.IsDigit(r) {\r\n\t\treturn false\r\n\t}\r\n\t// Otherwise, all we can do for now is treat spaces as separators.\r\n\treturn unicode.IsSpace(r)\r\n}\r\n"
}
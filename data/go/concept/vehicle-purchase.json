{
  "language": "go",
  "slug": "vehicle-purchase",
  "docs": {
    "introduction": "# Introduction\r\n\r\n## Comparison\r\n\r\nIn Go numbers can be compared using the following relational and equality operators.\r\n\r\n| Comparison        | Operator  |\r\n| ------------------| --------- |\r\n| equal             | `==`      |\r\n| not equal         | `!=`      |\r\n| less              | `<`       |\r\n| less or equal     | `<=`      |\r\n| greater           | `>`       |\r\n| greater or equal  | `>=`      |\r\n\r\nThe result of the comparison is always a boolean value, so either `true` or `false`.\r\n\r\n```go\r\na := 3\r\n\r\na != 4 // true\r\na > 5  // false\r\n```\r\n\r\nThe comparison operators above can also be used to compare strings.\r\nIn that case a lexicographical (dictionary) order is applied.\r\nFor example:\r\n\r\n```Go\r\n\t\"apple\" < \"banana\"  // true\r\n\t\"apple\" > \"banana\"  // false\r\n```\r\n\r\n## If Statements\r\n\r\nConditionals in Go are similar to conditionals in other languages.\r\nThe underlying type of any conditional operation is the `bool` type, which can have the value of `true` or `false`.\r\nConditionals are often used as flow control mechanisms to check for various conditions.\r\n\r\nFor checking a particular case an `if` statement can be used, which executes its code if the underlying condition is `true` like this:\r\n\r\n```go\r\nvar value string\r\n\r\nif value == \"val\" {\r\n    return \"was val\"\r\n}\r\n```\r\n\r\nIn scenarios involving more than one case many `if` statements can be chained together using the `else if` and `else` statements.\r\n\r\n```go\r\nvar number int\r\nresult := \"This number is \"\r\n\r\nif number > 0 {\r\n    result += \"positive\"\r\n} else if number < 0 {\r\n    result += \"negative\"\r\n} else {\r\n    result += \"zero\"\r\n}\r\n```\r\n\r\nIf statements can also include a short initialization statement that can be used to initialize one or more variables for the if statement.\r\nFor example:\r\n\r\n```go\r\nnum := 7\r\nif v := 2 * num; v > 10 {\r\n    fmt.Println(v)\r\n} else {\r\n    fmt.Println(num)\r\n}\r\n// Output: 14\r\n```\r\n\r\n> Note: any variables created in the initialization statement go out of scope after the end of the if statement. \r\n\r\n",
    "instructions": "# Instructions\r\n\r\nIn this exercise, you are going to write some code to help you prepare to buy a vehicle.\r\n\r\nYou have three tasks, one to determine if you need a license, one to help you choose between two vehicles and one to estimate the acceptable price for a used vehicle.\r\n\r\n## 1. Determine if you will need a driver's license\r\n\r\nSome vehicle kinds require a driver's license to operate them.\r\nAssume only the kinds `\"car\"` and `\"truck\"` require a license, everything else can be operated without a license.\r\n\r\nImplement the `NeedsLicense(kind)` function that takes the kind of vehicle and returns a boolean indicating whether you need a license for that kind of vehicle.\r\n\r\n```go\r\nneedLicense := NeedsLicense(\"car\")\r\n// => true\r\n\r\nneedLicense = NeedsLicense(\"bike\")\r\n// => false\r\n\r\nneedLicense = NeedsLicense(\"truck\")\r\n// => true\r\n```\r\n\r\n## 2. Choose between two potential vehicles to buy\r\n\r\nYou evaluate your options of available vehicles.\r\nYou manage to narrow it down to two options but you need help making the final decision.\r\nFor that, implement the function `ChooseVehicle(option1, option2)` that takes two vehicles as arguments and returns a decision that includes the option that comes first in lexicographical order.\r\n\r\n```go\r\nvehicle := ChooseVehicle(\"Wuling Hongguang\", \"Toyota Corolla\")\r\n// => \"Toyota Corolla is clearly the better choice.\"\r\n\r\nChooseVehicle(\"Volkswagen Beetle\", \"Volkswagen Golf\")\r\n// => \"Volkswagen Beetle is clearly the better choice.\"\r\n```\r\n\r\n## 3. Calculate an estimation for the price of a used vehicle\r\n\r\nNow that you made a decision, you want to make sure you get a fair price at the dealership.\r\nSince you are interested in buying a used vehicle, the price depends on how old the vehicle is.\r\nFor a rough estimate, assume if the vehicle is less than 3 years old, it costs 80% of the original price it had when it was brand new.\r\nIf it is at least 10 years old, it costs 50%.\r\nIf the vehicle is at least 3 years old but less than 10 years, it costs 70% of the original price.\r\n\r\nImplement the `CalculateResellPrice(originalPrice, age)` function that applies this logic using `if`, `else if` and `else` (there are other ways if you want to practice).\r\nIt takes the original price and the age of the vehicle as arguments and returns the estimated price in the dealership.\r\n\r\n```go\r\nCalculateResellPrice(1000, 1)\r\n// => 800\r\n\r\nCalculateResellPrice(1000, 5)\r\n// => 700\r\n\r\nCalculateResellPrice(1000, 15)\r\n// => 500\r\n```\r\n\r\n**Note** the return value is a `float64`.\r\n",
    "hints": "# Hints\r\n\r\n## 1. Determine if you will need a driver's license\r\n\r\n- Use the [equals comparison operator][comparison-operators] to check whether your input equals a certain string.\r\n- Use one of the two [logical operators][logical-operators] you learned about in the boolean concept to combine the two requirements.\r\n- You do **not** need an if-statement to solve this task. You can return the boolean expression you build directly.\r\n\r\n## 2. Choose between two potential vehicles to buy\r\n\r\n- Use a [comparison operator][comparison-operators] to determine which option comes first in lexicographical order.\r\n- Then set the value of a helper variable depending of the outcome of that comparison with the help of an an [if-else statement][if-statement].\r\n- Finally construct the recommendation sentence. For that you can use the `+` operator to concatenate the two strings.\r\n\r\n## 3. Calculate an estimation for the price of a used vehicle\r\n\r\n- Start with determining the percentage of the original price based on the age of the vehicle. Save it in a helper variable. Use an [if-else if-else statement][if-statement] as mentioned in the instructions.\r\n- In the two if conditions use [comparison operators][comparison-operators] to compare the age of the car to the threshold values.\r\n- To calculate the result, apply the percentage to the original price. For example `30% of x` can be calculated by dividing `30` by `100` and multiplying with `x`.\r\n\r\n[comparison-operators]: https://golang.org/ref/spec#Comparison_operators\r\n[logical-operators]: https://golang.org/ref/spec#Logical_operators\r\n[if-statement]: https://golang.org/ref/spec#If_statements\r\n"
  },
  "starter_code": "package purchase\r\n\r\n// NeedsLicense determines whether a license is needed to drive a type of vehicle. Only \"car\" and \"truck\" require a license.\r\nfunc NeedsLicense(kind string) bool {\r\n\tpanic(\"NeedsLicense not implemented\")\r\n}\r\n\r\n// ChooseVehicle recommends a vehicle for selection. It always recommends the vehicle that comes first in lexicographical order.\r\nfunc ChooseVehicle(option1, option2 string) string {\r\n\tpanic(\"ChooseVehicle not implemented\")\r\n}\r\n\r\n// CalculateResellPrice calculates how much a vehicle can resell for at a certain age.\r\nfunc CalculateResellPrice(originalPrice, age float64) float64 {\r\n\tpanic(\"CalculateResellPrice not implemented\")\r\n}\r\n",
  "tests": "package purchase\r\n\r\nimport (\r\n\t\"math\"\r\n\t\"testing\"\r\n)\r\n\r\nconst floatEqualityThreshold = 1e-5\r\n\r\nfunc TestNeedsLicense(t *testing.T) {\r\n\ttests := []struct {\r\n\t\tname     string\r\n\t\tkind     string\r\n\t\texpected bool\r\n\t}{\r\n\t\t{\r\n\t\t\tname:     \"need a license for a car\",\r\n\t\t\tkind:     \"car\",\r\n\t\t\texpected: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:     \"need a license for a truck\",\r\n\t\t\tkind:     \"truck\",\r\n\t\t\texpected: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:     \"does not need a license for a bike\",\r\n\t\t\tkind:     \"bike\",\r\n\t\t\texpected: false,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:     \"does not need a license for a stroller\",\r\n\t\t\tkind:     \"stroller\",\r\n\t\t\texpected: false,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:     \"does not need a license for a e-scooter\",\r\n\t\t\tkind:     \"e-scooter\",\r\n\t\t\texpected: false,\r\n\t\t},\r\n\t}\r\n\r\n\tfor _, test := range tests {\r\n\t\tt.Run(test.name, func(t *testing.T) {\r\n\t\t\tactual := NeedsLicense(test.kind)\r\n\t\t\tif actual != test.expected {\r\n\t\t\t\tt.Errorf(\r\n\t\t\t\t\t\"NeedsLicense(%q) = %t, want %t\",\r\n\t\t\t\t\ttest.kind,\r\n\t\t\t\t\tactual,\r\n\t\t\t\t\ttest.expected)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunc TestChooseVehicle(t *testing.T) {\r\n\ttests := []struct {\r\n\t\tname     string\r\n\t\tchoice1  string\r\n\t\tchoice2  string\r\n\t\texpected string\r\n\t}{\r\n\t\t{\r\n\t\t\tname:     \"chooses Bugatti over Ford\",\r\n\t\t\tchoice1:  \"Bugatti Veyron\",\r\n\t\t\tchoice2:  \"Ford Pinto\",\r\n\t\t\texpected: \"Bugatti Veyron is clearly the better choice.\",\r\n\t\t}, {\r\n\t\t\tname:     \"chooses Chery over Kia\",\r\n\t\t\tchoice1:  \"Chery EQ\",\r\n\t\t\tchoice2:  \"Kia Niro Elektro\",\r\n\t\t\texpected: \"Chery EQ is clearly the better choice.\",\r\n\t\t}, {\r\n\t\t\tname:     \"chooses Ford Focus over Ford Pinto\",\r\n\t\t\tchoice1:  \"Ford Focus\",\r\n\t\t\tchoice2:  \"Ford Pinto\",\r\n\t\t\texpected: \"Ford Focus is clearly the better choice.\",\r\n\t\t}, {\r\n\t\t\tname:     \"chooses 2018 over 2020\",\r\n\t\t\tchoice1:  \"2018 Bergamont City\",\r\n\t\t\tchoice2:  \"2020 Gazelle Medeo\",\r\n\t\t\texpected: \"2018 Bergamont City is clearly the better choice.\",\r\n\t\t}, {\r\n\t\t\tname:     \"chooses Bugatti over ford\",\r\n\t\t\tchoice1:  \"Bugatti Veyron\",\r\n\t\t\tchoice2:  \"ford\",\r\n\t\t\texpected: \"Bugatti Veyron is clearly the better choice.\",\r\n\t\t},\r\n\t}\r\n\r\n\tfor _, test := range tests {\r\n\t\tt.Run(test.name, func(t *testing.T) {\r\n\t\t\tactual := ChooseVehicle(test.choice1, test.choice2)\r\n\t\t\tif actual != test.expected {\r\n\t\t\t\tt.Errorf(\r\n\t\t\t\t\t\"ChooseVehicle(%q, %q) = %q, want %q\",\r\n\t\t\t\t\ttest.choice1,\r\n\t\t\t\t\ttest.choice2,\r\n\t\t\t\t\tactual,\r\n\t\t\t\t\ttest.expected)\r\n\t\t\t}\r\n\r\n\t\t\t// The result should be independent of the order in which the choices are given.\r\n\t\t\tactual = ChooseVehicle(test.choice2, test.choice1)\r\n\t\t\tif actual != test.expected {\r\n\t\t\t\tt.Errorf(\r\n\t\t\t\t\t\"ChooseVehicle(%q, %q) = %q, want %q\",\r\n\t\t\t\t\ttest.choice2,\r\n\t\t\t\t\ttest.choice1,\r\n\t\t\t\t\tactual,\r\n\t\t\t\t\ttest.expected)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunc TestCalculateResellPrice(t *testing.T) {\r\n\ttests := []struct {\r\n\t\tname          string\r\n\t\toriginalPrice float64\r\n\t\tage           float64\r\n\t\texpected      float64\r\n\t}{\r\n\t\t{\r\n\t\t\tname:          \"price is reduced to 80% for age below 3\",\r\n\t\t\toriginalPrice: 40000,\r\n\t\t\tage:           2,\r\n\t\t\texpected:      32000,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:          \"price is reduced to 80% for age below 3\",\r\n\t\t\toriginalPrice: 40000,\r\n\t\t\tage:           2.5,\r\n\t\t\texpected:      32000,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:          \"price is reduced to 70% for age 3\",\r\n\t\t\toriginalPrice: 40000,\r\n\t\t\tage:           3,\r\n\t\t\texpected:      28000,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:          \"price is reduced to 70% for age 7\",\r\n\t\t\toriginalPrice: 40000,\r\n\t\t\tage:           7,\r\n\t\t\texpected:      28000,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:          \"price is reduced to 50% for age 10\",\r\n\t\t\toriginalPrice: 25000,\r\n\t\t\tage:           10,\r\n\t\t\texpected:      12500,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:          \"price is reduced to 50% for age 11\",\r\n\t\t\toriginalPrice: 50000,\r\n\t\t\tage:           11,\r\n\t\t\texpected:      25000,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:          \"float price is reduced to 70% for age 8,\",\r\n\t\t\toriginalPrice: 39000.000001,\r\n\t\t\tage:           8,\r\n\t\t\texpected:      27300.0000007,\r\n\t\t},\r\n\t}\r\n\r\n\tfor _, test := range tests {\r\n\t\tt.Run(test.name, func(t *testing.T) {\r\n\t\t\tactual := CalculateResellPrice(test.originalPrice, test.age)\r\n\t\t\tif !floatingPointEquals(actual, test.expected) {\r\n\t\t\t\tt.Errorf(\r\n\t\t\t\t\t\"CalculateResellPrice(%v, %v) = %v, want %v\",\r\n\t\t\t\t\ttest.originalPrice,\r\n\t\t\t\t\ttest.age,\r\n\t\t\t\t\tactual,\r\n\t\t\t\t\ttest.expected)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunc floatingPointEquals(got, want float64) bool {\r\n\tabsoluteDifferenceBelowThreshold := math.Abs(got-want) <= floatEqualityThreshold\r\n\trelativeDifferenceBelowThreshold := math.Abs(got-want)/(math.Abs(got)+math.Abs(want)) <= floatEqualityThreshold\r\n\treturn absoluteDifferenceBelowThreshold || relativeDifferenceBelowThreshold\r\n}\r\n"
}
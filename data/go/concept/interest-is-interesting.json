{
  "language": "go",
  "slug": "interest-is-interesting",
  "docs": {
    "introduction": "# Introduction\r\n\r\nA floating-point number is a number with zero or more digits behind the decimal separator. Examples are `-2.4`, `0.1`, `3.14`, `16.984025` and `1024.0`.\r\n\r\nDifferent floating-point types can store different numbers of digits after the digit separator - this is referred to as its precision.\r\n\r\nGo has two floating-point types:\r\n\r\n- `float32`: 32 bits (~6-9 digits precision).\r\n- `float64`: 64 bits (~15-17 digits precision). This is the default floating-point type.\r\n\r\nAs can be seen, both types can store a different number of digits. This means that trying to store PI in a `float32` will only store the first 6 to 9 digits (with the last digit being rounded).\r\n\r\nBy default, Go will use `float64` for floating-point numbers, unless the floating-point number is:\r\n\r\n1. assigned to a variable with type `float32`, or\r\n2. returned from a function with return type `float32`, or\r\n3. passed as an argument to the `float32()` function.\r\n\r\nThe `math` package contains many helpful mathematical functions.\r\n",
    "instructions": "# Instructions\r\n\r\nIn this exercise you'll be working with savings accounts.\r\nEach year, the balance of your savings account is updated based on its interest rate.\r\nThe interest rate your bank gives you depends on the amount of money in your account (its balance):\r\n\r\n- 3.213% for a balance less than `0` dollars (balance gets more negative).\r\n- 0.5% for a balance greater than or equal to `0` dollars, and less than `1000` dollars.\r\n- 1.621% for a balance greater than or equal to `1000` dollars, and less than `5000` dollars.\r\n- 2.475% for a balance greater than or equal to `5000` dollars.\r\n\r\nYou have four tasks, each of which will deal your balance and its interest rate.\r\n\r\n## 1. Calculate the interest rate\r\n\r\nImplement the `InterestRate()` function to calculate the interest rate based on the specified balance:\r\n\r\n```go\r\nInterestRate(200.75)\r\n// => 0.5\r\n```\r\n\r\nNote that the value returned is a `float32`.\r\n\r\n## 2. Calculate the interest\r\n\r\nImplement the `Interest()` function to calculate the interest based on the specified balance:\r\n\r\n```go\r\nInterest(200.75)\r\n// => 1.003750\r\n```\r\n\r\nNote that the value returned is a `float64`.\r\n\r\n## 3. Calculate the annual balance update\r\n\r\nImplement the `AnnualBalanceUpdate()` function to calculate the annual balance update, taking into account the interest rate:\r\n\r\n```go\r\nAnnualBalanceUpdate(200.75)\r\n// => 201.75375\r\n```\r\n\r\nNote that the value returned is a `float64`.\r\n\r\n## 4. Calculate the years before reaching the desired balance\r\n\r\nImplement the `YearsBeforeDesiredBalance()` function to calculate the minimum number of years required to reach the desired balance, taking into account that each year, interest is added to the balance.\r\nThis means that the balance after one year is: start balance + interest for start balance.\r\nThe balance after the second year is: balance after one year + interest for balance after one year.\r\nAnd so on, until the current year's balance is greater than or equal to the target balance.\r\n\r\n```go\r\nbalance := 200.75\r\ntargetBalance := 214.88\r\nYearsBeforeDesiredBalance(balance, targetBalance)\r\n// => 14\r\n```\r\n\r\nNote that the value returned is an `int`.\r\n",
    "hints": "# Hints\r\n\r\n## 1. Calculate the interest rate\r\n\r\n- By default, any floating-point number defined in Go code is treated as a `float64`.\r\n  As the return type of the `InterestRate` function is `float32`, you don't need to do any type conversions.\r\n\r\n## 2. Calculate the interest\r\n\r\n- When calculating interest, it might be helpful to notice that `InterestRate` returns a percentage.\r\n- You can use the function defined in the previous task (`InterestRate`) to calculate the interest.\r\n- You might need to convert the result `InterestRate` to a `float64`.\r\n\r\n## 3. Calculate the annual balance update\r\n\r\n- When calculating the annual balance update, use the functions that have been defined in the previous steps.\r\n\r\n## 4. Calculate the years before reaching the desired balance\r\n\r\n- To calculate the years, one can keep looping until the desired balance is reached using a [`for` loop](https://gobyexample.com/for).\r\n- There is a special [operator](https://golang.org/ref/spec#IncDec_statements) to increment values by 1.\r\n"
  },
  "starter_code": "package interest\r\n\r\n// InterestRate returns the interest rate for the provided balance.\r\nfunc InterestRate(balance float64) float32 {\r\n\tpanic(\"Please implement the InterestRate function\")\r\n}\r\n\r\n// Interest calculates the interest for the provided balance.\r\nfunc Interest(balance float64) float64 {\r\n\tpanic(\"Please implement the Interest function\")\r\n}\r\n\r\n// AnnualBalanceUpdate calculates the annual balance update, taking into account the interest rate.\r\nfunc AnnualBalanceUpdate(balance float64) float64 {\r\n\tpanic(\"Please implement the AnnualBalanceUpdate function\")\r\n}\r\n\r\n// YearsBeforeDesiredBalance calculates the minimum number of years required to reach the desired balance.\r\nfunc YearsBeforeDesiredBalance(balance, targetBalance float64) int {\r\n\tpanic(\"Please implement the YearsBeforeDesiredBalance function\")\r\n}\r\n",
  "tests": "package interest\r\n\r\nimport (\r\n\t\"math\"\r\n\t\"testing\"\r\n)\r\n\r\nconst floatEqualityThreshold = 1e-5\r\n\r\nfunc floatingPointEquals(got, want float64) bool {\r\n\tabsoluteDifferenceBelowThreshold := math.Abs(got-want) <= floatEqualityThreshold\r\n\trelativeDifferenceBelowThreshold := math.Abs(got-want)/(math.Abs(got)+math.Abs(want)) <= floatEqualityThreshold\r\n\treturn absoluteDifferenceBelowThreshold || relativeDifferenceBelowThreshold\r\n}\r\n\r\nfunc TestInterestRate(t *testing.T) {\r\n\ttests := []struct {\r\n\t\tname    string\r\n\t\tbalance float64\r\n\t\twant    float32\r\n\t}{\r\n\t\t{\r\n\t\t\tname:    \"Minimal first interest rate\",\r\n\t\t\tbalance: 0,\r\n\t\t\twant:    float32(0.5),\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Tiny first interest rate\",\r\n\t\t\tbalance: 0.000001,\r\n\t\t\twant:    float32(0.5),\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Maximum first interest rate\",\r\n\t\t\tbalance: 999.9999,\r\n\t\t\twant:    float32(0.5),\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Minimal second interest rate\",\r\n\t\t\tbalance: 1000.0,\r\n\t\t\twant:    float32(1.621),\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Tiny second interest rate\",\r\n\t\t\tbalance: 1000.0001,\r\n\t\t\twant:    float32(1.621),\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Maximum second interest rate\",\r\n\t\t\tbalance: 4999.9990,\r\n\t\t\twant:    float32(1.621),\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Minimal third interest rate\",\r\n\t\t\tbalance: 5000.0000,\r\n\t\t\twant:    float32(2.475),\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Tiny third interest rate\",\r\n\t\t\tbalance: 5000.0001,\r\n\t\t\twant:    float32(2.475),\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Large third interest rate\",\r\n\t\t\tbalance: 5639998.742909,\r\n\t\t\twant:    float32(2.475),\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Rate on minimal negative balance\",\r\n\t\t\tbalance: -0.000001,\r\n\t\t\twant:    float32(3.213),\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Rate on small negative balance\",\r\n\t\t\tbalance: -0.123,\r\n\t\t\twant:    float32(3.213),\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Rate on regular negative balance\",\r\n\t\t\tbalance: -300.0,\r\n\t\t\twant:    float32(3.213),\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Rate on large negative balance\",\r\n\t\t\tbalance: -152964.231,\r\n\t\t\twant:    float32(3.213),\r\n\t\t},\r\n\t}\r\n\r\n\tfor _, tt := range tests {\r\n\t\tt.Run(tt.name, func(t *testing.T) {\r\n\t\t\tgot := InterestRate(tt.balance)\r\n\t\t\tif !floatingPointEquals(float64(got), float64(tt.want)) {\r\n\t\t\t\tt.Errorf(\r\n\t\t\t\t\t\"InterestRate(%f) = %f, want %f\",\r\n\t\t\t\t\ttt.balance,\r\n\t\t\t\t\tgot,\r\n\t\t\t\t\ttt.want,\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunc TestInterest(t *testing.T) {\r\n\ttests := []struct {\r\n\t\tname    string\r\n\t\tbalance float64\r\n\t\twant    float64\r\n\t}{\r\n\t\t{\r\n\t\t\tname:    \"Interest on negative balance\",\r\n\t\t\tbalance: -10000.0,\r\n\t\t\twant:    -321.3,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Interest on small balance\",\r\n\t\t\tbalance: 555.55,\r\n\t\t\twant:    2.77775,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Interest on medium balance\",\r\n\t\t\tbalance: 4999.99,\r\n\t\t\twant:    81.0498379,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Interest on large balance\",\r\n\t\t\tbalance: 34600.80,\r\n\t\t\twant:    856.369767,\r\n\t\t},\r\n\t}\r\n\r\n\tfor _, tt := range tests {\r\n\t\tt.Run(tt.name, func(t *testing.T) {\r\n\t\t\tgot := Interest(tt.balance)\r\n\t\t\tif !floatingPointEquals(got, tt.want) {\r\n\t\t\t\tt.Errorf(\r\n\t\t\t\t\t\"Interest(%f) = %f, want %f\",\r\n\t\t\t\t\ttt.balance,\r\n\t\t\t\t\tgot,\r\n\t\t\t\t\ttt.want,\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunc TestAnnualBalanceUpdate(t *testing.T) {\r\n\ttests := []struct {\r\n\t\tname    string\r\n\t\tbalance float64\r\n\t\twant    float64\r\n\t}{\r\n\t\t{\r\n\t\t\tname:    \"Annual balance update for empty start balance\",\r\n\t\t\tbalance: 0.0,\r\n\t\t\twant:    0.0000,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Annual balance update for small positive start balance\",\r\n\t\t\tbalance: 0.000001,\r\n\t\t\twant:    0.000001005,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Annual balance update for average positive start balance\",\r\n\t\t\tbalance: 1000.0,\r\n\t\t\twant:    1016.210000,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Annual balance update for large positive start balance\",\r\n\t\t\tbalance: 1000.0001,\r\n\t\t\twant:    1016.210101621,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Annual balance update for huge positive start balance\",\r\n\t\t\tbalance: 898124017.826243404425,\r\n\t\t\twant:    920352586.410925,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Annual balance update for small negative start balance\",\r\n\t\t\tbalance: -0.123,\r\n\t\t\twant:    -0.12695199,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:    \"Annual balance update for large negative start balance\",\r\n\t\t\tbalance: -152964.231,\r\n\t\t\twant:    -157878.971832,\r\n\t\t},\r\n\t}\r\n\r\n\tfor _, tt := range tests {\r\n\t\tt.Run(tt.name, func(t *testing.T) {\r\n\t\t\tgot := AnnualBalanceUpdate(tt.balance)\r\n\t\t\tif !floatingPointEquals(got, tt.want) {\r\n\t\t\t\tt.Errorf(\r\n\t\t\t\t\t\"AnnualBalanceUpdate(%f) = %f, want %f\",\r\n\t\t\t\t\ttt.balance,\r\n\t\t\t\t\tgot,\r\n\t\t\t\t\ttt.want,\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunc TestYearsBeforeDesiredBalance(t *testing.T) {\r\n\ttests := []struct {\r\n\t\tname          string\r\n\t\tbalance       float64\r\n\t\ttargetBalance float64\r\n\t\twant          int\r\n\t}{\r\n\t\t{\r\n\t\t\tname:          \"Years before desired balance for small start balance\",\r\n\t\t\tbalance:       100.0,\r\n\t\t\ttargetBalance: 125.80,\r\n\t\t\twant:          47,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:          \"Years before desired balance for average start balance\",\r\n\t\t\tbalance:       1000.0,\r\n\t\t\ttargetBalance: 1100.0,\r\n\t\t\twant:          6,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:          \"Years before desired balance for large start balance\",\r\n\t\t\tbalance:       8080.80,\r\n\t\t\ttargetBalance: 9090.90,\r\n\t\t\twant:          5,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:          \"Years before large difference between start and target balance\",\r\n\t\t\tbalance:       2345.67,\r\n\t\t\ttargetBalance: 12345.6789,\r\n\t\t\twant:          85,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:          \"Balance is already above target\",\r\n\t\t\tbalance:       2345.67,\r\n\t\t\ttargetBalance: 2345.0,\r\n\t\t\twant:          0,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:          \"Balance is exactly same as target\",\r\n\t\t\tbalance:       2345.0,\r\n\t\t\ttargetBalance: 2345.0,\r\n\t\t\twant:          0,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:          \"Result balance would be exactly same as target\",\r\n\t\t\tbalance:       1000.0,\r\n\t\t\ttargetBalance: 1032.682765146664,\r\n\t\t\twant:          2,\r\n\t\t},\r\n\t}\r\n\r\n\tfor _, tt := range tests {\r\n\t\tt.Run(tt.name, func(t *testing.T) {\r\n\t\t\tgot := YearsBeforeDesiredBalance(tt.balance, tt.targetBalance)\r\n\t\t\tif got != tt.want {\r\n\t\t\t\tt.Errorf(\r\n\t\t\t\t\t\"YearsBeforeDesiredBalance(%f, %f) = %d, want %d\",\r\n\t\t\t\t\ttt.balance,\r\n\t\t\t\t\ttt.targetBalance,\r\n\t\t\t\t\tgot,\r\n\t\t\t\t\ttt.want,\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n"
}